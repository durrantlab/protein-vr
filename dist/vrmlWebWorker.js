(function(){'use strict';(function(x){function k(c){if(q[c])return q[c].a;var g=q[c]={m:c,f:!1,a:{}};x[c].call(g.a,g,g.a,k);g.f=!0;return g.a}var q={};k.l=x;k.g=q;k.d=function(c,g,r){k.c(c,g)||Object.defineProperty(c,g,{enumerable:!0,get:r})};k.r=function(c){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})};k.j=function(c,g){g&1&&(c=k(c));if(g&8)return c;if(g&4&&"object"===typeof c&&c&&c.b)return c;var r=
Object.create(null);k.r(r);Object.defineProperty(r,"default",{enumerable:!0,value:c});if(g&2&&"string"!=typeof c)for(var v in c)k.d(r,v,function(t){return c[t]}.bind(null,v));return r};k.h=function(c){var g=c&&c.b?function(){return c["default"]}:function(){return c};k.d(g,"a",g);return g};k.c=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)};k.i="";return k(k.o=0)})([function(x,k,q){function c(a,d){void 0===d&&(d=!1);var e=[],b=a.split("geometry IndexedFaceSet {").splice(1),l=b.length;
for(a=0;a<l;a++){var f=b[a];var m=t("point [","]",f).match(y);for(var n=m.length,p=new Float32Array(n),h=0;h<n;h+=3)p[h]=+m[h+2],p[h+1]=+m[h+1],p[h+2]=+m[h];m=p;d&&(m=g(m));e.push({colors:r(t("color [","]",f)),coors:m,trisIdxs:v(t("coordIndex [","]",f))})}void 0===z&&(z=C(e));a=z;d=e.length;for(b=0;b<d;b++)for(l=e[b].coors.length,f=0;f<l;f+=3)e[b].coors[f]-=a[0],e[b].coors[f+1]-=a[1],e[b].coors[f+2]-=a[2];if(A){w=[];d=["colors","coors","trisIdxs"];b=d.length;l=e.length;for(f=0;f<l;f++)for(a=0;a<b;a++){m=
d[a];n=e[f][m];p=[];h=0;for(var u=n.length;h<u;)p.push(n.slice(h,h+=1E7));n=p;p=n.length;for(h=0;h<p;h++)w.push([f,m,n[h]])}return[]}return e}function g(a){for(var d=a[0],e=a[1],b=a[2],l=a.length,f=0;f<l;f+=3){var m=f+1,n=f+2;0===a[f]&&0===a[m]&&0===a[n]&&(a[f]=d,a[m]=e,a[n]=b)}return a}function r(a){a=a.match(y);for(var d=new Float32Array(4*a.length/3),e=d.length,b=0;b<e;b+=4){var l=3*b/4;d[b]=+a[l];d[b+1]=+a[l+1];d[b+2]=+a[l+2];d[b+3]=1}return d}function v(a){a=a.match(y);for(var d=3*a.length/4,
e=new Uint32Array(d),b=0;b<d;b+=3){var l=4*b/3;e[b]=+a[l];e[b+1]=+a[l+1];e[b+2]=+a[l+2]}return e}function t(a,d,e){a=e.split(a,2);if(1>=a.length)return"";a=a[1].split(d,2);return a[0]}function C(a){if(0===a.length)return new Float32Array([0,0,0]);var d=a.map(function(u){return u.coors.length}).reduce(function(u,D){return u+D});if(0===d)return new Float32Array([0,0,0]);for(var e=0,b=0,l=0,f=a.length,m=0;m<f;m++)for(var n=a[m].coors,p=n.length,h=0;h<p;h+=3)e+=n[h],b+=n[h+1],l+=n[h+2];a=d/3;return new Float32Array([e/
a,b/a,l/a])}q.r(k);q.d(k,"loadValsFromVRML",function(){return c});q.d(k,"removeStrayPoints",function(){return g});var B=self,w=[],y=/(^|-| )[0-9.]{1,8}/g,z=void 0,A=!1;"undefined"!==typeof WorkerGlobalScope&&B instanceof WorkerGlobalScope&&(A=!0);A&&(B.onmessage=function(a){var d=a.data.cmd,e=a.data.data;a=a.data.removeExtraPts;"start"===d&&(c(e,a),d="sendDataChunk");"sendDataChunk"===d&&(d=w.shift(),e=0===w.length?"done":"more",void 0===d&&(e="done"),B.postMessage({chunk:d,status:e}))})}]);}).call(this || window)
