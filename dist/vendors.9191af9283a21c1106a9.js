/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 jQuery JavaScript Library v3.4.1
 https://jquery.com/

 Includes Sizzle.js
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://jquery.org/license

 Date: 2019-05-01T21:04Z
 Sizzle CSS Selector Engine v2.3.4
 https://sizzlejs.com/

 Copyright JS Foundation and other contributors
 Released under the MIT license
 https://js.foundation/

 Date: 2019-04-08
 Bootstrap v4.3.1 (https://getbootstrap.com/)
 Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(x){var da=0;return function(){return da<x.length?{done:!1,value:x[da++]}:{done:!0}}};$jscomp.arrayIterator=function(x){return{next:$jscomp.arrayIteratorImpl(x)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(x,da,F){x!=Array.prototype&&x!=Object.prototype&&(x[da]=F.value)};$jscomp.getGlobal=function(x){return"undefined"!=typeof window&&window===x?x:"undefined"!=typeof global&&null!=global?global:x};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(x,da){this.$jscomp$symbol$id_=x;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:da})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function x(F){if(this instanceof x)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(F||"")+"_"+da++,F)}var da=0;return x}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var x=$jscomp.global.Symbol.iterator;x||(x=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[x]&&$jscomp.defineProperty(Array.prototype,x,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var x=$jscomp.global.Symbol.asyncIterator;x||(x=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(x){$jscomp.initSymbolIterator();x={next:x};x[$jscomp.global.Symbol.iterator]=function(){return this};return x};
$jscomp.makeIterator=function(x){var da="undefined"!=typeof Symbol&&Symbol.iterator&&x[Symbol.iterator];return da?da.call(x):$jscomp.arrayIterator(x)};$jscomp.polyfill=function(x,da,F,ha){if(da){F=$jscomp.global;x=x.split(".");for(ha=0;ha<x.length-1;ha++){var l=x[ha];l in F||(F[l]={});F=F[l]}x=x[x.length-1];ha=F[x];da=da(ha);da!=ha&&null!=da&&$jscomp.defineProperty(F,x,{configurable:!0,writable:!0,value:da})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(x){function da(){this.batch_=null}function F(x){return x instanceof l?x:new l(function(b,l){b(x)})}if(x&&!$jscomp.FORCE_POLYFILL_PROMISE)return x;da.prototype.asyncExecute=function(l){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(l)};var ha=$jscomp.global.setTimeout;da.prototype.asyncExecuteFunction=function(l){ha(l,0)};da.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=
this.batch_;this.batch_=[];for(var b=0;b<l.length;++b){var x=l[b];l[b]=null;try{x()}catch(a){this.asyncThrow_(a)}}}this.batch_=null};da.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l;})};var l=function(l){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{l(b.resolve,b.reject)}catch(Ca){b.reject(Ca)}};l.prototype.createResolveAndReject_=function(){function l(a){return function(c){x||(x=!0,a.call(b,c))}}var b=this,
x=!1;return{resolve:l(this.resolveTo_),reject:l(this.reject_)}};l.prototype.resolveTo_=function(x){if(x===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(x instanceof l)this.settleSameAsPromise_(x);else{a:switch(typeof x){case "object":var b=null!=x;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(x):this.fulfill_(x)}};l.prototype.resolveToNonPromiseObj_=function(l){var b=void 0;try{b=l.then}catch(Ca){this.reject_(Ca);return}"function"==
typeof b?this.settleSameAsThenable_(b,l):this.fulfill_(l)};l.prototype.reject_=function(l){this.settle_(2,l)};l.prototype.fulfill_=function(l){this.settle_(1,l)};l.prototype.settle_=function(l,b){if(0!=this.state_)throw Error("Cannot settle("+l+", "+b+"): Promise already settled in state"+this.state_);this.state_=l;this.result_=b;this.executeOnSettledCallbacks_()};l.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var l=0;l<this.onSettledCallbacks_.length;++l)za.asyncExecute(this.onSettledCallbacks_[l]);
this.onSettledCallbacks_=null}};var za=new da;l.prototype.settleSameAsPromise_=function(l){var b=this.createResolveAndReject_();l.callWhenSettled_(b.resolve,b.reject)};l.prototype.settleSameAsThenable_=function(l,b){var x=this.createResolveAndReject_();try{l.call(b,x.resolve,x.reject)}catch(a){x.reject(a)}};l.prototype.then=function(x,b){function da(b,e){return"function"==typeof b?function(e){try{a(b(e))}catch(h){c(h)}}:e}var a,c,e=new l(function(b,e){a=b;c=e});this.callWhenSettled_(da(x,a),da(b,
c));return e};l.prototype.catch=function(l){return this.then(void 0,l)};l.prototype.callWhenSettled_=function(l,b){function x(){switch(a.state_){case 1:l(a.result_);break;case 2:b(a.result_);break;default:throw Error("Unexpected state: "+a.state_);}}var a=this;null==this.onSettledCallbacks_?za.asyncExecute(x):this.onSettledCallbacks_.push(x)};l.resolve=F;l.reject=function(x){return new l(function(b,l){l(x)})};l.race=function(x){return new l(function(b,l){for(var a=$jscomp.makeIterator(x),c=a.next();!c.done;c=
a.next())F(c.value).callWhenSettled_(b,l)})};l.all=function(x){var b=$jscomp.makeIterator(x),da=b.next();return da.done?F([]):new l(function(a,c){function e(b){return function(c){k[b]=c;H--;0==H&&a(k)}}var k=[],H=0;do k.push(void 0),H++,F(da.value).callWhenSettled_(e(k.length-1),c),da=b.next();while(!da.done)})};return l},"es6","es3");$jscomp.owns=function(x,da){return Object.prototype.hasOwnProperty.call(x,da)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(x,da){for(var F=1;F<arguments.length;F++){var ha=arguments[F];if(ha)for(var l in ha)$jscomp.owns(ha,l)&&(x[l]=ha[l])}return x};$jscomp.polyfill("Object.assign",function(x){return x||$jscomp.assign},"es6","es3");
$jscomp.iteratorFromArray=function(x,da){$jscomp.initSymbolIterator();x instanceof String&&(x+="");var F=0,ha={next:function(){if(F<x.length){var l=F++;return{value:da(l,x[l]),done:!1}}ha.next=function(){return{done:!0,value:void 0}};return ha.next()}};ha[Symbol.iterator]=function(){return ha};return ha};$jscomp.polyfill("Array.prototype.keys",function(x){return x?x:function(){return $jscomp.iteratorFromArray(this,function(x){return x})}},"es6","es3");
$jscomp.findInternal=function(x,da,F){x instanceof String&&(x=String(x));for(var ha=x.length,l=0;l<ha;l++){var za=x[l];if(da.call(F,za,l,x))return{i:l,v:za}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(x){return x?x:function(x,F){return $jscomp.findInternal(this,x,F).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(x){return x?x:function(x,F,ha){var l=this.length||0;0>F&&(F=Math.max(0,l+F));if(null==ha||ha>l)ha=l;ha=Number(ha);0>ha&&(ha=Math.max(0,l+ha));for(F=Number(F||0);F<ha;F++)this[F]=x;return this}},"es6","es3");
$jscomp.checkStringArgs=function(x,da,F){if(null==x)throw new TypeError("The 'this' value for String.prototype."+F+" must not be null or undefined");if(da instanceof RegExp)throw new TypeError("First argument to String.prototype."+F+" must not be a regular expression");return x+""};
$jscomp.polyfill("String.prototype.startsWith",function(x){return x?x:function(x,F){var da=$jscomp.checkStringArgs(this,x,"startsWith");x+="";var l=da.length,za=x.length;F=Math.max(0,Math.min(F|0,da.length));for(var La=0;La<za&&F<l;)if(da[F++]!=x[La++])return!1;return La>=za}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(x){return x?x:function(x,F){var da=$jscomp.checkStringArgs(this,x,"endsWith");x+="";void 0===F&&(F=da.length);F=Math.max(0,Math.min(F|0,da.length));for(var l=x.length;0<l&&0<F;)if(da[--F]!=x[--l])return!1;return 0>=l}},"es6","es3");
$jscomp.polyfill("String.prototype.repeat",function(x){return x?x:function(x){var da=$jscomp.checkStringArgs(this,null,"repeat");if(0>x||1342177279<x)throw new RangeError("Invalid count value");x|=0;for(var ha="";x;)if(x&1&&(ha+=da),x>>>=1)da+=da;return ha}},"es6","es3");$jscomp.polyfill("Object.is",function(x){return x?x:function(x,F){return x===F?0!==x||1/x===1/F:x!==x&&F!==F}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(x){return x?x:function(x,F){var da=this;da instanceof String&&(da=String(da));var l=da.length;F=F||0;for(0>F&&(F=Math.max(F+l,0));F<l;F++){var za=da[F];if(za===x||Object.is(za,x))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(x){return x?x:function(x,F){return-1!==$jscomp.checkStringArgs(this,x,"includes").indexOf(x,F||0)}},"es6","es3");
$jscomp.polyfill("Number.isFinite",function(x){return x?x:function(x){return"number"!==typeof x?!1:!isNaN(x)&&Infinity!==x&&-Infinity!==x}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(x){return x?x:function(x){return Number.isFinite(x)?x===Math.floor(x):!1}},"es6","es3");
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"8L3F":function(x,da,F){F.r(da);(function(x){function l(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1;a()}))}}function F(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},ta))}}function ha(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function b(a,b){if(1!==a.nodeType)return[];a=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?a[b]:a}function Ca(a){return"HTML"===
a.nodeName?a:a.parentNode||a.host}function a(c){if(!c)return document.body;switch(c.nodeName){case "HTML":case "BODY":return c.ownerDocument.body;case "#document":return c.body}var d=b(c);return/(auto|scroll|overlay)/.test(d.overflow+d.overflowY+d.overflowX)?c:a(Ca(c))}function c(a){return 11===a?W:10===a?na:W||na}function e(a){if(!a)return document.documentElement;for(var d=c(10)?document.body:null,f=a.offsetParent||null;f===d&&a.nextElementSibling;)f=(a=a.nextElementSibling).offsetParent;return(d=
f&&f.nodeName)&&"BODY"!==d&&"HTML"!==d?-1!==["TH","TD","TABLE"].indexOf(f.nodeName)&&"static"===b(f,"position")?e(f):f:a?a.ownerDocument.documentElement:document.documentElement}function k(a){return null!==a.parentNode?k(a.parentNode):a}function H(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return document.documentElement;var c=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,d=c?a:b,f=c?b:a;c=document.createRange();c.setStart(d,0);c.setEnd(f,0);c=c.commonAncestorContainer;if(a!==c&&b!==
c||d.contains(f))return a=c.nodeName,a="BODY"===a?!1:"HTML"===a||e(c.firstElementChild)===c,a?c:e(c);d=k(a);return d.host?H(d.host,b):H(a,k(b).host)}function r(a){var b="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",c=a.nodeName;return"BODY"===c||"HTML"===c?(c=a.ownerDocument.documentElement,(a.ownerDocument.scrollingElement||c)[b]):a[b]}function h(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,d=r(b,"top"),f=r(b,"left");c=c?-1:
1;a.top+=d*c;a.bottom+=d*c;a.left+=f*c;a.right+=f*c;return a}function v(a,b){b="x"===b?"Left":"Top";var c="Left"===b?"Right":"Bottom";return parseFloat(a["border"+b+"Width"],10)+parseFloat(a["border"+c+"Width"],10)}function w(a,b,d,f){return Math.max(b["offset"+a],b["scroll"+a],d["client"+a],d["offset"+a],d["scroll"+a],c(10)?parseInt(d["offset"+a])+parseInt(f["margin"+("Height"===a?"Top":"Left")])+parseInt(f["margin"+("Height"===a?"Bottom":"Right")]):0)}function E(a){var b=a.body;a=a.documentElement;
var d=c(10)&&getComputedStyle(a);return{height:w("Height",b,a,d),width:w("Width",b,a,d)}}function A(a){return fa({},a,{right:a.left+a.width,bottom:a.top+a.height})}function q(a){var d={};try{if(c(10)){d=a.getBoundingClientRect();var f=r(a,"top"),g=r(a,"left");d.top+=f;d.left+=g;d.bottom+=f;d.right+=g}else d=a.getBoundingClientRect()}catch(Ib){}d={left:d.left,top:d.top,width:d.right-d.left,height:d.bottom-d.top};g="HTML"===a.nodeName?E(a.ownerDocument):{};f=a.offsetWidth-(g.width||a.clientWidth||d.right-
d.left);g=a.offsetHeight-(g.height||a.clientHeight||d.bottom-d.top);if(f||g)a=b(a),f-=v(a,"x"),g-=v(a,"y"),d.width-=f,d.height-=g;return A(d)}function d(d,f){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=c(10),m="HTML"===f.nodeName,p=q(d),ra=q(f),k=a(d),z=b(f),D=parseFloat(z.borderTopWidth,10),u=parseFloat(z.borderLeftWidth,10);g&&m&&(ra.top=Math.max(ra.top,0),ra.left=Math.max(ra.left,0));p=A({top:p.top-ra.top-D,left:p.left-ra.left-u,width:p.width,height:p.height});p.marginTop=
0;p.marginLeft=0;!e&&m&&(m=parseFloat(z.marginTop,10),z=parseFloat(z.marginLeft,10),p.top-=D-m,p.bottom-=D-m,p.left-=u-z,p.right-=u-z,p.marginTop=m,p.marginLeft=z);if(e&&!g?f.contains(k):f===k&&"BODY"!==k.nodeName)p=h(p,f);return p}function f(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=a.ownerDocument.documentElement,f=d(a,c),g=Math.max(c.clientWidth,window.innerWidth||0),p=Math.max(c.clientHeight,window.innerHeight||0),m=b?0:r(c);b=b?0:r(c,"left");return A({top:m-f.top+f.marginTop,
left:b-f.left+f.marginLeft,width:g,height:p})}function C(a){var c=a.nodeName;return"BODY"===c||"HTML"===c?!1:"fixed"===b(a,"position")?!0:(a=Ca(a))?C(a):!1}function g(a){if(!a||!a.parentElement||c())return document.documentElement;for(a=a.parentElement;a&&"none"===b(a,"transform");)a=a.parentElement;return a||document.documentElement}function L(b,c,p,m){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,h={top:0,left:0},q=e?g(b):H(b,c);if("viewport"===m)h=f(q,e);else{if("scrollParent"===
m){var z=a(Ca(c));"BODY"===z.nodeName&&(z=b.ownerDocument.documentElement)}else z="window"===m?b.ownerDocument.documentElement:m;e=d(z,q,e);"HTML"!==z.nodeName||C(q)?h=e:(z=E(b.ownerDocument),q=z.height,z=z.width,h.top+=e.top-e.marginTop,h.bottom=q+e.top,h.left+=e.left-e.marginLeft,h.right=z+e.left)}p=p||0;e="number"===typeof p;h.left+=e?p:p.left||0;h.top+=e?p:p.top||0;h.right-=e?p:p.right||0;h.bottom-=e?p:p.bottom||0;return h}function K(a,b,c,d,f){var g=5<arguments.length&&void 0!==arguments[5]?
arguments[5]:0;if(-1===a.indexOf("auto"))return a;g=L(c,d,g,f);var p={top:{width:g.width,height:b.top-g.top},right:{width:g.right-b.right,height:g.height},bottom:{width:g.width,height:g.bottom-b.bottom},left:{width:b.left-g.left,height:g.height}};g=Object.keys(p).map(function(a){var b=p[a];return fa({key:a},p[a],{area:b.width*b.height})}).sort(function(a,b){return b.area-a.area});var e=g.filter(function(a){var b=a.height;return a.width>=c.clientWidth&&b>=c.clientHeight});g=0<e.length?e[0].key:g[0].key;
e=a.split("-")[1];return g+(e?"-"+e:"")}function B(a,b,c){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,p=f?g(b):H(b,c);return d(c,p,f)}function G(a){var b=a.ownerDocument.defaultView.getComputedStyle(a),c=parseFloat(b.marginTop||0)+parseFloat(b.marginBottom||0);b=parseFloat(b.marginLeft||0)+parseFloat(b.marginRight||0);return{width:a.offsetWidth+b,height:a.offsetHeight+c}}function z(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,
function(a){return b[a]})}function m(a,b,c){c=c.split("-")[0];a=G(a);var d={width:a.width,height:a.height},f=-1!==["right","left"].indexOf(c),g=f?"top":"left",p=f?"left":"top",e=f?"height":"width";d[g]=b[g]+b[e]/2-a[e]/2;d[p]=c===p?b[p]-a[f?"width":"height"]:b[z(p)];return d}function V(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function U(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=V(a,function(a){return a[b]===c});return a.indexOf(d)}
function Y(a,b,c){(void 0===c?a:a.slice(0,U(a,"name",c))).forEach(function(a){a["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var c=a["function"]||a.fn;a.enabled&&ha(c)&&(b.offsets.popper=A(b.offsets.popper),b.offsets.reference=A(b.offsets.reference),b=c(b,a))});return b}function Z(a,b){return a.some(function(a){var c=a.name;return a.enabled&&c===b})}function R(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),d=0;d<b.length;d++){var f=
b[d];f=f?""+f+c:a;if("undefined"!==typeof document.body.style[f])return f}return null}function Q(a){return(a=a.ownerDocument)?a.defaultView:window}function I(b,c,d,f){var g="BODY"===b.nodeName;b=g?b.ownerDocument.defaultView:b;b.addEventListener(c,d,{passive:!0});g||I(a(b.parentNode),c,d,f);f.push(b)}function ca(a,b){Q(a).removeEventListener("resize",b.updateBound);b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)});b.updateBound=null;b.scrollParents=[];b.scrollElement=
null;b.eventsEnabled=!1;return b}function ba(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function P(a,b){Object.keys(b).forEach(function(c){var d="";-1!=="width height top right bottom left".split(" ").indexOf(c)&&ba(b[c])&&(d="px");a.style[c]=b[c]+d})}function T(a,b){Object.keys(b).forEach(function(c){!1!==b[c]?a.setAttribute(c,b[c]):a.removeAttribute(c)})}function S(a,b){var c=a.offsets,d=c.popper,f=Math.round,g=Math.floor,p=function(a){return a};c=f(c.reference.width);var e=f(d.width),
h=-1!==["left","right"].indexOf(a.placement);a=-1!==a.placement.indexOf("-");g=b?h||a||c%2===e%2?f:g:p;f=b?f:p;return{left:g(1===c%2&&1===e%2&&!a&&b?d.left-1:d.left),top:f(d.top),bottom:f(d.bottom),right:g(d.right)}}function J(a,b,c){var d=V(a,function(a){return a.name===b});a=!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order});if(!a){var f="`"+b+"`";console.warn("`"+c+"` modifier is required by "+f+" modifier in order to work, be sure to include it before "+f+"!")}return a}function p(a){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=aa.indexOf(a);c=aa.slice(c+1).concat(aa.slice(0,c));return b?c.reverse():c}function D(a,b,c,d){var f=[0,0],g=-1!==["right","left"].indexOf(d);a=a.split(/(\+|\-)/).map(function(a){return a.trim()});d=a.indexOf(V(a,function(a){return-1!==a.search(/,|\s/)}));a[d]&&-1===a[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var p=/\s*,\s*|\s+/;a=-1!==d?[a.slice(0,d).concat([a[d].split(p)[0]]),
[a[d].split(p)[1]].concat(a.slice(d+1))]:[a];a=a.map(function(a,d){var f=(1===d?!g:g)?"height":"width",p=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,p=!0,a):p?(a[a.length-1]+=b,p=!1,a):a.concat(b)},[]).map(function(a){var d=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var g=+d[1];d=d[2];if(g)if(0===d.indexOf("%")){switch(d){case "%p":a=b;break;default:a=c}g*=A(a)[f]/100}else g="vh"===d||"vw"===d?("vh"===d?Math.max(document.documentElement.clientHeight,
window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*g:g;else g=a;return g})});a.forEach(function(a,b){a.forEach(function(c,d){ba(c)&&(f[b]+=c*("-"===a[d-1]?-1:1))})});return f}for(var O="undefined"!==typeof window&&"undefined"!==typeof document,N=["Edge","Trident","Firefox"],ta=0,ia=0;ia<N.length;ia+=1)if(O&&0<=navigator.userAgent.indexOf(N[ia])){ta=1;break}var X=O&&window.Promise?l:F,W=O&&!(!window.MSInputMethodContext||!document.documentMode),na=O&&/MSIE 10/.test(navigator.userAgent),
ka=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),xa=function(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a},fa=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,
d)&&(a[d]=c[d])}return a},ea=O&&/Firefox/i.test(navigator.userAgent);O="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" ");var aa=O.slice(3);N=function(){function b(a,c){var d=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(d.update)};this.update=X(this.update.bind(this));
this.options=fa({},b.Defaults,f);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=a&&a.jquery?a[0]:a;this.popper=c&&c.jquery?c[0]:c;this.options.modifiers={};Object.keys(fa({},b.Defaults.modifiers,f.modifiers)).forEach(function(a){d.options.modifiers[a]=fa({},b.Defaults.modifiers[a]||{},f.modifiers?f.modifiers[a]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(a){return fa({name:a},d.options.modifiers[a])}).sort(function(a,b){return a.order-b.order});
this.modifiers.forEach(function(a){if(a.enabled&&ha(a.onLoad))a.onLoad(d.reference,d.popper,d.options,a,d.state)});this.update();var g=this.options.eventsEnabled;g&&this.enableEventListeners();this.state.eventsEnabled=g}ka(b,[{key:"update",value:function(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=B(this.state,this.popper,this.reference,this.options.positionFixed);a.placement=K(this.options.placement,a.offsets.reference,
this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);a.originalPlacement=a.placement;a.positionFixed=this.options.positionFixed;a.offsets.popper=m(this.popper,a.offsets.reference,a.placement);a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";a=Y(this.modifiers,a);if(this.state.isCreated)this.options.onUpdate(a);else this.state.isCreated=!0,this.options.onCreate(a)}}},{key:"destroy",value:function(){this.state.isDestroyed=
!0;Z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[R("transform")]="");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var b=this.reference,
c=this.state;c.updateBound=this.scheduleUpdate;Q(b).addEventListener("resize",c.updateBound,{passive:!0});b=a(b);I(b,"scroll",c.updateBound,c.scrollParents);c.scrollElement=b;c.eventsEnabled=!0;this.state=c}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=ca(this.reference,this.state))}}]);return b}();N.Utils=("undefined"!==typeof window?window:x).PopperUtils;N.placements=O;N.Defaults={placement:"bottom",positionFixed:!1,
eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(a){var b=a.placement,c=b.split("-")[0];if(b=b.split("-")[1]){var d=a.offsets,f=d.reference;d=d.popper;var g=-1!==["bottom","top"].indexOf(c);c=g?"left":"top";g=g?"width":"height";f={start:xa({},c,f[c]),end:xa({},c,f[c]+f[g]-d[g])};a.offsets.popper=fa({},d,f[b])}return a}},offset:{order:200,enabled:!0,fn:function(a,b){var c=b.offset,d=a.offsets;b=d.popper;var f=d.reference;
d=a.placement.split("-")[0];c=ba(+c)?[+c,0]:D(c,b,f,d);"left"===d?(b.top+=c[0],b.left-=c[1]):"right"===d?(b.top+=c[0],b.left+=c[1]):"top"===d?(b.left+=c[0],b.top-=c[1]):"bottom"===d&&(b.left+=c[0],b.top+=c[1]);a.popper=b;return a},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(a,b){var c=b.boundariesElement||e(a.instance.popper);a.instance.reference===c&&(c=e(c));var d=R("transform"),f=a.instance.popper.style,g=f.top,p=f.left,h=f[d];f.top="";f.left="";f[d]="";var m=L(a.instance.popper,
a.instance.reference,b.padding,c,a.positionFixed);f.top=g;f.left=p;f[d]=h;b.boundaries=m;var q=a.offsets.popper,u={primary:function(a){var c=q[a];q[a]<m[a]&&!b.escapeWithReference&&(c=Math.max(q[a],m[a]));return xa({},a,c)},secondary:function(a){var c="right"===a?"left":"top",d=q[c];q[a]>m[a]&&!b.escapeWithReference&&(d=Math.min(q[c],m[a]-("right"===a?q.width:q.height)));return xa({},c,d)}};b.priority.forEach(function(a){var b=-1!==["left","top"].indexOf(a)?"primary":"secondary";q=fa({},q,u[b](a))});
a.offsets.popper=q;return a},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(a){var b=a.offsets,c=b.popper;b=b.reference;var d=a.placement.split("-")[0],f=Math.floor,g=-1!==["top","bottom"].indexOf(d);d=g?"right":"bottom";var p=g?"left":"top";g=g?"width":"height";c[d]<f(b[p])&&(a.offsets.popper[p]=f(b[p])-c[g]);c[p]>f(b[d])&&(a.offsets.popper[p]=f(b[d]));return a}},arrow:{order:500,enabled:!0,fn:function(a,c){var d;
if(!J(a.instance.modifiers,"arrow","keepTogether"))return a;c=c.element;if("string"===typeof c){if(c=a.instance.popper.querySelector(c),!c)return a}else if(!a.instance.popper.contains(c))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var f=a.placement.split("-")[0],g=a.offsets,p=g.popper,e=g.reference,m=-1!==["left","right"].indexOf(f);f=m?"height":"width";var h=m?"Top":"Left";g=h.toLowerCase();var q=m?"left":"top",u=m?"bottom":"right";m=G(c)[f];e[u]-m<p[g]&&
(a.offsets.popper[g]-=p[g]-(e[u]-m));e[g]+m>p[u]&&(a.offsets.popper[g]+=e[g]+m-p[u]);a.offsets.popper=A(a.offsets.popper);e=e[g]+e[f]/2-m/2;var z=b(a.instance.popper);u=parseFloat(z["margin"+h],10);h=parseFloat(z["border"+h+"Width"],10);h=e-a.offsets.popper[g]-u-h;h=Math.max(Math.min(p[f]-m,h),0);a.arrowElement=c;a.offsets.arrow=(d={},xa(d,g,Math.round(h)),xa(d,q,""),d);return a},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(a,b){if(Z(a.instance.modifiers,"inner")||a.flipped&&a.placement===
a.originalPlacement)return a;var c=L(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement,a.positionFixed),d=a.placement.split("-")[0],f=z(d),g=a.placement.split("-")[1]||"",e=[];switch(b.behavior){case "flip":e=[d,f];break;case "clockwise":e=p(d);break;case "counterclockwise":e=p(d,!0);break;default:e=b.behavior}e.forEach(function(p,h){if(d!==p||e.length===h+1)return a;d=a.placement.split("-")[0];f=z(d);var q=a.offsets.popper;p=a.offsets.reference;var u=Math.floor;p="left"===d&&u(q.right)>
u(p.left)||"right"===d&&u(q.left)<u(p.right)||"top"===d&&u(q.bottom)>u(p.top)||"bottom"===d&&u(q.top)<u(p.bottom);var k=u(q.left)<u(c.left),D=u(q.right)>u(c.right),J=u(q.top)<u(c.top);u=u(q.bottom)>u(c.bottom);q="left"===d&&k||"right"===d&&D||"top"===d&&J||"bottom"===d&&u;var P=-1!==["top","bottom"].indexOf(d),r=!!b.flipVariationsByContent&&(P&&"start"===g&&D||P&&"end"===g&&k||!P&&"start"===g&&u||!P&&"end"===g&&J);k=!!b.flipVariations&&(P&&"start"===g&&k||P&&"end"===g&&D||!P&&"start"===g&&J||!P&&
"end"===g&&u)||r;if(p||q||k){a.flipped=!0;if(p||q)d=e[h+1];k&&("end"===g?g="start":"start"===g&&(g="end"));a.placement=d+(g?"-"+g:"");a.offsets.popper=fa({},a.offsets.popper,m(a.instance.popper,a.offsets.reference,a.placement));a=Y(a.instance.modifiers,a,"flip")}});return a},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(a){var b=a.placement,c=b.split("-")[0],d=a.offsets,f=d.popper;d=d.reference;var g=-1!==
["left","right"].indexOf(c),p=-1===["top","left"].indexOf(c);f[g?"left":"top"]=d[c]-(p?f[g?"width":"height"]:0);a.placement=z(b);a.offsets.popper=A(f);return a}},hide:{order:800,enabled:!0,fn:function(a){if(!J(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=V(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0;a.attributes["x-out-of-boundaries"]=
""}else{if(!1===a.hide)return a;a.hide=!1;a.attributes["x-out-of-boundaries"]=!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(a,b){var c=b.x,d=b.y,f=a.offsets.popper,g=V(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==g&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");b=void 0!==g?g:b.gpuAcceleration;g=e(a.instance.popper);var p=q(g);f={position:f.position};
var h=S(a,2>window.devicePixelRatio||!ea);c="bottom"===c?"top":"bottom";d="right"===d?"left":"right";var m=R("transform"),z=void 0,u=void 0;u="bottom"===c?"HTML"===g.nodeName?-g.clientHeight+h.bottom:-p.height+h.bottom:h.top;z="right"===d?"HTML"===g.nodeName?-g.clientWidth+h.right:-p.width+h.right:h.left;b&&m?(f[m]="translate3d("+z+"px, "+u+"px, 0)",f[c]=0,f[d]=0,f.willChange="transform"):(f[c]=u*("bottom"===c?-1:1),f[d]=z*("right"===d?-1:1),f.willChange=c+", "+d);a.attributes=fa({},{"x-placement":a.placement},
a.attributes);a.styles=fa({},f,a.styles);a.arrowStyles=fa({},a.offsets.arrow,a.arrowStyles);return a},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(a){P(a.instance.popper,a.styles);T(a.instance.popper,a.attributes);a.arrowElement&&Object.keys(a.arrowStyles).length&&P(a.arrowElement,a.arrowStyles);return a},onLoad:function(a,b,c,d,f){d=B(f,b,a,c.positionFixed);a=K(c.placement,d,b,a,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);b.setAttribute("x-placement",
a);P(b,{position:c.positionFixed?"fixed":"absolute"});return c},gpuAcceleration:void 0}}};da["default"]=N}).call(this,F("yLpj"))},EVdn:function(x,da,F){var ha,l;(function(l,F){"object"===typeof x.exports?x.exports=l.document?F(l,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return F(b)}:F(l)})("undefined"!==typeof window?window:this,function(F,La){function b(a,b,c){c=c||oa;var n,M=c.createElement("script");M.text=a;if(b)for(n in jb)(a=b[n]||b.getAttribute&&
b.getAttribute(n))&&M.setAttribute(n,a);c.head.appendChild(M).parentNode.removeChild(M)}function Ca(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?Db[Jb.call(a)]||"object":typeof a}function a(a){var n=!!a&&"length"in a&&a.length,b=Ca(a);return sa(a)||Eb(a)?!1:"array"===b||0===n||"number"===typeof n&&0<n&&n-1 in a}function c(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function e(a,b,c){return sa(b)?y.grep(a,function(a,n){return!!b.call(a,n,a)!==c}):b.nodeType?
y.grep(a,function(a){return a===b!==c}):"string"!==typeof b?y.grep(a,function(a){return-1<ra.call(b,a)!==c}):y.filter(b,a,c)}function k(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function H(a){var n={};y.each(a.match(Ya)||[],function(a,b){n[b]=!0});return n}function r(a){return a}function h(a){throw a;}function v(a,b,c,t){var n;try{a&&sa(n=a.promise)?n.call(a).done(b).fail(c):a&&sa(n=a.then)?n.call(a,b,c):b.apply(void 0,[a].slice(t))}catch(jc){c.apply(void 0,[jc])}}function w(){oa.removeEventListener("DOMContentLoaded",
w);F.removeEventListener("load",w);y.ready()}function E(a,b){return b.toUpperCase()}function A(a){return a.replace(pa,"ms-").replace(Aa,E)}function q(){this.expando=y.expando+q.uid++}function d(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace($a,"-$&").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{var n=c;c="true"===n?!0:"false"===n?!1:"null"===n?null:n===+n+""?+n:mb.test(n)?JSON.parse(n):n}catch(qc){}Ea.set(a,b,c)}else c=void 0;return c}function f(a,b,c,t){var n,M=20,d=t?
function(){return t.cur()}:function(){return y.css(a,b,"")},f=d(),g=c&&c[3]||(y.cssNumber[b]?"":"px"),Ha=a.nodeType&&(y.cssNumber[b]||"px"!==g&&+f)&&Ba.exec(y.css(a,b));if(Ha&&Ha[3]!==g){f/=2;g=g||Ha[3];for(Ha=+f||1;M--;)y.style(a,b,Ha+g),0>=(1-n)*(1-(n=d()/f||.5))&&(M=0),Ha/=n;Ha*=2;y.style(a,b,Ha+g);c=c||[]}if(c){Ha=+Ha||+f||0;var p=c[1]?Ha+(c[1]+1)*c[2]:+c[2];t&&(t.unit=g,t.start=Ha,t.end=p)}return p}function C(a,b){for(var n,c,M=[],t=0,d=a.length;t<d;t++)if(c=a[t],c.style)if(n=c.style.display,
b){if("none"===n&&(M[t]=ma.get(c,"display")||null,M[t]||(c.style.display="")),""===c.style.display&&Ma(c)){n=t;var f=c.ownerDocument;c=c.nodeName;var g=ab[c];g||(f=f.body.appendChild(f.createElement(c)),g=y.css(f,"display"),f.parentNode.removeChild(f),"none"===g&&(g="block"),ab[c]=g);f=g;M[n]=f}}else"none"!==n&&(M[t]="none",ma.set(c,"display",n));for(t=0;t<d;t++)null!=M[t]&&(a[t].style.display=M[t]);return a}function g(a,b){var n="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||
"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&c(a,b)?y.merge([a],n):n}function L(a,b){for(var n=0,c=a.length;n<c;n++)ma.set(a[n],"globalEval",!b||ma.get(b[n],"globalEval"))}function K(a,b,c,t,d){for(var n,M,f,Ha=b.createDocumentFragment(),p=[],e=0,qa=a.length;e<qa;e++)if((n=a[e])||0===n)if("object"===Ca(n))y.merge(p,n.nodeType?[n]:n);else if(Zb.test(n)){M=M||Ha.appendChild(b.createElement("div"));f=(bb.exec(n)||["",""])[1].toLowerCase();f=eb[f]||
eb._default;M.innerHTML=f[1]+y.htmlPrefilter(n)+f[2];for(f=f[0];f--;)M=M.lastChild;y.merge(p,M.childNodes);M=Ha.firstChild;M.textContent=""}else p.push(b.createTextNode(n));Ha.textContent="";for(e=0;n=p[e++];)if(t&&-1<y.inArray(n,t))d&&d.push(n);else if(a=nb(n),M=g(Ha.appendChild(n),"script"),a&&L(M),c)for(f=0;n=M[f++];)Sa.test(n.type||"")&&c.push(n);return Ha}function B(){return!0}function G(){return!1}function z(a,b){a:{try{var n=oa.activeElement;break a}catch(dc){}n=void 0}return a===n===("focus"===
b)}function m(a,b,c,t,d,f){var n;if("object"===typeof b){"string"!==typeof c&&(t=t||c,c=void 0);for(n in b)m(a,n,c,t,b[n],f);return a}null==t&&null==d?(d=c,t=c=void 0):null==d&&("string"===typeof c?(d=t,t=void 0):(d=t,t=c,c=void 0));if(!1===d)d=G;else if(!d)return a;if(1===f){var M=d;d=function(a){y().off(a);return M.apply(this,arguments)};d.guid=M.guid||(M.guid=y.guid++)}return a.each(function(){y.event.add(this,b,d,t,c)})}function V(a,b,c){c?(ma.set(a,b,!1),y.event.add(a,b,{namespace:!1,handler:function(a){var n=
ma.get(this,b);if(a.isTrigger&1&&this[b])if(n.length)(y.event.special[b]||{}).delegateType&&a.stopPropagation();else{n=va.call(arguments);ma.set(this,b,n);var M=c(this,b);this[b]();var t=ma.get(this,b);n!==t||M?ma.set(this,b,!1):t={};if(n!==t)return a.stopImmediatePropagation(),a.preventDefault(),t.value}else n.length&&(ma.set(this,b,{value:y.event.trigger(y.extend(n[0],y.Event.prototype),n.slice(1),this)}),a.stopImmediatePropagation())}})):void 0===ma.get(a,b)&&y.event.add(a,b,B)}function U(a,b){return c(a,
"table")&&c(11!==b.nodeType?b:b.firstChild,"tr")?y(a).children("tbody")[0]||a:a}function Y(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function Z(a){"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type");return a}function R(a,b){var n,c;if(1===b.nodeType){if(ma.hasData(a)){var t=ma.access(a);var M=ma.set(b,t);if(t=t.events)for(c in delete M.handle,M.events={},t)for(M=0,n=t[c].length;M<n;M++)y.event.add(b,c,t[c][M])}Ea.hasData(a)&&(a=Ea.access(a),a=y.extend({},
a),Ea.set(b,a))}}function Q(a,c,t,d){c=Ib.apply([],c);var n,M=0,f=a.length,p=f-1,Ha=c[0],e=sa(Ha);if(e||1<f&&"string"===typeof Ha&&!Da.checkClone&&Kb.test(Ha))return a.each(function(n){var b=a.eq(n);e&&(c[0]=Ha.call(this,n,b.html()));Q(b,c,t,d)});if(f){var qa=K(c,a[0].ownerDocument,!1,a,d);var h=qa.firstChild;1===qa.childNodes.length&&(qa=h);if(h||d){h=y.map(g(qa,"script"),Y);for(n=h.length;M<f;M++){var m=qa;M!==p&&(m=y.clone(m,!0,!0),n&&y.merge(h,g(m,"script")));t.call(a[M],m,M)}if(n)for(qa=h[h.length-
1].ownerDocument,y.map(h,Z),M=0;M<n;M++)m=h[M],Sa.test(m.type||"")&&!ma.access(m,"globalEval")&&y.contains(qa,m)&&(m.src&&"module"!==(m.type||"").toLowerCase()?y._evalUrl&&!m.noModule&&y._evalUrl(m.src,{nonce:m.nonce||m.getAttribute("nonce")}):b(m.textContent.replace(Ta,""),m,qa))}}return a}function I(a,b,c){for(var n=b?y.filter(b,a):a,t=0;null!=(b=n[t]);t++)c||1!==b.nodeType||y.cleanData(g(b)),b.parentNode&&(c&&nb(b)&&L(g(b,"script")),b.parentNode.removeChild(b));return a}function ca(a,b,c){var n=
a.style;if(c=c||kb(a)){var t=c.getPropertyValue(b)||c[b];""!==t||nb(a)||(t=y.style(a,b));if(!Da.pixelBoxStyles()&&tb.test(t)&&wa.test(b)){a=n.width;b=n.minWidth;var M=n.maxWidth;n.minWidth=n.maxWidth=n.width=t;t=c.width;n.width=a;n.minWidth=b;n.maxWidth=M}}return void 0!==t?t+"":t}function ba(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function P(a){var n=y.cssProps[a]||Sb[a];if(n)return n;if(a in Na)return a;a:{n=a;for(var b=n[0].toUpperCase()+
n.slice(1),c=ec.length;c--;)if(n=ec[c]+b,n in Na)break a;n=void 0}return Sb[a]=n||a}function T(a,b,c){return(a=Ba.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function S(a,b,c,t,d,f){var n="width"===b?1:0,M=0,g=0;if(c===(t?"border":"content"))return 0;for(;4>n;n+=2)"margin"===c&&(g+=y.css(a,c+Qa[n],!0,d)),t?("content"===c&&(g-=y.css(a,"padding"+Qa[n],!0,d)),"margin"!==c&&(g-=y.css(a,"border"+Qa[n]+"Width",!0,d))):(g+=y.css(a,"padding"+Qa[n],!0,d),"padding"!==c?g+=y.css(a,"border"+Qa[n]+"Width",
!0,d):M+=y.css(a,"border"+Qa[n]+"Width",!0,d));!t&&0<=f&&(g+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-g-M-.5))||0);return g}function J(a,b,c){var n=kb(a),t=(!Da.boxSizingReliable()||c)&&"border-box"===y.css(a,"boxSizing",!1,n),M=t,d=ca(a,b,n),f="offset"+b[0].toUpperCase()+b.slice(1);if(tb.test(d)){if(!c)return d;d="auto"}(!Da.boxSizingReliable()&&t||"auto"===d||!parseFloat(d)&&"inline"===y.css(a,"display",!1,n))&&a.getClientRects().length&&(t="border-box"===y.css(a,"boxSizing",
!1,n),(M=f in a)&&(d=a[f]));d=parseFloat(d)||0;return d+S(a,b,c||(t?"border":"content"),M,n,d)+"px"}function p(a,b,c,t,d){return new p.prototype.init(a,b,c,t,d)}function D(){Ua&&(!1===oa.hidden&&F.requestAnimationFrame?F.requestAnimationFrame(D):F.setTimeout(D,y.fx.interval),y.fx.tick())}function O(){F.setTimeout(function(){fb=void 0});return fb=Date.now()}function N(a,b){var n=0,c={height:a};for(b=b?1:0;4>n;n+=2-b){var t=Qa[n];c["margin"+t]=c["padding"+t]=a}b&&(c.opacity=c.width=a);return c}function ta(a,
b,c){for(var n,t=(X.tweeners[b]||[]).concat(X.tweeners["*"]),M=0,d=t.length;M<d;M++)if(n=t[M].call(c,b,a))return n}function ia(a,b){var n,c;for(n in a){var t=A(n);var M=b[t];var d=a[n];Array.isArray(d)&&(M=d[1],d=a[n]=d[0]);n!==t&&(a[t]=d,delete a[n]);if((c=y.cssHooks[t])&&"expand"in c)for(n in d=c.expand(d),delete a[t],d)n in a||(a[n]=d[n],b[n]=M);else b[t]=M}}function X(a,b,c){var n,t=0,M=X.prefilters.length,d=y.Deferred().always(function(){delete f.elem}),f=function(){if(n)return!1;var b=fb||O();
b=Math.max(0,g.startTime+g.duration-b);for(var c=1-(b/g.duration||0),t=0,M=g.tweens.length;t<M;t++)g.tweens[t].run(c);d.notifyWith(a,[g,c,b]);if(1>c&&M)return b;M||d.notifyWith(a,[g,1,0]);d.resolveWith(a,[g]);return!1},g=d.promise({elem:a,props:y.extend({},b),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},c),originalProperties:b,originalOptions:c,startTime:fb||O(),duration:c.duration,tweens:[],createTween:function(n,b){n=y.Tween(a,g.opts,n,b,g.opts.specialEasing[n]||g.opts.easing);g.tweens.push(n);
return n},stop:function(b){var c=0,t=b?g.tweens.length:0;if(n)return this;for(n=!0;c<t;c++)g.tweens[c].run(1);b?(d.notifyWith(a,[g,1,0]),d.resolveWith(a,[g,b])):d.rejectWith(a,[g,b]);return this}});c=g.props;for(ia(c,g.opts.specialEasing);t<M;t++)if(b=X.prefilters[t].call(g,a,c,g.opts))return sa(b.stop)&&(y._queueHooks(g.elem,g.opts.queue).stop=b.stop.bind(b)),b;y.map(c,ta,g);sa(g.opts.start)&&g.opts.start.call(a,g);g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always);
y.fx.timer(y.extend(f,{elem:a,anim:g,queue:g.opts.queue}));return g}function W(a){return(a.match(Ya)||[]).join(" ")}function na(a){return a.getAttribute&&a.getAttribute("class")||""}function ka(a){return Array.isArray(a)?a:"string"===typeof a?a.match(Ya)||[]:[]}function xa(a,b,c,t){var n;if(Array.isArray(b))y.each(b,function(n,b){c||Ga.test(a)?t(a,b):xa(a+"["+("object"===typeof b&&null!=b?n:"")+"]",b,c,t)});else if(c||"object"!==Ca(b))t(a,b);else for(n in b)xa(a+"["+n+"]",b[n],c,t)}function fa(a){return function(n,
b){"string"!==typeof n&&(b=n,n="*");var c=0,t=n.toLowerCase().match(Ya)||[];if(sa(b))for(;n=t[c++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(b)):(a[n]=a[n]||[]).push(b)}}function ea(a,b,c,t){function n(f){var g;M[f]=!0;y.each(a[f]||[],function(a,f){a=f(b,c,t);if("string"===typeof a&&!d&&!M[a])return b.dataTypes.unshift(a),n(a),!1;if(d)return!(g=a)});return g}var M={},d=a===Fb;return n(b.dataTypes[0])||!M["*"]&&n("*")}function aa(a,b){var n,c,t=y.ajaxSettings.flatOptions||{};for(n in b)void 0!==
b[n]&&((t[n]?a:c||(c={}))[n]=b[n]);c&&y.extend(!0,a,c);return a}var la=[],oa=F.document,ya=Object.getPrototypeOf,va=la.slice,Ib=la.concat,zb=la.push,ra=la.indexOf,Db={},Jb=Db.toString,ua=Db.hasOwnProperty,u=ua.toString,Rb=u.call(Object),Da={},sa=function(a){return"function"===typeof a&&"number"!==typeof a.nodeType},Eb=function(a){return null!=a&&a===a.window},jb={type:!0,src:!0,nonce:!0,noModule:!0},y=function(a,b){return new y.fn.init(a,b)},fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;y.fn=y.prototype=
{jquery:"3.4.1",constructor:y,length:0,toArray:function(){return va.call(this)},get:function(a){return null==a?va.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=y.merge(this.constructor(),a);a.prevObject=this;return a},each:function(a){return y.each(this,a)},map:function(a){return this.pushStack(y.map(this,function(n,b){return a.call(n,b,n)}))},slice:function(){return this.pushStack(va.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},
eq:function(a){var n=this.length;a=+a+(0>a?n:0);return this.pushStack(0<=a&&a<n?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:zb,sort:la.sort,splice:la.splice};y.extend=y.fn.extend=function(){var a,b,c,t=arguments[0]||{},d=1,f=arguments.length,g=!1;"boolean"===typeof t&&(g=t,t=arguments[d]||{},d++);"object"===typeof t||sa(t)||(t={});d===f&&(t=this,d--);for(;d<f;d++)if(null!=(a=arguments[d]))for(b in a){var p=a[b];if("__proto__"!==b&&t!==p)if(g&&p&&(y.isPlainObject(p)||
(c=Array.isArray(p)))){var e=t[b];e=c&&!Array.isArray(e)?[]:c||y.isPlainObject(e)?e:{};c=!1;t[b]=y.extend(g,e,p)}else void 0!==p&&(t[b]=p)}return t};y.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isPlainObject:function(a){if(!a||"[object Object]"!==Jb.call(a))return!1;a=ya(a);if(!a)return!0;a=ua.call(a,"constructor")&&a.constructor;return"function"===typeof a&&u.call(a)===Rb},isEmptyObject:function(a){for(var n in a)return!1;
return!0},globalEval:function(a,c){b(a,{nonce:c&&c.nonce})},each:function(n,b){var c,t=0;if(a(n))for(c=n.length;t<c&&!1!==b.call(n[t],t,n[t]);t++);else for(t in n)if(!1===b.call(n[t],t,n[t]))break;return n},trim:function(a){return null==a?"":(a+"").replace(fc,"")},makeArray:function(n,b){b=b||[];null!=n&&(a(Object(n))?y.merge(b,"string"===typeof n?[n]:n):zb.call(b,n));return b},inArray:function(a,b,c){return null==b?-1:ra.call(b,a,c)},merge:function(a,b){for(var n=+b.length,c=0,t=a.length;c<n;c++)a[t++]=
b[c];a.length=t;return a},grep:function(a,b,c){for(var n=[],t=0,d=a.length,M=!c;t<d;t++)c=!b(a[t],t),c!==M&&n.push(a[t]);return n},map:function(n,b,c){var t,d=0,M=[];if(a(n))for(t=n.length;d<t;d++){var f=b(n[d],d,c);null!=f&&M.push(f)}else for(d in n)f=b(n[d],d,c),null!=f&&M.push(f);return Ib.apply([],M)},guid:1,support:Da});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),y.fn[Symbol.iterator]=la[Symbol.iterator]);
y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Db["[object "+b+"]"]=b.toLowerCase()});var cb=function(a){function n(a,n,b,c){var t,d,M,f;var g=n&&n.ownerDocument;var p=n?n.nodeType:9;b=b||[];if("string"!==typeof a||!a||1!==p&&9!==p&&11!==p)return b;if(!c&&((n?n.ownerDocument||n:G)!==C&&gc(n),n=n||C,T)){if(11!==p&&(f=ca.exec(a)))if(t=f[1])if(9===p)if(d=n.getElementById(t)){if(d.id===t)return b.push(d),b}else return b;else{if(g&&(d=g.getElementById(t))&&
H(n,d)&&d.id===t)return b.push(d),b}else{if(f[2])return Y.apply(b,n.getElementsByTagName(a)),b;if((t=f[3])&&x.getElementsByClassName&&n.getElementsByClassName)return Y.apply(b,n.getElementsByClassName(t)),b}if(!(!x.qsa||N[a+" "]||w&&w.test(a)||1===p&&"object"===n.nodeName.toLowerCase())){t=a;g=n;if(1===p&&V.test(a)){(M=n.getAttribute("id"))?M=M.replace(va,ka):n.setAttribute("id",M=K);p=Ea(a);for(g=p.length;g--;)p[g]="#"+M+" "+q(p[g]);t=p.join(",");g=ua.test(a)&&qa(n.parentNode)||n}try{return Y.apply(b,
g.querySelectorAll(t)),b}catch(Ec){N(a,!0)}finally{M===K&&n.removeAttribute("id")}}}return fa(a.replace(ta,"$1"),n,b,c)}function b(){function a(b,c){n.push(b+" ")>Fa.cacheLength&&delete a[n.shift()];return a[b+" "]=c}var n=[];return a}function c(a){a[K]=!0;return a}function t(a){var n=C.createElement("fieldset");try{return!!a(n)}catch(Bc){return!1}finally{n.parentNode&&n.parentNode.removeChild(n)}}function d(a,n){a=a.split("|");for(var b=a.length;b--;)Fa.attrHandle[a[b]]=n}function f(a,n){var b=n&&
a,c=b&&1===a.nodeType&&1===n.nodeType&&a.sourceIndex-n.sourceIndex;if(c)return c;if(b)for(;b=b.nextSibling;)if(b===n)return-1;return a?1:-1}function g(a){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===a}}function p(a){return function(n){var b=n.nodeName.toLowerCase();return("input"===b||"button"===b)&&n.type===a}}function e(a){return function(n){return"form"in n?n.parentNode&&!1===n.disabled?"label"in n?"label"in n.parentNode?n.parentNode.disabled===a:n.disabled===a:n.isDisabled===
a||n.isDisabled!==!a&&xa(n)===a:n.disabled===a:"label"in n?n.disabled===a:!1}}function m(a){return c(function(n){n=+n;return c(function(b,c){for(var t,d=a([],b.length,n),M=d.length;M--;)b[t=d[M]]&&(b[t]=!(c[t]=b[t]))})})}function qa(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function h(){}function q(a){for(var n=0,b=a.length,c="";n<b;n++)c+=a[n].value;return c}function u(a,n,b){var c=n.dir,t=n.next,d=t||c,M=b&&"parentNode"===d,f=y++;return n.first?function(n,b,t){for(;n=n[c];)if(1===
n.nodeType||M)return a(n,b,t);return!1}:function(n,b,g){var p,e=[O,f];if(g)for(;n=n[c];){if((1===n.nodeType||M)&&a(n,b,g))return!0}else for(;n=n[c];)if(1===n.nodeType||M){var m=n[K]||(n[K]={});m=m[n.uniqueID]||(m[n.uniqueID]={});if(t&&t===n.nodeName.toLowerCase())n=n[c]||n;else{if((p=m[d])&&p[0]===O&&p[1]===f)return e[2]=p[2];m[d]=e;if(e[2]=a(n,b,g))return!0}}return!1}}function z(a){return 1<a.length?function(n,b,c){for(var t=a.length;t--;)if(!a[t](n,b,c))return!1;return!0}:a[0]}function k(a,n,b,
c,t){for(var d,M=[],f=0,g=a.length,p=null!=n;f<g;f++)if(d=a[f])if(!b||b(d,c,t))M.push(d),p&&n.push(f);return M}function D(a,b,t,d,M,f){d&&!d[K]&&(d=D(d));M&&!M[K]&&(M=D(M,f));return c(function(c,f,g,p){var e,m=[],qa=[],h=f.length,q;if(!(q=c)){q=b||"*";for(var u=g.nodeType?[g]:g,Ha=[],z=0,D=u.length;z<D;z++)n(q,u[z],Ha);q=Ha}q=!a||!c&&b?q:k(q,m,a,g,p);u=t?M||(c?a:h||d)?[]:f:q;t&&t(q,u,g,p);if(d){var J=k(u,qa);d(J,[],g,p);for(g=J.length;g--;)if(e=J[g])u[qa[g]]=!(q[qa[g]]=e)}if(c){if(M||a){if(M){J=[];
for(g=u.length;g--;)(e=u[g])&&J.push(q[g]=e);M(null,u=[],J,p)}for(g=u.length;g--;)(e=u[g])&&-1<(J=M?Aa(c,e):m[g])&&(c[J]=!(f[J]=e))}}else u=k(u===f?u.splice(h,u.length):u),M?M(null,f,u,p):Y.apply(f,u)})}function J(a){var n,b,c=a.length,t=Fa.relative[a[0].type];var d=t||Fa.relative[" "];for(var M=t?1:0,g=u(function(a){return a===n},d,!0),f=u(function(a){return-1<Aa(n,a)},d,!0),p=[function(a,b,c){a=!t&&(c||b!==v)||((n=b).nodeType?g(a,b,c):f(a,b,c));n=null;return a}];M<c;M++)if(d=Fa.relative[a[M].type])p=
[u(z(p),d)];else{d=Fa.filter[a[M].type].apply(null,a[M].matches);if(d[K]){for(b=++M;b<c&&!Fa.relative[a[b].type];b++);return D(1<M&&z(p),1<M&&q(a.slice(0,M-1).concat({value:" "===a[M-2].type?"*":""})).replace(ta,"$1"),d,M<b&&J(a.slice(M,b)),b<c&&J(a=a.slice(b)),b<c&&q(a))}p.push(d)}return z(p)}function P(a,b){var t=0<b.length,d=0<a.length,M=function(c,M,g,f,p){var e,m,qa=0,h="0",q=c&&[],u=[],Ha=v,z=c||d&&Fa.find.TAG("*",p),J=O+=null==Ha?1:Math.random()||.1,D=z.length;for(p&&(v=M===C||M||p);h!==D&&
null!=(e=z[h]);h++){if(d&&e){var P=0;M||e.ownerDocument===C||(gc(e),g=!T);for(;m=a[P++];)if(m(e,M||C,g)){f.push(e);break}p&&(O=J)}t&&((e=!m&&e)&&qa--,c&&q.push(e))}qa+=h;if(t&&h!==qa){for(P=0;m=b[P++];)m(q,u,M,g);if(c){if(0<qa)for(;h--;)q[h]||u[h]||(u[h]=Db.call(f));u=k(u)}Y.apply(f,u);p&&!c&&0<u.length&&1<qa+b.length&&n.uniqueSort(f)}p&&(O=J,v=Ha);return q};return t?c(M):M}var r,v,ra,B,C,pa,T,w,L,sb,H,K="sizzle"+1*new Date,G=a.document,O=0,y=0,l=b(),A=b(),S=b(),N=b(),Yb=function(a,n){a===n&&(B=!0);
return 0},R={}.hasOwnProperty,E=[],Db=E.pop,U=E.push,Y=E.push,Z=E.slice,Aa=function(a,n){for(var b=0,c=a.length;b<c;b++)if(a[b]===n)return b;return-1},W=/[\x20\t\r\n\f]+/g,ta=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,X=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,I=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,V=/[\x20\t\r\n\f]|>/,ia=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
Q=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Jb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},zb=/HTML$/i,ma=/^(?:input|select|textarea|button)$/i,Ib=
/^h\d$/i,Ra=/^[^{]+\{\s*\[native \w/,ca=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/[+~]/,ba=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,ya=function(a,n,b){a="0x"+n-65536;return a!==a||b?n:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ka=function(a,n){return n?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},na=function(){gc()},xa=u(function(a){return!0===a.disabled&&
"fieldset"===a.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Y.apply(E=Z.call(G.childNodes),G.childNodes),E[G.childNodes.length].nodeType}catch(Ac){Y={apply:E.length?function(a,n){U.apply(a,Z.call(n))}:function(a,n){for(var b=a.length,c=0;a[b++]=n[c++];);a.length=b-1}}}var x=n.support={};var vc=n.isXML=function(a){var n=(a.ownerDocument||a).documentElement;return!zb.test(a.namespaceURI||n&&n.nodeName||"HTML")};var gc=n.setDocument=function(a){var n;a=a?a.ownerDocument||a:G;if(a===
C||9!==a.nodeType||!a.documentElement)return C;C=a;pa=C.documentElement;T=!vc(C);G!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",na,!1):n.attachEvent&&n.attachEvent("onunload",na));x.attributes=t(function(a){a.className="i";return!a.getAttribute("className")});x.getElementsByTagName=t(function(a){a.appendChild(C.createComment(""));return!a.getElementsByTagName("*").length});x.getElementsByClassName=Ra.test(C.getElementsByClassName);x.getById=t(function(a){pa.appendChild(a).id=
K;return!C.getElementsByName||!C.getElementsByName(K).length});x.getById?(Fa.filter.ID=function(a){var n=a.replace(ba,ya);return function(a){return a.getAttribute("id")===n}},Fa.find.ID=function(a,n){if("undefined"!==typeof n.getElementById&&T)return(a=n.getElementById(a))?[a]:[]}):(Fa.filter.ID=function(a){var n=a.replace(ba,ya);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===n}},Fa.find.ID=function(a,n){if("undefined"!==typeof n.getElementById&&
T){var b,c=n.getElementById(a);if(c){if((b=c.getAttributeNode("id"))&&b.value===a)return[c];var t=n.getElementsByName(a);for(n=0;c=t[n++];)if((b=c.getAttributeNode("id"))&&b.value===a)return[c]}return[]}});Fa.find.TAG=x.getElementsByTagName?function(a,n){if("undefined"!==typeof n.getElementsByTagName)return n.getElementsByTagName(a);if(x.qsa)return n.querySelectorAll(a)}:function(a,n){var b=[],c=0;n=n.getElementsByTagName(a);if("*"===a){for(;a=n[c++];)1===a.nodeType&&b.push(a);return b}return n};
Fa.find.CLASS=x.getElementsByClassName&&function(a,n){if("undefined"!==typeof n.getElementsByClassName&&T)return n.getElementsByClassName(a)};L=[];w=[];if(x.qsa=Ra.test(C.querySelectorAll))t(function(a){pa.appendChild(a).innerHTML="<a id='"+K+"'></a><select id='"+K+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&w.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||w.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+K+"-]").length||w.push("~=");a.querySelectorAll(":checked").length||w.push(":checked");a.querySelectorAll("a#"+K+"+*").length||w.push(".#.+[+~]")}),t(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var n=C.createElement("input");n.setAttribute("type","hidden");a.appendChild(n).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&w.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&
w.push(":enabled",":disabled");pa.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&w.push(":enabled",":disabled");a.querySelectorAll("*,:x");w.push(",.*:")});(x.matchesSelector=Ra.test(sb=pa.matches||pa.webkitMatchesSelector||pa.mozMatchesSelector||pa.oMatchesSelector||pa.msMatchesSelector))&&t(function(a){x.disconnectedMatch=sb.call(a,"*");sb.call(a,"[s!='']:x");L.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
w=w.length&&new RegExp(w.join("|"));L=L.length&&new RegExp(L.join("|"));H=(n=Ra.test(pa.compareDocumentPosition))||Ra.test(pa.contains)?function(a,n){var b=9===a.nodeType?a.documentElement:a;n=n&&n.parentNode;return a===n||!!(n&&1===n.nodeType&&(b.contains?b.contains(n):a.compareDocumentPosition&&a.compareDocumentPosition(n)&16))}:function(a,n){if(n)for(;n=n.parentNode;)if(n===a)return!0;return!1};Yb=n?function(a,n){if(a===n)return B=!0,0;var b=!a.compareDocumentPosition-!n.compareDocumentPosition;
if(b)return b;b=(a.ownerDocument||a)===(n.ownerDocument||n)?a.compareDocumentPosition(n):1;return b&1||!x.sortDetached&&n.compareDocumentPosition(a)===b?a===C||a.ownerDocument===G&&H(G,a)?-1:n===C||n.ownerDocument===G&&H(G,n)?1:ra?Aa(ra,a)-Aa(ra,n):0:b&4?-1:1}:function(a,n){if(a===n)return B=!0,0;var b=0,c=a.parentNode,t=n.parentNode,d=[a],M=[n];if(!c||!t)return a===C?-1:n===C?1:c?-1:t?1:ra?Aa(ra,a)-Aa(ra,n):0;if(c===t)return f(a,n);for(;a=a.parentNode;)d.unshift(a);for(a=n;a=a.parentNode;)M.unshift(a);
for(;d[b]===M[b];)b++;return b?f(d[b],M[b]):d[b]===G?-1:M[b]===G?1:0};return C};n.matches=function(a,b){return n(a,null,null,b)};n.matchesSelector=function(a,b){(a.ownerDocument||a)!==C&&gc(a);if(!(!x.matchesSelector||!T||N[b+" "]||L&&L.test(b)||w&&w.test(b)))try{var c=sb.call(a,b);if(c||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(Cc){N(b,!0)}return 0<n(b,C,null,[a]).length};n.contains=function(a,n){(a.ownerDocument||a)!==C&&gc(a);return H(a,n)};n.attr=function(a,n){(a.ownerDocument||
a)!==C&&gc(a);var b=Fa.attrHandle[n.toLowerCase()];b=b&&R.call(Fa.attrHandle,n.toLowerCase())?b(a,n,!T):void 0;return void 0!==b?b:x.attributes||!T?a.getAttribute(n):(b=a.getAttributeNode(n))&&b.specified?b.value:null};n.escape=function(a){return(a+"").replace(va,ka)};n.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};n.uniqueSort=function(a){var n,b=[],c=0,t=0;B=!x.detectDuplicates;ra=!x.sortStable&&a.slice(0);a.sort(Yb);if(B){for(;n=a[t++];)n===a[t]&&(c=b.push(t));for(;c--;)a.splice(b[c],
1)}ra=null;return a};var pc=n.getText=function(a){var n="",b=0;var c=a.nodeType;if(!c)for(;c=a[b++];)n+=pc(c);else if(1===c||9===c||11===c){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)n+=pc(a)}else if(3===c||4===c)return a.nodeValue;return n};var Fa=n.selectors={cacheLength:50,createPseudo:c,match:Jb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){a[1]=a[1].replace(ba,ya);a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ya);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||n.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&n.error(a[0]);return a},PSEUDO:function(a){var n,b=!a[6]&&a[2];if(Jb.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":b&&ia.test(b)&&(n=Ea(b,!0))&&(n=b.indexOf(")",
b.length-n)-b.length)&&(a[0]=a[0].slice(0,n),a[2]=b.slice(0,n));return a.slice(0,3)}},filter:{TAG:function(a){var n=a.replace(ba,ya).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(a){var n=l[a+" "];return n||(n=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),l(a,function(a){return n.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,
b,c){return function(t){t=n.attr(t,a);if(null==t)return"!="===b;if(!b)return!0;t+="";return"="===b?t===c:"!="===b?t!==c:"^="===b?c&&0===t.indexOf(c):"*="===b?c&&-1<t.indexOf(c):"$="===b?c&&t.slice(-c.length)===c:"~="===b?-1<(" "+t.replace(W," ")+" ").indexOf(c):"|="===b?t===c||t.slice(0,c.length+1)===c+"-":!1}},CHILD:function(a,n,b,c,t){var d="nth"!==a.slice(0,3),M="last"!==a.slice(-4),g="of-type"===n;return 1===c&&0===t?function(a){return!!a.parentNode}:function(n,b,f){var p,e;b=d!==M?"nextSibling":
"previousSibling";var m=n.parentNode,qa=g&&n.nodeName.toLowerCase();f=!f&&!g;var h=!1;if(m){if(d){for(;b;){for(p=n;p=p[b];)if(g?p.nodeName.toLowerCase()===qa:1===p.nodeType)return!1;var q=b="only"===a&&!q&&"nextSibling"}return!0}q=[M?m.firstChild:m.lastChild];if(M&&f){p=m;var u=p[K]||(p[K]={});u=u[p.uniqueID]||(u[p.uniqueID]={});h=u[a]||[];h=(e=h[0]===O&&h[1])&&h[2];for(p=e&&m.childNodes[e];p=++e&&p&&p[b]||(h=e=0)||q.pop();)if(1===p.nodeType&&++h&&p===n){u[a]=[O,e,h];break}}else if(f&&(p=n,u=p[K]||
(p[K]={}),u=u[p.uniqueID]||(u[p.uniqueID]={}),h=u[a]||[],h=e=h[0]===O&&h[1]),!1===h)for(;(p=++e&&p&&p[b]||(h=e=0)||q.pop())&&((g?p.nodeName.toLowerCase()!==qa:1!==p.nodeType)||!++h||(f&&(u=p[K]||(p[K]={}),u=u[p.uniqueID]||(u[p.uniqueID]={}),u[a]=[O,h]),p!==n)););h-=t;return h===c||0===h%c&&0<=h/c}}},PSEUDO:function(a,b){var t=Fa.pseudos[a]||Fa.setFilters[a.toLowerCase()]||n.error("unsupported pseudo: "+a);if(t[K])return t(b);if(1<t.length){var d=[a,a,"",b];return Fa.setFilters.hasOwnProperty(a.toLowerCase())?
c(function(a,n){for(var c,d=t(a,b),M=d.length;M--;)c=Aa(a,d[M]),a[c]=!(n[c]=d[M])}):function(a){return t(a,0,d)}}return t}},pseudos:{not:c(function(a){var n=[],b=[],t=aa(a.replace(ta,"$1"));return t[K]?c(function(a,n,b,c){c=t(a,null,c,[]);for(var d=a.length;d--;)if(b=c[d])a[d]=!(n[d]=b)}):function(a,c,d){n[0]=a;t(n,null,d,b);n[0]=null;return!b.pop()}}),has:c(function(a){return function(b){return 0<n(a,b).length}}),contains:c(function(a){a=a.replace(ba,ya);return function(n){return-1<(n.textContent||
pc(n)).indexOf(a)}}),lang:c(function(a){Q.test(a||"")||n.error("unsupported lang: "+a);a=a.replace(ba,ya).toLowerCase();return function(n){var b;do if(b=T?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return b=b.toLowerCase(),b===a||0===b.indexOf(a+"-");while((n=n.parentNode)&&1===n.nodeType);return!1}}),target:function(n){var b=a.location&&a.location.hash;return b&&b.slice(1)===n.id},root:function(a){return a===pa},focus:function(a){return a===C.activeElement&&(!C.hasFocus||C.hasFocus())&&
!!(a.type||a.href||~a.tabIndex)},enabled:e(!1),disabled:e(!0),checked:function(a){var n=a.nodeName.toLowerCase();return"input"===n&&!!a.checked||"option"===n&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!Fa.pseudos.empty(a)},header:function(a){return Ib.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var n=
a.nodeName.toLowerCase();return"input"===n&&"button"===a.type||"button"===n},text:function(a){var n;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(n=a.getAttribute("type"))||"text"===n.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,n){return[n-1]}),eq:m(function(a,n,b){return[0>b?b+n:b]}),even:m(function(a,n){for(var b=0;b<n;b+=2)a.push(b);return a}),odd:m(function(a,n){for(var b=1;b<n;b+=2)a.push(b);return a}),lt:m(function(a,n,b){for(n=0>b?b+n:b>n?n:b;0<=--n;)a.push(n);
return a}),gt:m(function(a,n,b){for(b=0>b?b+n:b;++b<n;)a.push(b);return a})}};Fa.pseudos.nth=Fa.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Fa.pseudos[r]=g(r);for(r in{submit:!0,reset:!0})Fa.pseudos[r]=p(r);h.prototype=Fa.filters=Fa.pseudos;Fa.setFilters=new h;var Ea=n.tokenize=function(a,b){var c,t,d,M,g;if(M=A[a+" "])return b?0:M.slice(0);M=a;var f=[];for(g=Fa.preFilter;M;){if(!p||(c=X.exec(M)))c&&(M=M.slice(c[0].length)||M),f.push(t=[]);var p=!1;if(c=I.exec(M))p=c.shift(),
t.push({value:p,type:c[0].replace(ta," ")}),M=M.slice(p.length);for(d in Fa.filter)!(c=Jb[d].exec(M))||g[d]&&!(c=g[d](c))||(p=c.shift(),t.push({value:p,type:d,matches:c}),M=M.slice(p.length));if(!p)break}return b?M.length:M?n.error(a):A(a,f).slice(0)};var aa=n.compile=function(a,n){var b,c=[],t=[],d=S[a+" "];if(!d){n||(n=Ea(a));for(b=n.length;b--;)d=J(n[b]),d[K]?c.push(d):t.push(d);d=S(a,P(t,c));d.selector=a}return d};var fa=n.select=function(a,n,b,c){var t,d,M,g="function"===typeof a&&a,f=!c&&Ea(a=
g.selector||a);b=b||[];if(1===f.length){var p=f[0]=f[0].slice(0);if(2<p.length&&"ID"===(d=p[0]).type&&9===n.nodeType&&T&&Fa.relative[p[1].type]){n=(Fa.find.ID(d.matches[0].replace(ba,ya),n)||[])[0];if(!n)return b;g&&(n=n.parentNode);a=a.slice(p.shift().value.length)}for(t=Jb.needsContext.test(a)?0:p.length;t--;){d=p[t];if(Fa.relative[M=d.type])break;if(M=Fa.find[M])if(c=M(d.matches[0].replace(ba,ya),ua.test(p[0].type)&&qa(n.parentNode)||n)){p.splice(t,1);a=c.length&&q(p);if(!a)return Y.apply(b,c),
b;break}}}(g||aa(a,f))(c,n,!T,b,!n||ua.test(a)&&qa(n.parentNode)||n);return b};x.sortStable=K.split("").sort(Yb).join("")===K;x.detectDuplicates=!!B;gc();x.sortDetached=t(function(a){return a.compareDocumentPosition(C.createElement("fieldset"))&1});t(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||d("type|href|height|width",function(a,n,b){if(!b)return a.getAttribute(n,"type"===n.toLowerCase()?1:2)});x.attributes&&t(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||d("value",function(a,n,b){if(!b&&"input"===a.nodeName.toLowerCase())return a.defaultValue});t(function(a){return null==a.getAttribute("disabled")})||d("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,n,b){var c;if(!b)return!0===a[n]?n.toLowerCase():(c=a.getAttributeNode(n))&&c.specified?c.value:null});return n}(F);y.find=cb;y.expr=cb.selectors;y.expr[":"]=y.expr.pseudos;
y.uniqueSort=y.unique=cb.uniqueSort;y.text=cb.getText;y.isXMLDoc=cb.isXML;y.contains=cb.contains;y.escapeSelector=cb.escape;var za=function(a,b,c){for(var n=[],t=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(t&&y(a).is(c))break;n.push(a)}return n},Gb=function(a,b){for(var n=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&n.push(a);return n},gb=y.expr.match.needsContext,ob=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;y.filter=function(a,b,c){var n=b[0];c&&(a=":not("+a+
")");return 1===b.length&&1===n.nodeType?y.find.matchesSelector(n,a)?[n]:[]:y.find.matches(a,y.grep(b,function(a){return 1===a.nodeType}))};y.fn.extend({find:function(a){var n,b=this.length,c=this;if("string"!==typeof a)return this.pushStack(y(a).filter(function(){for(n=0;n<b;n++)if(y.contains(c[n],this))return!0}));var t=this.pushStack([]);for(n=0;n<b;n++)y.find(a,c[n],t);return 1<b?y.uniqueSort(t):t},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,
a||[],!0))},is:function(a){return!!e(this,"string"===typeof a&&gb.test(a)?y(a):a||[],!1).length}});var Ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(y.fn.init=function(a,b,c){if(!a)return this;c=c||Nb;if("string"===typeof a){var n="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:Ia.exec(a);if(!n||!n[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(n[1]){if(b=b instanceof y?b[0]:b,y.merge(this,y.parseHTML(n[1],b&&b.nodeType?b.ownerDocument||b:oa,!0)),ob.test(n[1])&&y.isPlainObject(b))for(n in b)if(sa(this[n]))this[n](b[n]);
else this.attr(n,b[n])}else if(a=oa.getElementById(n[2]))this[0]=a,this.length=1;return this}return a.nodeType?(this[0]=a,this.length=1,this):sa(a)?void 0!==c.ready?c.ready(a):a(y):y.makeArray(a,this)}).prototype=y.fn;var Nb=y(oa);var Oa=/^(?:parents|prev(?:Until|All))/,Ub={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(a){var n=y(a,this),b=n.length;return this.filter(function(){for(var a=0;a<b;a++)if(y.contains(this,n[a]))return!0})},closest:function(a,b){var n,c=0,t=this.length,
d=[],M="string"!==typeof a&&y(a);if(!gb.test(a))for(;c<t;c++)for(n=this[c];n&&n!==b;n=n.parentNode)if(11>n.nodeType&&(M?-1<M.index(n):1===n.nodeType&&y.find.matchesSelector(n,a))){d.push(n);break}return this.pushStack(1<d.length?y.uniqueSort(d):d)},index:function(a){return a?"string"===typeof a?ra.call(y(a),this[0]):ra.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(a,b))))},addBack:function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))}});y.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return za(a,"parentNode")},parentsUntil:function(a,b,c){return za(a,"parentNode",c)},next:function(a){return k(a,"nextSibling")},prev:function(a){return k(a,"previousSibling")},nextAll:function(a){return za(a,"nextSibling")},prevAll:function(a){return za(a,"previousSibling")},nextUntil:function(a,b,c){return za(a,"nextSibling",c)},prevUntil:function(a,b,c){return za(a,
"previousSibling",c)},siblings:function(a){return Gb((a.parentNode||{}).firstChild,a)},children:function(a){return Gb(a.firstChild)},contents:function(a){if("undefined"!==typeof a.contentDocument)return a.contentDocument;c(a,"template")&&(a=a.content||a);return y.merge([],a.childNodes)}},function(a,b){y.fn[a]=function(n,c){var t=y.map(this,b,n);"Until"!==a.slice(-5)&&(c=n);c&&"string"===typeof c&&(t=y.filter(c,t));1<this.length&&(Ub[a]||y.uniqueSort(t),Oa.test(a)&&t.reverse());return this.pushStack(t)}});
var Ya=/[^\x20\t\r\n\f]+/g;y.Callbacks=function(a){a="string"===typeof a?H(a):y.extend({},a);var n,b,c,t,d=[],g=[],f=-1,p=function(){t=t||a.once;for(c=n=!0;g.length;f=-1)for(b=g.shift();++f<d.length;)!1===d[f].apply(b[0],b[1])&&a.stopOnFalse&&(f=d.length,b=!1);a.memory||(b=!1);n=!1;t&&(d=b?[]:"")},e={add:function(){d&&(b&&!n&&(f=d.length-1,g.push(b)),function yc(n){y.each(n,function(n,b){sa(b)?a.unique&&e.has(b)||d.push(b):b&&b.length&&"string"!==Ca(b)&&yc(b)})}(arguments),b&&!n&&p());return this},
remove:function(){y.each(arguments,function(a,n){for(var b;-1<(b=y.inArray(n,d,b));)d.splice(b,1),b<=f&&f--});return this},has:function(a){return a?-1<y.inArray(a,d):0<d.length},empty:function(){d&&(d=[]);return this},disable:function(){t=g=[];d=b="";return this},disabled:function(){return!d},lock:function(){t=g=[];b||n||(d=b="");return this},locked:function(){return!!t},fireWith:function(a,b){t||(b=b||[],b=[a,b.slice?b.slice():b],g.push(b),n||p());return this},fire:function(){e.fireWith(this,arguments);
return this},fired:function(){return!!c}};return e};y.extend({Deferred:function(a){var n=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],b="pending",c={state:function(){return b},always:function(){t.done(arguments).fail(arguments);return this},"catch":function(a){return c.then(null,a)},pipe:function(){var a=
arguments;return y.Deferred(function(b){y.each(n,function(n,c){var d=sa(a[c[4]])&&a[c[4]];t[c[1]](function(){var a=d&&d.apply(this,arguments);if(a&&sa(a.promise))a.promise().progress(b.notify).done(b.resolve).fail(b.reject);else b[c[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(a,b,c){function t(a,n,b,c){return function(){var M=this,g=arguments,f=function(){if(!(a<d)){var f=b.apply(M,g);if(f===n.promise())throw new TypeError("Thenable self-resolution");var p=f&&("object"===
typeof f||"function"===typeof f)&&f.then;sa(p)?c?p.call(f,t(d,n,r,c),t(d,n,h,c)):(d++,p.call(f,t(d,n,r,c),t(d,n,h,c),t(d,n,r,n.notifyWith))):(b!==r&&(M=void 0,g=[f]),(c||n.resolveWith)(M,g))}},p=c?f:function(){try{f()}catch(kc){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(kc,p.stackTrace),a+1>=d&&(b!==h&&(M=void 0,g=[kc]),n.rejectWith(M,g))}};a?p():(y.Deferred.getStackHook&&(p.stackTrace=y.Deferred.getStackHook()),F.setTimeout(p))}}var d=0;return y.Deferred(function(d){n[0][3].add(t(0,d,sa(c)?
c:r,d.notifyWith));n[1][3].add(t(0,d,sa(a)?a:r));n[2][3].add(t(0,d,sa(b)?b:h))}).promise()},promise:function(a){return null!=a?y.extend(a,c):c}},t={};y.each(n,function(a,d){var M=d[2],f=d[5];c[d[1]]=M.add;f&&M.add(function(){b=f},n[3-a][2].disable,n[3-a][3].disable,n[0][2].lock,n[0][3].lock);M.add(d[3].fire);t[d[0]]=function(){t[d[0]+"With"](this===t?void 0:this,arguments);return this};t[d[0]+"With"]=M.fireWith});c.promise(t);a&&a.call(t,t);return t},when:function(a){var n=arguments.length,b=n,c=
Array(b),t=va.call(arguments),d=y.Deferred(),f=function(a){return function(b){c[a]=this;t[a]=1<arguments.length?va.call(arguments):b;--n||d.resolveWith(c,t)}};if(1>=n&&(v(a,d.done(f(b)).resolve,d.reject,!n),"pending"===d.state()||sa(t[b]&&t[b].then)))return d.then();for(;b--;)v(t[b],f(b),d.reject);return d.promise()}});var Ka=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(a,b){F.console&&F.console.warn&&a&&Ka.test(a.name)&&F.console.warn("jQuery.Deferred exception: "+
a.message,a.stack,b)};y.readyException=function(a){F.setTimeout(function(){throw a;})};var Ja=y.Deferred();y.fn.ready=function(a){Ja.then(a).catch(function(a){y.readyException(a)});return this};y.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--y.readyWait:y.isReady)||(y.isReady=!0,!0!==a&&0<--y.readyWait||Ja.resolveWith(oa,[y]))}});y.ready.then=Ja.then;"complete"===oa.readyState||"loading"!==oa.readyState&&!oa.documentElement.doScroll?F.setTimeout(y.ready):(oa.addEventListener("DOMContentLoaded",
w),F.addEventListener("load",w));var ja=function(a,b,c,t,d,f,g){var n=0,M=a.length,p=null==c;if("object"===Ca(c))for(n in d=!0,c)ja(a,b,n,c[n],!0,f,g);else if(void 0!==t&&(d=!0,sa(t)||(g=!0),p&&(g?(b.call(a,t),b=null):(p=b,b=function(a,b,n){return p.call(y(a),n)})),b))for(;n<M;n++)b(a[n],c,g?t:t.call(a[n],n,b(a[n],c)));return d?a:p?b.call(a):M?b(a[0],c):f},pa=/^-ms-/,Aa=/-([a-z])/g,Ra=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1;q.prototype={cache:function(a){var b=a[this.expando];
b||(b={},Ra(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0})));return b},set:function(a,b,c){var n;a=this.cache(a);if("string"===typeof b)a[A(b)]=c;else for(n in b)a[A(n)]=b[n];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][A(b)]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return this.get(a,b);this.set(a,b,c);return void 0!==c?c:b},remove:function(a,b){var n,c=a[this.expando];
if(void 0!==c){if(void 0!==b)for(Array.isArray(b)?b=b.map(A):(b=A(b),b=b in c?[b]:b.match(Ya)||[]),n=b.length;n--;)delete c[b[n]];if(void 0===b||y.isEmptyObject(c))a.nodeType?a[this.expando]=void 0:delete a[this.expando]}},hasData:function(a){a=a[this.expando];return void 0!==a&&!y.isEmptyObject(a)}};var ma=new q,Ea=new q,mb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$a=/[A-Z]/g;y.extend({hasData:function(a){return Ea.hasData(a)||ma.hasData(a)},data:function(a,b,c){return Ea.access(a,b,c)},removeData:function(a,
b){Ea.remove(a,b)},_data:function(a,b,c){return ma.access(a,b,c)},_removeData:function(a,b){ma.remove(a,b)}});y.fn.extend({data:function(a,b){var n,c=this[0],t=c&&c.attributes;if(void 0===a){if(this.length){var f=Ea.get(c);if(1===c.nodeType&&!ma.get(c,"hasDataAttrs")){for(n=t.length;n--;)if(t[n]){var g=t[n].name;0===g.indexOf("data-")&&(g=A(g.slice(5)),d(c,g,f[g]))}ma.set(c,"hasDataAttrs",!0)}}return f}return"object"===typeof a?this.each(function(){Ea.set(this,a)}):ja(this,function(b){if(c&&void 0===
b){var n=Ea.get(c,a);if(void 0!==n)return n;n=d(c,a);if(void 0!==n)return n}else this.each(function(){Ea.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){Ea.remove(this,a)})}});y.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var n=ma.get(a,b);c&&(!n||Array.isArray(c)?n=ma.access(a,b,y.makeArray(c)):n.push(c));return n||[]}},dequeue:function(a,b){b=b||"fx";var n=y.queue(a,b),c=n.length,t=n.shift(),d=y._queueHooks(a,b),f=function(){y.dequeue(a,
b)};"inprogress"===t&&(t=n.shift(),c--);t&&("fx"===b&&n.unshift("inprogress"),delete d.stop,t.call(a,f,d));!c&&d&&d.empty.fire()},_queueHooks:function(a,b){var n=b+"queueHooks";return ma.get(a,n)||ma.access(a,n,{empty:y.Callbacks("once memory").add(function(){ma.remove(a,[b+"queue",n])})})}});y.fn.extend({queue:function(a,b){var n=2;"string"!==typeof a&&(b=a,a="fx",n--);return arguments.length<n?y.queue(this[0],a):void 0===b?this:this.each(function(){var n=y.queue(this,a,b);y._queueHooks(this,a);
"fx"===a&&"inprogress"!==n[0]&&y.dequeue(this,a)})},dequeue:function(a){return this.each(function(){y.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var n,c=1,t=y.Deferred(),d=this,f=this.length,g=function(){--c||t.resolveWith(d,[d])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";f--;)(n=ma.get(d[f],a+"queueHooks"))&&n.empty&&(c++,n.empty.add(g));g();return t.promise(b)}});var $b=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ba=new RegExp("^(?:([+-])=|)("+
$b+")([a-z%]*)$","i"),Qa=["Top","Right","Bottom","Left"],ub=oa.documentElement,nb=function(a){return y.contains(a.ownerDocument,a)},Za={composed:!0};ub.getRootNode&&(nb=function(a){return y.contains(a.ownerDocument,a)||a.getRootNode(Za)===a.ownerDocument});var Ma=function(a,b){a=b||a;return"none"===a.style.display||""===a.style.display&&nb(a)&&"none"===y.css(a,"display")},Ob=function(a,b,c,t){var n,d={};for(n in b)d[n]=a.style[n],a.style[n]=b[n];c=c.apply(a,t||[]);for(n in b)a.style[n]=d[n];return c},
ab={};y.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Ma(this)?y(this).show():y(this).hide()})}});var hb=/^(?:checkbox|radio)$/i,bb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sa=/^$|^module$|\/(?:java|ecma)script/i,eb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};eb.optgroup=eb.option;eb.tbody=eb.tfoot=eb.colgroup=eb.caption=eb.thead;eb.th=eb.td;var Zb=/<|&#?\w+;/;(function(){var a=oa.createDocumentFragment().appendChild(oa.createElement("div")),b=oa.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);Da.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";Da.noCloneChecked=
!!a.cloneNode(!0).lastChild.defaultValue})();var ac=/^key/,lc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Vb=/^([^.]*)(?:\.(.+)|)/;y.event={global:{},add:function(a,b,c,t,d){var n,f,g,M,p;if(g=ma.get(a)){if(c.handler){var e=c;c=e.handler;d=e.selector}d&&y.find.matchesSelector(ub,d);c.guid||(c.guid=y.guid++);(f=g.events)||(f=g.events={});(n=g.handle)||(n=g.handle=function(b){return"undefined"!==typeof y&&y.event.triggered!==b.type?y.event.dispatch.apply(a,arguments):void 0});b=(b||"").match(Ya)||
[""];for(g=b.length;g--;){var h=Vb.exec(b[g])||[];var m=M=h[1];var qa=(h[2]||"").split(".").sort();m&&(h=y.event.special[m]||{},m=(d?h.delegateType:h.bindType)||m,h=y.event.special[m]||{},M=y.extend({type:m,origType:M,data:t,handler:c,guid:c.guid,selector:d,needsContext:d&&y.expr.match.needsContext.test(d),namespace:qa.join(".")},e),(p=f[m])||(p=f[m]=[],p.delegateCount=0,h.setup&&!1!==h.setup.call(a,t,qa,n)||a.addEventListener&&a.addEventListener(m,n)),h.add&&(h.add.call(a,M),M.handler.guid||(M.handler.guid=
c.guid)),d?p.splice(p.delegateCount++,0,M):p.push(M),y.event.global[m]=!0)}}},remove:function(a,b,c,t,d){var n,f,g,M,p,e=ma.hasData(a)&&ma.get(a);if(e&&(g=e.events)){b=(b||"").match(Ya)||[""];for(M=b.length;M--;){var h=Vb.exec(b[M])||[];var m=p=h[1];var qa=(h[2]||"").split(".").sort();if(m){var u=y.event.special[m]||{};m=(t?u.delegateType:u.bindType)||m;var q=g[m]||[];h=h[2]&&new RegExp("(^|\\.)"+qa.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=n=q.length;n--;){var z=q[n];!d&&p!==z.origType||c&&c.guid!==
z.guid||h&&!h.test(z.namespace)||t&&t!==z.selector&&("**"!==t||!z.selector)||(q.splice(n,1),z.selector&&q.delegateCount--,u.remove&&u.remove.call(a,z))}f&&!q.length&&(u.teardown&&!1!==u.teardown.call(a,qa,e.handle)||y.removeEvent(a,m,e.handle),delete g[m])}else for(m in g)y.event.remove(a,m+b[M],c,t,!0)}y.isEmptyObject(g)&&ma.remove(a,"handle events")}},dispatch:function(a){var b=y.event.fix(a),n,c,t,d=Array(arguments.length);var f=(ma.get(this,"events")||{})[b.type]||[];var g=y.event.special[b.type]||
{};d[0]=b;for(n=1;n<arguments.length;n++)d[n]=arguments[n];b.delegateTarget=this;if(!g.preDispatch||!1!==g.preDispatch.call(this,b)){var p=y.event.handlers.call(this,b,f);for(n=0;(t=p[n++])&&!b.isPropagationStopped();)for(b.currentTarget=t.elem,f=0;(c=t.handlers[f++])&&!b.isImmediatePropagationStopped();)if(!b.rnamespace||!1===c.namespace||b.rnamespace.test(c.namespace))b.handleObj=c,b.data=c.data,c=((y.event.special[c.origType]||{}).handle||c.handler).apply(t.elem,d),void 0!==c&&!1===(b.result=c)&&
(b.preventDefault(),b.stopPropagation());g.postDispatch&&g.postDispatch.call(this,b);return b.result}},handlers:function(a,b){var n,c=[],t=b.delegateCount,d=a.target;if(t&&d.nodeType&&!("click"===a.type&&1<=a.button))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==a.type||!0!==d.disabled)){var f=[];var g={};for(n=0;n<t;n++){var p=b[n];var M=p.selector+" ";void 0===g[M]&&(g[M]=p.needsContext?-1<y(M,this).index(d):y.find(M,this,null,[d]).length);g[M]&&f.push(p)}f.length&&c.push({elem:d,
handlers:f})}t<b.length&&c.push({elem:this,handlers:b.slice(t)});return c},addProp:function(a,b){Object.defineProperty(y.Event.prototype,a,{enumerable:!0,configurable:!0,get:sa(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[y.expando]?a:new y.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){a=
this||a;hb.test(a.type)&&a.click&&c(a,"input")&&V(a,"click",B);return!1},trigger:function(a){a=this||a;hb.test(a.type)&&a.click&&c(a,"input")&&V(a,"click");return!0},_default:function(a){a=a.target;return hb.test(a.type)&&a.click&&c(a,"input")&&ma.get(a,"click")||c(a,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};y.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};y.Event=function(a,b){if(!(this instanceof
y.Event))return new y.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?B:G,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;b&&y.extend(this,b);this.timeStamp=a&&a.timeStamp||Date.now();this[y.expando]=!0};y.Event.prototype={constructor:y.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=B;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=B;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=B;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&ac.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&lc.test(a.type)?b&1?1:b&2?3:b&4?2:0:a.which}},y.event.addProp);y.each({focus:"focusin",blur:"focusout"},
function(a,b){y.event.special[a]={setup:function(){V(this,a,z);return!1},trigger:function(){V(this,a);return!0},delegateType:b}});y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){y.event.special[a]={delegateType:b,bindType:b,handle:function(a){var n=a.relatedTarget,c=a.handleObj;if(!n||n!==this&&!y.contains(this,n)){a.type=c.origType;var t=c.handler.apply(this,arguments);a.type=b}return t}}});y.fn.extend({on:function(a,b,c,t){return m(this,
a,b,c,t)},one:function(a,b,c,t){return m(this,a,b,c,t,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var n=a.handleObj;y(a.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler);return this}if("object"===typeof a){for(n in a)this.off(n,b,a[n]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=G);return this.each(function(){y.event.remove(this,a,c,b)})}});var bc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
pb=/<script|<style|<link/i,Kb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ta=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;y.extend({htmlPrefilter:function(a){return a.replace(bc,"<$1></$2>")},clone:function(a,b,c){var n,t=a.cloneNode(!0),d=nb(a);if(!(Da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||y.isXMLDoc(a))){var f=g(t);var p=g(a);var M=0;for(n=p.length;M<n;M++){var e=p[M],h=f[M],m=h.nodeName.toLowerCase();if("input"===m&&hb.test(e.type))h.checked=e.checked;else if("input"===m||"textarea"===m)h.defaultValue=
e.defaultValue}}if(b)if(c)for(p=p||g(a),f=f||g(t),M=0,n=p.length;M<n;M++)R(p[M],f[M]);else R(a,t);f=g(t,"script");0<f.length&&L(f,!d&&g(a,"script"));return t},cleanData:function(a){for(var b,n,c,t=y.event.special,d=0;void 0!==(n=a[d]);d++)if(Ra(n)){if(b=n[ma.expando]){if(b.events)for(c in b.events)t[c]?y.event.remove(n,c):y.removeEvent(n,c,b.handle);n[ma.expando]=void 0}n[Ea.expando]&&(n[Ea.expando]=void 0)}}});y.fn.extend({detach:function(a){return I(this,a,!0)},remove:function(a){return I(this,
a)},text:function(a){return ja(this,function(a){return void 0===a?y.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return Q(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||U(this,a).appendChild(a)})},prepend:function(){return Q(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=U(this,a);b.insertBefore(a,
b.firstChild)}})},before:function(){return Q(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Q(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(y.cleanData(g(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return y.clone(this,a,b)})},html:function(a){return ja(this,
function(a){var b=this[0]||{},n=0,c=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!pb.test(a)&&!eb[(bb.exec(a)||["",""])[1].toLowerCase()]){a=y.htmlPrefilter(a);try{for(;n<c;n++)b=this[n]||{},1===b.nodeType&&(y.cleanData(g(b,!1)),b.innerHTML=a);b=0}catch(jc){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Q(this,arguments,function(b){var n=this.parentNode;0>y.inArray(this,a)&&(y.cleanData(g(this)),n&&n.replaceChild(b,
this))},a)}});y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){y.fn[a]=function(a){for(var n=[],c=y(a),t=c.length-1,d=0;d<=t;d++)a=d===t?this:this.clone(!0),y(c[d])[b](a),zb.apply(n,a.get());return this.pushStack(n)}});var tb=new RegExp("^("+$b+")(?!px)[a-z%]+$","i"),kb=function(a){var b=a.ownerDocument.defaultView;b&&b.opener||(b=F);return b.getComputedStyle(a)},wa=new RegExp(Qa.join("|"),"i");(function(){function a(){if(p){g.style.cssText=
"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";p.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";ub.appendChild(g).appendChild(p);var a=F.getComputedStyle(p);b="1%"!==a.top;f=12===Math.round(parseFloat(a.marginLeft));p.style.right="60%";d=36===Math.round(parseFloat(a.right));c=36===Math.round(parseFloat(a.width));p.style.position="absolute";t=12===Math.round(parseFloat(p.offsetWidth/
3));ub.removeChild(g);p=null}}var b,c,t,d,f,g=oa.createElement("div"),p=oa.createElement("div");p.style&&(p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",Da.clearCloneStyle="content-box"===p.style.backgroundClip,y.extend(Da,{boxSizingReliable:function(){a();return c},pixelBoxStyles:function(){a();return d},pixelPosition:function(){a();return b},reliableMarginLeft:function(){a();return f},scrollboxSize:function(){a();return t}}))})();var ec=["Webkit","Moz","ms"],Na=oa.createElement("div").style,
Sb={},Ab=/^(none|table(?!-c[ea]).+)/,Wa=/^--/,mc={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:"0",fontWeight:"400"};y.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=ca(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,
zIndex:!0,zoom:!0},cssProps:{},style:function(a,b,c,t){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var n,d=A(b),g=Wa.test(b),p=a.style;g||(b=P(d));var M=y.cssHooks[b]||y.cssHooks[d];if(void 0!==c){var e=typeof c;"string"===e&&(n=Ba.exec(c))&&n[1]&&(c=f(a,b,n),e="number");null!=c&&c===c&&("number"!==e||g||(c+=n&&n[3]||(y.cssNumber[d]?"":"px")),Da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(p[b]="inherit"),M&&"set"in M&&void 0===(c=M.set(a,c,t))||(g?p.setProperty(b,c):p[b]=c))}else return M&&
"get"in M&&void 0!==(n=M.get(a,!1,t))?n:p[b]}},css:function(a,b,c,t){var n;var d=A(b);Wa.test(b)||(b=P(d));(d=y.cssHooks[b]||y.cssHooks[d])&&"get"in d&&(n=d.get(a,!0,c));void 0===n&&(n=ca(a,b,t));"normal"===n&&b in Tb&&(n=Tb[b]);return""===c||c?(a=parseFloat(n),!0===c||isFinite(a)?a||0:n):n}});y.each(["height","width"],function(a,b){y.cssHooks[b]={get:function(a,c,n){if(c)return!Ab.test(y.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?J(a,b,n):Ob(a,mc,function(){return J(a,
b,n)})},set:function(a,c,n){var t,d=kb(a),f=!Da.scrollboxSize()&&"absolute"===d.position,g=(f||n)&&"border-box"===y.css(a,"boxSizing",!1,d);n=n?S(a,b,n,g,d):0;g&&f&&(n-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(d[b])-S(a,b,"border",!1,d)-.5));n&&(t=Ba.exec(c))&&"px"!==(t[3]||"px")&&(a.style[b]=c,c=y.css(a,b));return T(a,c,n)}}});y.cssHooks.marginLeft=ba(Da.reliableMarginLeft,function(a,b){if(b)return(parseFloat(ca(a,"marginLeft"))||a.getBoundingClientRect().left-Ob(a,{marginLeft:0},
function(){return a.getBoundingClientRect().left}))+"px"});y.each({margin:"",padding:"",border:"Width"},function(a,b){y.cssHooks[a+b]={expand:function(c){var n=0,t={};for(c="string"===typeof c?c.split(" "):[c];4>n;n++)t[a+Qa[n]+b]=c[n]||c[n-2]||c[0];return t}};"margin"!==a&&(y.cssHooks[a+b].set=T)});y.fn.extend({css:function(a,b){return ja(this,function(a,b,c){var n,t={},d=0;if(Array.isArray(b)){c=kb(a);for(n=b.length;d<n;d++)t[b[d]]=y.css(a,b[d],!1,c);return t}return void 0!==c?y.style(a,b,c):y.css(a,
b)},a,b,1<arguments.length)}});y.Tween=p;p.prototype={constructor:p,init:function(a,b,c,t,d,f){this.elem=a;this.prop=c;this.easing=d||y.easing._default;this.options=b;this.start=this.now=this.cur();this.end=t;this.unit=f||(y.cssNumber[c]?"":"px")},cur:function(){var a=p.propHooks[this.prop];return a&&a.get?a.get(this):p.propHooks._default.get(this)},run:function(a){var b,c=p.propHooks[this.prop];this.pos=this.options.duration?b=y.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):
b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):p.propHooks._default.set(this);return this}};p.prototype.init.prototype=p.prototype;p.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=y.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(y.fx.step[a.prop])y.fx.step[a.prop](a);else 1!==a.elem.nodeType||!y.cssHooks[a.prop]&&
null==a.elem.style[P(a.prop)]?a.elem[a.prop]=a.now:y.style(a.elem,a.prop,a.now+a.unit)}}};p.propHooks.scrollTop=p.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};y.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};y.fx=p.prototype.init;y.fx.step={};var fb,Ua,Xa=/^(?:toggle|show|hide)$/,Pa=/queueHooks$/;y.Animation=y.extend(X,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);f(c.elem,a,
Ba.exec(b),c);return c}]},tweener:function(a,b){sa(a)?(b=a,a=["*"]):a=a.match(Ya);for(var c,n=0,t=a.length;n<t;n++)c=a[n],X.tweeners[c]=X.tweeners[c]||[],X.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var n;var t="width"in b||"height"in b;var d=this,f={},g=a.style,p=a.nodeType&&Ma(a),e=ma.get(a,"fxshow");if(!c.queue){var h=y._queueHooks(a,"fx");if(null==h.unqueued){h.unqueued=0;var m=h.empty.fire;h.empty.fire=function(){h.unqueued||m()}}h.unqueued++;d.always(function(){d.always(function(){h.unqueued--;
y.queue(a,"fx").length||h.empty.fire()})})}for(n in b){var M=b[n];if(Xa.test(M)){delete b[n];var qa=qa||"toggle"===M;if(M===(p?"hide":"show"))if("show"===M&&e&&void 0!==e[n])p=!0;else continue;f[n]=e&&e[n]||y.style(a,n)}}if((b=!y.isEmptyObject(b))||!y.isEmptyObject(f)){if(t&&1===a.nodeType){c.overflow=[g.overflow,g.overflowX,g.overflowY];var u=e&&e.display;null==u&&(u=ma.get(a,"display"));t=y.css(a,"display");"none"===t&&(u?t=u:(C([a],!0),u=a.style.display||u,t=y.css(a,"display"),C([a])));("inline"===
t||"inline-block"===t&&null!=u)&&"none"===y.css(a,"float")&&(b||(d.done(function(){g.display=u}),null==u&&(t=g.display,u="none"===t?"":t)),g.display="inline-block")}c.overflow&&(g.overflow="hidden",d.always(function(){g.overflow=c.overflow[0];g.overflowX=c.overflow[1];g.overflowY=c.overflow[2]}));b=!1;for(n in f)b||(e?"hidden"in e&&(p=e.hidden):e=ma.access(a,"fxshow",{display:u}),qa&&(e.hidden=!p),p&&C([a],!0),d.done(function(){p||C([a]);ma.remove(a,"fxshow");for(n in f)y.style(a,n,f[n])})),b=ta(p?
e[n]:0,n,d),n in e||(e[n]=b.start,p&&(b.end=b.start,b.start=0))}}],prefilter:function(a,b){b?X.prefilters.unshift(a):X.prefilters.push(a)}});y.speed=function(a,b,c){var n=a&&"object"===typeof a?y.extend({},a):{complete:c||!c&&b||sa(a)&&a,duration:a,easing:c&&b||b&&!sa(b)&&b};y.fx.off?n.duration=0:"number"!==typeof n.duration&&(n.duration=n.duration in y.fx.speeds?y.fx.speeds[n.duration]:y.fx.speeds._default);if(null==n.queue||!0===n.queue)n.queue="fx";n.old=n.complete;n.complete=function(){sa(n.old)&&
n.old.call(this);n.queue&&y.dequeue(this,n.queue)};return n};y.fn.extend({fadeTo:function(a,b,c,t){return this.filter(Ma).css("opacity",0).show().end().animate({opacity:b},a,c,t)},animate:function(a,b,c,t){var n=y.isEmptyObject(a),d=y.speed(b,c,t);b=function(){var b=X(this,y.extend({},a),d);(n||ma.get(this,"finish"))&&b.stop(!0)};b.finish=b;return n||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,c){var n=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=
a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,t=null!=a&&a+"queueHooks",d=y.timers,f=ma.get(this);if(t)f[t]&&f[t].stop&&n(f[t]);else for(t in f)f[t]&&f[t].stop&&Pa.test(t)&&n(f[t]);for(t=d.length;t--;)d[t].elem!==this||null!=a&&d[t].queue!==a||(d[t].anim.stop(c),b=!1,d.splice(t,1));!b&&c||y.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=ma.get(this),c=b[a+"queue"];var n=b[a+"queueHooks"];var t=y.timers,d=c?c.length:
0;b.finish=!0;y.queue(this,a,[]);n&&n.stop&&n.stop.call(this,!0);for(n=t.length;n--;)t[n].elem===this&&t[n].queue===a&&(t[n].anim.stop(!0),t.splice(n,1));for(n=0;n<d;n++)c[n]&&c[n].finish&&c[n].finish.call(this);delete b.finish})}});y.each(["toggle","show","hide"],function(a,b){var c=y.fn[b];y.fn[b]=function(a,n,t){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,n,t)}});y.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){y.fn[a]=function(a,c,n){return this.animate(b,a,c,n)}});y.timers=[];y.fx.tick=function(){var a=0,b=y.timers;for(fb=Date.now();a<b.length;a++){var c=b[a];c()||b[a]!==c||b.splice(a--,1)}b.length||y.fx.stop();fb=void 0};y.fx.timer=function(a){y.timers.push(a);y.fx.start()};y.fx.interval=13;y.fx.start=function(){Ua||(Ua=!0,D())};y.fx.stop=function(){Ua=null};y.fx.speeds={slow:600,fast:200,_default:400};y.fn.delay=function(a,b){a=y.fx?
y.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var n=F.setTimeout(b,a);c.stop=function(){F.clearTimeout(n)}})};(function(){var a=oa.createElement("input"),b=oa.createElement("select").appendChild(oa.createElement("option"));a.type="checkbox";Da.checkOn=""!==a.value;Da.optSelected=b.selected;a=oa.createElement("input");a.value="t";a.type="radio";Da.radioValue="t"===a.value})();var Pb=y.expr.attrHandle;y.fn.extend({attr:function(a,b){return ja(this,y.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){y.removeAttr(this,
a)})}});y.extend({attr:function(a,b,c){var n,t,d=a.nodeType;if(3!==d&&8!==d&&2!==d){if("undefined"===typeof a.getAttribute)return y.prop(a,b,c);1===d&&y.isXMLDoc(a)||(t=y.attrHooks[b.toLowerCase()]||(y.expr.match.bool.test(b)?vb:void 0));if(void 0!==c){if(null===c){y.removeAttr(a,b);return}if(t&&"set"in t&&void 0!==(n=t.set(a,c,b)))return n;a.setAttribute(b,c+"");return c}if(t&&"get"in t&&null!==(n=t.get(a,b)))return n;n=y.find.attr(a,b);return null==n?void 0:n}},attrHooks:{type:{set:function(a,b){if(!Da.radioValue&&
"radio"===b&&c(a,"input")){var n=a.value;a.setAttribute("type",b);n&&(a.value=n);return b}}}},removeAttr:function(a,b){var c=0,n=b&&b.match(Ya);if(n&&1===a.nodeType)for(;b=n[c++];)a.removeAttribute(b)}});var vb={set:function(a,b,c){!1===b?y.removeAttr(a,c):a.setAttribute(c,c);return c}};y.each(y.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Pb[b]||y.find.attr;Pb[b]=function(a,b,n){var t=b.toLowerCase();if(!n){var d=Pb[t];Pb[t]=f;var f=null!=c(a,b,n)?t:null;Pb[t]=d}return f}});var Va=/^(?:input|select|textarea|button)$/i,
lb=/^(?:a|area)$/i;y.fn.extend({prop:function(a,b){return ja(this,y.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[y.propFix[a]||a]})}});y.extend({prop:function(a,b,c){var n,t=a.nodeType;if(3!==t&&8!==t&&2!==t){if(1!==t||!y.isXMLDoc(a)){b=y.propFix[b]||b;var d=y.propHooks[b]}return void 0!==c?d&&"set"in d&&void 0!==(n=d.set(a,c,b))?n:a[b]=c:d&&"get"in d&&null!==(n=d.get(a,b))?n:a[b]}},propHooks:{tabIndex:{get:function(a){var b=y.find.attr(a,"tabindex");
return b?parseInt(b,10):Va.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Da.optSelected||(y.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});y.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){y.propFix[this.toLowerCase()]=
this});y.fn.extend({addClass:function(a){var b,c,n,t,d=0;if(sa(a))return this.each(function(b){y(this).addClass(a.call(this,b,na(this)))});var f=ka(a);if(f.length)for(;b=this[d++];){var g=na(b);if(c=1===b.nodeType&&" "+W(g)+" "){for(t=0;n=f[t++];)0>c.indexOf(" "+n+" ")&&(c+=n+" ");c=W(c);g!==c&&b.setAttribute("class",c)}}return this},removeClass:function(a){var b,c,n,t,d=0;if(sa(a))return this.each(function(b){y(this).removeClass(a.call(this,b,na(this)))});if(!arguments.length)return this.attr("class",
"");var f=ka(a);if(f.length)for(;b=this[d++];){var g=na(b);if(c=1===b.nodeType&&" "+W(g)+" "){for(t=0;n=f[t++];)for(;-1<c.indexOf(" "+n+" ");)c=c.replace(" "+n+" "," ");c=W(c);g!==c&&b.setAttribute("class",c)}}return this},toggleClass:function(a,b){var c=typeof a,n="string"===c||Array.isArray(a);return"boolean"===typeof b&&n?b?this.addClass(a):this.removeClass(a):sa(a)?this.each(function(c){y(this).toggleClass(a.call(this,c,na(this),b),b)}):this.each(function(){var b,t;if(n){var d=0;var f=y(this);
for(t=ka(a);b=t[d++];)f.hasClass(b)?f.removeClass(b):f.addClass(b)}else if(void 0===a||"boolean"===c)(b=na(this))&&ma.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":ma.get(this,"__className__")||"")})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+W(na(b))+" ").indexOf(a))return!0;return!1}});var hc=/\r/g;y.fn.extend({val:function(a){var b,c,n=this[0];if(arguments.length){var t=sa(a);return this.each(function(c){1===this.nodeType&&
(c=t?a.call(this,c,y(this).val()):a,null==c?c="":"number"===typeof c?c+="":Array.isArray(c)&&(c=y.map(c,function(a){return null==a?"":a+""})),b=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))})}if(n){if((b=y.valHooks[n.type]||y.valHooks[n.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(n,"value")))return c;c=n.value;return"string"===typeof c?c.replace(hc,""):null==c?"":c}}});y.extend({valHooks:{option:{get:function(a){var b=
y.find.attr(a,"value");return null!=b?b:W(y.text(a))}},select:{get:function(a){var b=a.options,n=a.selectedIndex,t="select-one"===a.type,d=t?null:[],f=t?n+1:b.length;for(a=0>n?f:t?n:0;a<f;a++){var g=b[a];if(!(!g.selected&&a!==n||g.disabled||g.parentNode.disabled&&c(g.parentNode,"optgroup"))){g=y(g).val();if(t)return g;d.push(g)}}return d},set:function(a,b){for(var c,n=a.options,t=y.makeArray(b),d=n.length;d--;)if(b=n[d],b.selected=-1<y.inArray(y.valHooks.option.get(b),t))c=!0;c||(a.selectedIndex=
-1);return t}}}});y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<y.inArray(y(a).val(),b)}};Da.checkOn||(y.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});Da.focusin="onfocusin"in F;var nc=/^(?:focusinfocus|focusoutblur)$/,ic=function(a){a.stopPropagation()};y.extend(y.event,{trigger:function(a,b,c,t){var n,d,f,g=[c||oa],p=ua.call(a,"type")?a.type:a;var e=ua.call(a,"namespace")?a.namespace.split("."):
[];var h=f=n=c=c||oa;if(3!==c.nodeType&&8!==c.nodeType&&!nc.test(p+y.event.triggered)){-1<p.indexOf(".")&&(e=p.split("."),p=e.shift(),e.sort());var m=0>p.indexOf(":")&&"on"+p;a=a[y.expando]?a:new y.Event(p,"object"===typeof a&&a);a.isTrigger=t?2:3;a.namespace=e.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;a.result=void 0;a.target||(a.target=c);b=null==b?[a]:y.makeArray(b,[a]);e=y.event.special[p]||{};if(t||!e.trigger||!1!==e.trigger.apply(c,b)){if(!t&&
!e.noBubble&&!Eb(c)){var qa=e.delegateType||p;nc.test(qa+p)||(h=h.parentNode);for(;h;h=h.parentNode)g.push(h),n=h;n===(c.ownerDocument||oa)&&g.push(n.defaultView||n.parentWindow||F)}for(n=0;(h=g[n++])&&!a.isPropagationStopped();)f=h,a.type=1<n?qa:e.bindType||p,(d=(ma.get(h,"events")||{})[a.type]&&ma.get(h,"handle"))&&d.apply(h,b),(d=m&&h[m])&&d.apply&&Ra(h)&&(a.result=d.apply(h,b),!1===a.result&&a.preventDefault());a.type=p;t||a.isDefaultPrevented()||e._default&&!1!==e._default.apply(g.pop(),b)||
!Ra(c)||!m||!sa(c[p])||Eb(c)||((n=c[m])&&(c[m]=null),y.event.triggered=p,a.isPropagationStopped()&&f.addEventListener(p,ic),c[p](),a.isPropagationStopped()&&f.removeEventListener(p,ic),y.event.triggered=void 0,n&&(c[m]=n));return a.result}}},simulate:function(a,b,c){a=y.extend(new y.Event,c,{type:a,isSimulated:!0});y.event.trigger(a,null,b)}});y.fn.extend({trigger:function(a,b){return this.each(function(){y.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return y.event.trigger(a,
b,c,!0)}});Da.focusin||y.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){y.event.simulate(b,a.target,y.event.fix(a))};y.event.special[b]={setup:function(){var t=this.ownerDocument||this,n=ma.access(t,b);n||t.addEventListener(a,c,!0);ma.access(t,b,(n||0)+1)},teardown:function(){var t=this.ownerDocument||this,n=ma.access(t,b)-1;n?ma.access(t,b,n):(t.removeEventListener(a,c,!0),ma.remove(t,b))}}});var Wb=F.location,Bb=Date.now(),wb=/\?/;y.parseXML=function(a){if(!a||"string"!==
typeof a)return null;try{var b=(new F.DOMParser).parseFromString(a,"text/xml")}catch(Ha){b=void 0}b&&!b.getElementsByTagName("parsererror").length||y.error("Invalid XML: "+a);return b};var Ga=/\[\]$/,db=/\r?\n/g,ib=/^(?:submit|button|image|reset|file)$/i,qb=/^(?:input|select|textarea|keygen)/i;y.param=function(a,b){var c,t=[],n=function(a,b){b=sa(b)?b():b;t[t.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==b?"":b)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!y.isPlainObject(a))y.each(a,
function(){n(this.name,this.value)});else for(c in a)xa(c,a[c],b,n);return t.join("&")};y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=y.prop(this,"elements");return a?y.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!y(this).is(":disabled")&&qb.test(this.nodeName)&&!ib.test(a)&&(this.checked||!hb.test(a))}).map(function(a,b){a=y(this).val();return null==a?null:Array.isArray(a)?y.map(a,function(a){return{name:b.name,
value:a.replace(db,"\r\n")}}):{name:b.name,value:a.replace(db,"\r\n")}}).get()}});var rb=/%20/g,Qb=/#.*$/,xb=/([?&])_=[^&]*/,cc=/^(.*?):[ \t]*([^\r\n]*)$/mg,Xb=/^(?:GET|HEAD)$/,oc=/^\/\//,yb={},Fb={},Lb="*/".concat("*"),Hb=oa.createElement("a");Hb.href=Wb.href;y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wb.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Lb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?aa(aa(a,y.ajaxSettings),b):aa(y.ajaxSettings,a)},ajaxPrefilter:fa(yb),ajaxTransport:fa(Fb),
ajax:function(a,b){function c(a,b,c,d){var p=b;if(!P){P=!0;f&&F.clearTimeout(f);t=void 0;n=d||"";D.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(c){var z=e;for(var k=D,J,r,v,ra,B=z.contents,C=z.dataTypes;"*"===C[0];)C.shift(),void 0===J&&(J=z.mimeType||k.getResponseHeader("Content-Type"));if(J)for(r in B)if(B[r]&&B[r].test(J)){C.unshift(r);break}if(C[0]in c)v=C[0];else{for(r in c){if(!C[0]||z.converters[r+" "+C[0]]){v=r;break}ra||(ra=r)}v=v||ra}v?(v!==C[0]&&C.unshift(v),z=c[v]):z=void 0}a:{c=e;J=
z;r=D;v=d;var pa;k={};B=c.dataTypes.slice();if(B[1])for(w in c.converters)k[w.toLowerCase()]=c.converters[w];for(ra=B.shift();ra;){c.responseFields[ra]&&(r[c.responseFields[ra]]=J);!T&&v&&c.dataFilter&&(J=c.dataFilter(J,c.dataType));var T=ra;if(ra=B.shift())if("*"===ra)ra=T;else if("*"!==T&&T!==ra){var w=k[T+" "+ra]||k["* "+ra];if(!w)for(pa in k)if(z=pa.split(" "),z[1]===ra&&(w=k[T+" "+z[0]]||k["* "+z[0]])){!0===w?w=k[pa]:!0!==k[pa]&&(ra=z[0],B.unshift(z[1]));break}if(!0!==w)if(w&&c.throws)J=w(J);
else try{J=w(J)}catch(sc){z={state:"parsererror",error:w?sc:"No conversion from "+T+" to "+ra};break a}}}z={state:"success",data:J}}if(d)if(e.ifModified&&((p=D.getResponseHeader("Last-Modified"))&&(y.lastModified[M]=p),(p=D.getResponseHeader("etag"))&&(y.etag[M]=p)),204===a||"HEAD"===e.type)p="nocontent";else if(304===a)p="notmodified";else{p=z.state;var L=z.data;var sb=z.error;d=!sb}else if(sb=p,a||!p)p="error",0>a&&(a=0);D.status=a;D.statusText=(b||p)+"";d?qa.resolveWith(h,[L,p,D]):qa.rejectWith(h,
[D,p,sb]);D.statusCode(q);q=void 0;g&&m.trigger(d?"ajaxSuccess":"ajaxError",[D,e,d?L:sb]);u.fireWith(h,[D,p]);g&&(m.trigger("ajaxComplete",[D,e]),--y.active||y.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var t,n,d,f,g,p,e=y.ajaxSetup({},b),h=e.context||e,m=e.context&&(h.nodeType||h.jquery)?y(h):y.event,qa=y.Deferred(),u=y.Callbacks("once memory"),q=e.statusCode||{},z={},k={},J="canceled",D={readyState:0,getResponseHeader:function(a){var b;if(P){if(!d)for(d={};b=cc.exec(n);)d[b[1].toLowerCase()+
" "]=(d[b[1].toLowerCase()+" "]||[]).concat(b[2]);b=d[a.toLowerCase()+" "]}return null==b?null:b.join(", ")},getAllResponseHeaders:function(){return P?n:null},setRequestHeader:function(a,b){null==P&&(a=k[a.toLowerCase()]=k[a.toLowerCase()]||a,z[a]=b);return this},overrideMimeType:function(a){null==P&&(e.mimeType=a);return this},statusCode:function(a){var b;if(a)if(P)D.always(a[D.status]);else for(b in a)q[b]=[q[b],a[b]];return this},abort:function(a){a=a||J;t&&t.abort(a);c(0,a);return this}};qa.promise(D);
e.url=((a||e.url||Wb.href)+"").replace(oc,Wb.protocol+"//");e.type=b.method||b.type||e.method||e.type;e.dataTypes=(e.dataType||"*").toLowerCase().match(Ya)||[""];if(null==e.crossDomain){a=oa.createElement("a");try{a.href=e.url,a.href=a.href,e.crossDomain=Hb.protocol+"//"+Hb.host!==a.protocol+"//"+a.host}catch(rc){e.crossDomain=!0}}e.data&&e.processData&&"string"!==typeof e.data&&(e.data=y.param(e.data,e.traditional));ea(yb,e,b,D);if(P)return D;(g=y.event&&e.global)&&0===y.active++&&y.event.trigger("ajaxStart");
e.type=e.type.toUpperCase();e.hasContent=!Xb.test(e.type);var M=e.url.replace(Qb,"");e.hasContent?e.data&&e.processData&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&(e.data=e.data.replace(rb,"+")):(a=e.url.slice(M.length),e.data&&(e.processData||"string"===typeof e.data)&&(M+=(wb.test(M)?"&":"?")+e.data,delete e.data),!1===e.cache&&(M=M.replace(xb,"$1"),a=(wb.test(M)?"&":"?")+"_="+Bb++ +a),e.url=M+a);e.ifModified&&(y.lastModified[M]&&D.setRequestHeader("If-Modified-Since",
y.lastModified[M]),y.etag[M]&&D.setRequestHeader("If-None-Match",y.etag[M]));(e.data&&e.hasContent&&!1!==e.contentType||b.contentType)&&D.setRequestHeader("Content-Type",e.contentType);D.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+("*"!==e.dataTypes[0]?", "+Lb+"; q=0.01":""):e.accepts["*"]);for(p in e.headers)D.setRequestHeader(p,e.headers[p]);if(e.beforeSend&&(!1===e.beforeSend.call(h,D,e)||P))return D.abort();J="abort";u.add(e.complete);D.done(e.success);
D.fail(e.error);if(t=ea(Fb,e,b,D)){D.readyState=1;g&&m.trigger("ajaxSend",[D,e]);if(P)return D;e.async&&0<e.timeout&&(f=F.setTimeout(function(){D.abort("timeout")},e.timeout));try{var P=!1;t.send(z,c)}catch(rc){if(P)throw rc;c(-1,rc)}}else c(-1,"No Transport");return D},getJSON:function(a,b,c){return y.get(a,b,c,"json")},getScript:function(a,b){return y.get(a,void 0,b,"script")}});y.each(["get","post"],function(a,b){y[b]=function(a,c,t,n){sa(c)&&(n=n||t,t=c,c=void 0);return y.ajax(y.extend({url:a,
type:b,dataType:n,data:c,success:t},y.isPlainObject(a)&&a))}});y._evalUrl=function(a,b){return y.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){y.globalEval(a,b)}})};y.fn.extend({wrapAll:function(a){this[0]&&(sa(a)&&(a=a.call(this[0])),a=y(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));
return this},wrapInner:function(a){return sa(a)?this.each(function(b){y(this).wrapInner(a.call(this,b))}):this.each(function(){var b=y(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=sa(a);return this.each(function(c){y(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){this.parent(a).not("body").each(function(){y(this).replaceWith(this.childNodes)});return this}});y.expr.pseudos.hidden=function(a){return!y.expr.pseudos.visible(a)};y.expr.pseudos.visible=function(a){return!!(a.offsetWidth||
a.offsetHeight||a.getClientRects().length)};y.ajaxSettings.xhr=function(){try{return new F.XMLHttpRequest}catch(n){}};var Cb={0:200,1223:204},Mb=y.ajaxSettings.xhr();Da.cors=!!Mb&&"withCredentials"in Mb;Da.ajax=Mb=!!Mb;y.ajaxTransport(function(a){var b,c;if(Da.cors||Mb&&!a.crossDomain)return{send:function(t,n){var d,f=a.xhr();f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(d in a.xhrFields)f[d]=a.xhrFields[d];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||
t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest");for(d in t)f.setRequestHeader(d,t[d]);b=function(a){return function(){b&&(b=c=f.onload=f.onerror=f.onabort=f.ontimeout=f.onreadystatechange=null,"abort"===a?f.abort():"error"===a?"number"!==typeof f.status?n(0,"error"):n(f.status,f.statusText):n(Cb[f.status]||f.status,f.statusText,"text"!==(f.responseType||"text")||"string"!==typeof f.responseText?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}};f.onload=b();c=
f.onerror=f.ontimeout=b("error");void 0!==f.onabort?f.onabort=c:f.onreadystatechange=function(){4===f.readyState&&F.setTimeout(function(){b&&c()})};b=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(wc){if(b)throw wc;}},abort:function(){b&&b()}}});y.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){y.globalEval(a);
return a}}});y.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});y.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var b,c;return{send:function(t,n){b=y("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&n("error"===a.type?404:200,a.type)});oa.head.appendChild(b[0])},abort:function(){c&&c()}}}});var t=[],qa=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=t.pop()||y.expando+"_"+Bb++;this[a]=!0;return a}});y.ajaxPrefilter("json jsonp",function(a,b,c){var n,d=!1!==a.jsonp&&(qa.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&qa.test(a.data)&&"data");if(d||"jsonp"===a.dataTypes[0]){var f=a.jsonpCallback=sa(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;d?a[d]=a[d].replace(qa,"$1"+f):!1!==a.jsonp&&(a.url+=(wb.test(a.url)?"&":"?")+a.jsonp+"="+f);a.converters["script json"]=
function(){n||y.error(f+" was not called");return n[0]};a.dataTypes[0]="json";var g=F[f];F[f]=function(){n=arguments};c.always(function(){void 0===g?y(F).removeProp(f):F[f]=g;a[f]&&(a.jsonpCallback=b.jsonpCallback,t.push(f));n&&sa(g)&&g(n[0]);n=g=void 0});return"script"}});Da.createHTMLDocument=function(){var a=oa.implementation.createHTMLDocument("").body;a.innerHTML="<form></form><form></form>";return 2===a.childNodes.length}();y.parseHTML=function(a,b,c){if("string"!==typeof a)return[];"boolean"===
typeof b&&(c=b,b=!1);if(!b)if(Da.createHTMLDocument){b=oa.implementation.createHTMLDocument("");var t=b.createElement("base");t.href=oa.location.href;b.head.appendChild(t)}else b=oa;t=ob.exec(a);c=!c&&[];if(t)return[b.createElement(t[1])];t=K([a],b,c);c&&c.length&&y(c).remove();return y.merge([],t.childNodes)};y.fn.load=function(a,b,c){var t,n,d=this,f=a.indexOf(" ");if(-1<f){var g=W(a.slice(f));a=a.slice(0,f)}sa(b)?(c=b,b=void 0):b&&"object"===typeof b&&(t="POST");0<d.length&&y.ajax({url:a,type:t||
"GET",dataType:"html",data:b}).done(function(a){n=arguments;d.html(g?y("<div>").append(y.parseHTML(a)).find(g):a)}).always(c&&function(a,b){d.each(function(){c.apply(this,n||[a.responseText,b,a])})});return this};y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){y.fn[b]=function(a){return this.on(b,a)}});y.expr.pseudos.animated=function(a){return y.grep(y.timers,function(b){return a===b.elem}).length};y.offset={setOffset:function(a,b,c){var t=y.css(a,
"position"),n=y(a),d={};"static"===t&&(a.style.position="relative");var f=n.offset();var g=y.css(a,"top");var p=y.css(a,"left");("absolute"===t||"fixed"===t)&&-1<(g+p).indexOf("auto")?(p=n.position(),g=p.top,p=p.left):(g=parseFloat(g)||0,p=parseFloat(p)||0);sa(b)&&(b=b.call(a,c,y.extend({},f)));null!=b.top&&(d.top=b.top-f.top+g);null!=b.left&&(d.left=b.left-f.left+p);"using"in b?b.using.call(a,d):n.css(d)}};y.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){y.offset.setOffset(this,
a,b)});var b;if(b=this[0]){if(!b.getClientRects().length)return{top:0,left:0};var c=b.getBoundingClientRect();b=b.ownerDocument.defaultView;return{top:c.top+b.pageYOffset,left:c.left+b.pageXOffset}}},position:function(){if(this[0]){var a,b=this[0],c={top:0,left:0};if("fixed"===y.css(b,"position"))var t=b.getBoundingClientRect();else{t=this.offset();var d=b.ownerDocument;for(a=b.offsetParent||d.documentElement;a&&(a===d.body||a===d.documentElement)&&"static"===y.css(a,"position");)a=a.parentNode;a&&
a!==b&&1===a.nodeType&&(c=y(a).offset(),c.top+=y.css(a,"borderTopWidth",!0),c.left+=y.css(a,"borderLeftWidth",!0))}return{top:t.top-c.top-y.css(b,"marginTop",!0),left:t.left-c.left-y.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===y.css(a,"position");)a=a.offsetParent;return a||ub})}});y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;y.fn[a]=function(t){return ja(this,function(a,t,
d){if(Eb(a))var n=a;else 9===a.nodeType&&(n=a.defaultView);if(void 0===d)return n?n[b]:a[t];n?n.scrollTo(c?n.pageXOffset:d,c?d:n.pageYOffset):a[t]=d},a,t,arguments.length)}});y.each(["top","left"],function(a,b){y.cssHooks[b]=ba(Da.pixelPosition,function(a,c){if(c)return c=ca(a,b),tb.test(c)?y(a).position()[b]+"px":c})});y.each({Height:"height",Width:"width"},function(a,b){y.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,t){y.fn[t]=function(d,n){var f=arguments.length&&(c||"boolean"!==
typeof d),g=c||(!0===d||!0===n?"margin":"border");return ja(this,function(b,c,d){return Eb(b)?0===t.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?y.css(b,c,g):y.style(b,c,d,g)},b,f?d:void 0,f)}})});y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){y.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});y.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});y.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,t){return this.on(b,a,c,t)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});y.proxy=function(a,b){if("string"===typeof b){var c=a[b];b=a;a=
c}if(sa(a)){var t=va.call(arguments,2);c=function(){return a.apply(b||this,t.concat(va.call(arguments)))};c.guid=a.guid=a.guid||y.guid++;return c}};y.holdReady=function(a){a?y.readyWait++:y.ready(!0)};y.isArray=Array.isArray;y.parseJSON=JSON.parse;y.nodeName=c;y.isFunction=sa;y.isWindow=Eb;y.camelCase=A;y.type=Ca;y.now=Date.now;y.isNumeric=function(a){var b=y.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))};!(ha=[],l=function(){return y}.apply(da,ha),void 0!==l&&(x.exports=l));
var sb=F.jQuery,Yb=F.$;y.noConflict=function(a){F.$===y&&(F.$=Yb);a&&F.jQuery===y&&(F.jQuery=sb);return y};La||(F.jQuery=F.$=y);return y})},SYky:function(x,da,F){(function(x,l){l(da,F("EVdn"),F("8L3F"))})(this,function(x,l,F){function da(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(a,b,c){b&&da(a.prototype,b);c&&da(a,c);return a}function ha(a){for(var b=1;b<arguments.length;b++){var c=
null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"===typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})));d.forEach(function(b){var d=c[b];b in a?Object.defineProperty(a,b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d})}return a}function a(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.__proto__=b}function c(a,b){var c=a.nodeName.toLowerCase();
if(-1!==b.indexOf(c))return-1!==R.indexOf(c)?!(!a.nodeValue.match(Q)&&!a.nodeValue.match(I)):!0;a=b.filter(function(a){return a instanceof RegExp});b=0;for(var d=a.length;b<d;b++)if(c.match(a[b]))return!0;return!1}function e(a,b,d){if(0===a.length)return a;if(d&&"function"===typeof d)return d(a);a=(new window.DOMParser).parseFromString(a,"text/html");var f=Object.keys(b),g=[].slice.call(a.body.querySelectorAll("*"));d=function(a,d){var p=g[a];a=p.nodeName.toLowerCase();if(-1===f.indexOf(p.nodeName.toLowerCase()))return p.parentNode.removeChild(p),
"continue";d=[].slice.call(p.attributes);var e=[].concat(b["*"]||[],b[a]||[]);d.forEach(function(a){c(a,e)||p.removeAttribute(a.nodeName)})};for(var p=0,e=g.length;p<e;p++)d(p,e);return a.body.innerHTML}l=l&&l.hasOwnProperty("default")?l["default"]:l;F=F&&F.hasOwnProperty("default")?F["default"]:F;var k={TRANSITION_END:"bsTransitionEnd",getUID:function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a},getSelectorFromElement:function(a){var b=a.getAttribute("data-target");
b&&"#"!==b||(b=(a=a.getAttribute("href"))&&"#"!==a?a.trim():"");try{return document.querySelector(b)?b:null}catch(ra){return null}},getTransitionDurationFromElement:function(a){if(!a)return 0;var b=l(a).css("transition-duration");a=l(a).css("transition-delay");var c=parseFloat(b),d=parseFloat(a);if(!c&&!d)return 0;b=b.split(",")[0];a=a.split(",")[0];return 1E3*(parseFloat(b)+parseFloat(a))},reflow:function(a){return a.offsetHeight},triggerTransitionEnd:function(a){l(a).trigger("transitionend")},supportsTransitionEnd:function(){return!0},
isElement:function(a){return(a[0]||a).nodeType},typeCheckConfig:function(a,b,c){for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var f=c[d],g=b[d];g=g&&k.isElement(g)?"element":{}.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase();if(!(new RegExp(f)).test(g))throw Error(a.toUpperCase()+': Option "'+(d+'" provided type "'+g+'" but expected type "')+(f+'".'));}},findShadowRoot:function(a){return document.documentElement.attachShadow?"function"===typeof a.getRootNode?(a=a.getRootNode(),
a instanceof ShadowRoot?a:null):a instanceof ShadowRoot?a:a.parentNode?k.findShadowRoot(a.parentNode):null:null}};l.fn.emulateTransitionEnd=function(a){var b=this,c=!1;l(this).one(k.TRANSITION_END,function(){c=!0});setTimeout(function(){c||k.triggerTransitionEnd(b)},a);return this};l.event.special[k.TRANSITION_END]=function(){return{bindType:"transitionend",delegateType:"transitionend",handle:function(a){if(l(a.target).is(this))return a.handleObj.handler.apply(this,arguments)}}}();var H=l.fn.alert,
r=function(){function a(a){this._element=a}var c=a.prototype;c.close=function(a){var b=this._element;a&&(b=this._getRootElement(a));this._triggerCloseEvent(b).isDefaultPrevented()||this._removeElement(b)};c.dispose=function(){l.removeData(this._element,"bs.alert");this._element=null};c._getRootElement=function(a){var b=k.getSelectorFromElement(a),c=!1;b&&(c=document.querySelector(b));c||(c=l(a).closest(".alert")[0]);return c};c._triggerCloseEvent=function(a){var b=l.Event("close.bs.alert");l(a).trigger(b);
return b};c._removeElement=function(a){var b=this;l(a).removeClass("show");if(l(a).hasClass("fade")){var c=k.getTransitionDurationFromElement(a);l(a).one(k.TRANSITION_END,function(c){return b._destroyElement(a,c)}).emulateTransitionEnd(c)}else this._destroyElement(a)};c._destroyElement=function(a){l(a).detach().trigger("closed.bs.alert").remove()};a._jQueryInterface=function(b){return this.each(function(){var c=l(this),d=c.data("bs.alert");d||(d=new a(this),c.data("bs.alert",d));if("close"===b)d[b](this)})};
a._handleDismiss=function(a){return function(b){b&&b.preventDefault();a.close(this)}};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}}]);return a}();l(document).on("click.bs.alert.data-api",{DISMISS:'[data-dismiss="alert"]'}.DISMISS,r._handleDismiss(new r));l.fn.alert=r._jQueryInterface;l.fn.alert.Constructor=r;l.fn.alert.noConflict=function(){l.fn.alert=H;return r._jQueryInterface};var h=l.fn.button,v=function(){function a(a){this._element=a}var c=a.prototype;c.toggle=function(){var a=!0,
b=!0,c=l(this._element).closest('[data-toggle="buttons"]')[0];if(c){var d=this._element.querySelector('input:not([type="hidden"])');if(d){"radio"===d.type&&(d.checked&&this._element.classList.contains("active")?a=!1:(b=c.querySelector(".active"))&&l(b).removeClass("active"));if(a){if(d.hasAttribute("disabled")||c.hasAttribute("disabled")||d.classList.contains("disabled")||c.classList.contains("disabled"))return;d.checked=!this._element.classList.contains("active");l(d).trigger("change")}d.focus();
b=!1}}b&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active"));a&&l(this._element).toggleClass("active")};c.dispose=function(){l.removeData(this._element,"bs.button");this._element=null};a._jQueryInterface=function(b){return this.each(function(){var c=l(this).data("bs.button");c||(c=new a(this),l(this).data("bs.button",c));if("toggle"===b)c[b]()})};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}}]);return a}();l(document).on("click.bs.button.data-api",'[data-toggle^="button"]',
function(a){a.preventDefault();a=a.target;l(a).hasClass("btn")||(a=l(a).closest(".btn"));v._jQueryInterface.call(l(a),"toggle")}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){var b=l(a.target).closest(".btn")[0];l(b).toggleClass("focus",/^focus(in)?$/.test(a.type))});l.fn.button=v._jQueryInterface;l.fn.button.Constructor=v;l.fn.button.noConflict=function(){l.fn.button=h;return v._jQueryInterface};var w=l.fn.carousel,E={interval:5E3,keyboard:!0,slide:!1,
pause:"hover",wrap:!0,touch:!0},A={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},q={TOUCH:"touch",PEN:"pen"},d=function(){function a(a,b){this._activeElement=this._interval=this._items=null;this._isSliding=this._isPaused=!1;this.touchTimeout=null;this.touchDeltaX=this.touchStartX=0;this._config=this._getConfig(b);this._element=a;this._indicatorsElement=this._element.querySelector(".carousel-indicators");this._touchSupported=
"ontouchstart"in document.documentElement||0<navigator.maxTouchPoints;this._pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent);this._addEventListeners()}var c=a.prototype;c.next=function(){this._isSliding||this._slide("next")};c.nextWhenVisible=function(){!document.hidden&&l(this._element).is(":visible")&&"hidden"!==l(this._element).css("visibility")&&this.next()};c.prev=function(){this._isSliding||this._slide("prev")};c.pause=function(a){a||(this._isPaused=!0);this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&
(k.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null};c.cycle=function(a){a||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))};c.to=function(a){var b=this;this._activeElement=this._element.querySelector(".active.carousel-item");var c=this._getItemIndex(this._activeElement);
if(!(a>this._items.length-1||0>a))if(this._isSliding)l(this._element).one("slid.bs.carousel",function(){return b.to(a)});else c===a?(this.pause(),this.cycle()):this._slide(a>c?"next":"prev",this._items[a])};c.dispose=function(){l(this._element).off(".bs.carousel");l.removeData(this._element,"bs.carousel");this._indicatorsElement=this._activeElement=this._isSliding=this._isPaused=this._interval=this._element=this._config=this._items=null};c._getConfig=function(a){a=ha({},E,a);k.typeCheckConfig("carousel",
a,A);return a};c._handleSwipe=function(){var a=Math.abs(this.touchDeltaX);40>=a||(a/=this.touchDeltaX,0<a&&this.prev(),0>a&&this.next())};c._addEventListeners=function(){var a=this;if(this._config.keyboard)l(this._element).on("keydown.bs.carousel",function(b){return a._keydown(b)});if("hover"===this._config.pause)l(this._element).on("mouseenter.bs.carousel",function(b){return a.pause(b)}).on("mouseleave.bs.carousel",function(b){return a.cycle(b)});this._config.touch&&this._addTouchEventListeners()};
c._addTouchEventListeners=function(){var a=this;if(this._touchSupported){var b=function(b){a._pointerEvent&&q[b.originalEvent.pointerType.toUpperCase()]?a.touchStartX=b.originalEvent.clientX:a._pointerEvent||(a.touchStartX=b.originalEvent.touches[0].clientX)},c=function(b){a._pointerEvent&&q[b.originalEvent.pointerType.toUpperCase()]&&(a.touchDeltaX=b.originalEvent.clientX-a.touchStartX);a._handleSwipe();"hover"===a._config.pause&&(a.pause(),a.touchTimeout&&clearTimeout(a.touchTimeout),a.touchTimeout=
setTimeout(function(b){return a.cycle(b)},500+a._config.interval))};l(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(a){return a.preventDefault()});this._pointerEvent?(l(this._element).on("pointerdown.bs.carousel",function(a){return b(a)}),l(this._element).on("pointerup.bs.carousel",function(a){return c(a)}),this._element.classList.add("pointer-event")):(l(this._element).on("touchstart.bs.carousel",function(a){return b(a)}),l(this._element).on("touchmove.bs.carousel",
function(b){a.touchDeltaX=b.originalEvent.touches&&1<b.originalEvent.touches.length?0:b.originalEvent.touches[0].clientX-a.touchStartX}),l(this._element).on("touchend.bs.carousel",function(a){return c(a)}))}};c._keydown=function(a){if(!/input|textarea/i.test(a.target.tagName))switch(a.which){case 37:a.preventDefault();this.prev();break;case 39:a.preventDefault(),this.next()}};c._getItemIndex=function(a){this._items=a&&a.parentNode?[].slice.call(a.parentNode.querySelectorAll(".carousel-item")):[];
return this._items.indexOf(a)};c._getItemByDirection=function(a,b){var c="next"===a,d="prev"===a,f=this._getItemIndex(b),g=this._items.length-1;if((d&&0===f||c&&f===g)&&!this._config.wrap)return b;a=(f+("prev"===a?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]};c._triggerSlideEvent=function(a,b){var c=this._getItemIndex(a),d=this._getItemIndex(this._element.querySelector(".active.carousel-item"));a=l.Event("slide.bs.carousel",{relatedTarget:a,direction:b,from:d,
to:c});l(this._element).trigger(a);return a};c._setActiveIndicatorElement=function(a){if(this._indicatorsElement){var b=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));l(b).removeClass("active");(a=this._indicatorsElement.children[this._getItemIndex(a)])&&l(a).addClass("active")}};c._slide=function(a,b){var c=this,d=this._element.querySelector(".active.carousel-item"),f=this._getItemIndex(d),g=b||d&&this._getItemByDirection(a,d),p=this._getItemIndex(g);b=!!this._interval;if("next"===
a){var e="carousel-item-left";var h="carousel-item-next";a="left"}else e="carousel-item-right",h="carousel-item-prev",a="right";if(g&&l(g).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(g,a).isDefaultPrevented()&&d&&g){this._isSliding=!0;b&&this.pause();this._setActiveIndicatorElement(g);var m=l.Event("slid.bs.carousel",{relatedTarget:g,direction:a,from:f,to:p});l(this._element).hasClass("slide")?(l(g).addClass(h),k.reflow(g),l(d).addClass(e),l(g).addClass(e),(f=parseInt(g.getAttribute("data-interval"),
10))?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval,f=k.getTransitionDurationFromElement(d),l(d).one(k.TRANSITION_END,function(){l(g).removeClass(e+" "+h).addClass("active");l(d).removeClass("active "+h+" "+e);c._isSliding=!1;setTimeout(function(){return l(c._element).trigger(m)},0)}).emulateTransitionEnd(f)):(l(d).removeClass("active"),l(g).addClass("active"),this._isSliding=
!1,l(this._element).trigger(m));b&&this.cycle()}};a._jQueryInterface=function(b){return this.each(function(){var c=l(this).data("bs.carousel"),d=ha({},E,l(this).data());"object"===typeof b&&(d=ha({},d,b));var f="string"===typeof b?b:d.slide;c||(c=new a(this,d),l(this).data("bs.carousel",c));if("number"===typeof b)c.to(b);else if("string"===typeof f){if("undefined"===typeof c[f])throw new TypeError('No method named "'+f+'"');c[f]()}else d.interval&&d.ride&&(c.pause(),c.cycle())})};a._dataApiClickHandler=
function(b){var c=k.getSelectorFromElement(this);if(c&&(c=l(c)[0])&&l(c).hasClass("carousel")){var d=ha({},l(c).data(),l(this).data()),f=this.getAttribute("data-slide-to");f&&(d.interval=!1);a._jQueryInterface.call(l(c),d);f&&l(c).data("bs.carousel").to(f);b.preventDefault()}};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return E}}]);return a}();l(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",d._dataApiClickHandler);l(window).on("load.bs.carousel.data-api",
function(){for(var a=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),b=0,c=a.length;b<c;b++){var f=l(a[b]);d._jQueryInterface.call(f,f.data())}});l.fn.carousel=d._jQueryInterface;l.fn.carousel.Constructor=d;l.fn.carousel.noConflict=function(){l.fn.carousel=w;return d._jQueryInterface};var f=l.fn.collapse,C={toggle:!0,parent:""},g={toggle:"boolean",parent:"(string|element)"},L=function(){function a(a,b){this._isTransitioning=!1;this._element=a;this._config=this._getConfig(b);this._triggerArray=
[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+(a.id+'"]')));b=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]'));for(var c=0,d=b.length;c<d;c++){var f=b[c],g=k.getSelectorFromElement(f),p=[].slice.call(document.querySelectorAll(g)).filter(function(b){return b===a});null!==g&&0<p.length&&(this._selector=g,this._triggerArray.push(f))}this._parent=this._config.parent?this._getParent():null;this._config.parent||
this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var c=a.prototype;c.toggle=function(){l(this._element).hasClass("show")?this.hide():this.show()};c.show=function(){var b=this;if(!this._isTransitioning&&!l(this._element).hasClass("show")){var c;if(this._parent){var d=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(a){return"string"===typeof b._config.parent?a.getAttribute("data-parent")===b._config.parent:a.classList.contains("collapse")});
0===d.length&&(d=null)}if(d&&(c=l(d).not(this._selector).data("bs.collapse"))&&c._isTransitioning)return;var f=l.Event("show.bs.collapse");l(this._element).trigger(f);if(!f.isDefaultPrevented()){d&&(a._jQueryInterface.call(l(d).not(this._selector),"hide"),c||l(d).data("bs.collapse",null));var g=this._getDimension();l(this._element).removeClass("collapse").addClass("collapsing");this._element.style[g]=0;this._triggerArray.length&&l(this._triggerArray).removeClass("collapsed").attr("aria-expanded",
!0);this.setTransitioning(!0);d="scroll"+(g[0].toUpperCase()+g.slice(1));c=k.getTransitionDurationFromElement(this._element);l(this._element).one(k.TRANSITION_END,function(){l(b._element).removeClass("collapsing").addClass("collapse").addClass("show");b._element.style[g]="";b.setTransitioning(!1);l(b._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(c);this._element.style[g]=this._element[d]+"px"}}};c.hide=function(){var a=this;if(!this._isTransitioning&&l(this._element).hasClass("show")){var b=
l.Event("hide.bs.collapse");l(this._element).trigger(b);if(!b.isDefaultPrevented()){b=this._getDimension();this._element.style[b]=this._element.getBoundingClientRect()[b]+"px";k.reflow(this._element);l(this._element).addClass("collapsing").removeClass("collapse").removeClass("show");var c=this._triggerArray.length;if(0<c)for(var d=0;d<c;d++){var f=this._triggerArray[d],g=k.getSelectorFromElement(f);null!==g&&(l([].slice.call(document.querySelectorAll(g))).hasClass("show")||l(f).addClass("collapsed").attr("aria-expanded",
!1))}this.setTransitioning(!0);this._element.style[b]="";b=k.getTransitionDurationFromElement(this._element);l(this._element).one(k.TRANSITION_END,function(){a.setTransitioning(!1);l(a._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(b)}}};c.setTransitioning=function(a){this._isTransitioning=a};c.dispose=function(){l.removeData(this._element,"bs.collapse");this._isTransitioning=this._triggerArray=this._element=this._parent=this._config=
null};c._getConfig=function(a){a=ha({},C,a);a.toggle=!!a.toggle;k.typeCheckConfig("collapse",a,g);return a};c._getDimension=function(){return l(this._element).hasClass("width")?"width":"height"};c._getParent=function(){var b=this;if(k.isElement(this._config.parent)){var c=this._config.parent;"undefined"!==typeof this._config.parent.jquery&&(c=this._config.parent[0])}else c=document.querySelector(this._config.parent);var d=[].slice.call(c.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+
'"]'));l(d).each(function(c,d){b._addAriaAndCollapsedClass(a._getTargetFromElement(d),[d])});return c};c._addAriaAndCollapsedClass=function(a,b){a=l(a).hasClass("show");b.length&&l(b).toggleClass("collapsed",!a).attr("aria-expanded",a)};a._getTargetFromElement=function(a){return(a=k.getSelectorFromElement(a))?document.querySelector(a):null};a._jQueryInterface=function(b){return this.each(function(){var c=l(this),d=c.data("bs.collapse"),f=ha({},C,c.data(),"object"===typeof b&&b?b:{});!d&&f.toggle&&
/show|hide/.test(b)&&(f.toggle=!1);d||(d=new a(this,f),c.data("bs.collapse",d));if("string"===typeof b){if("undefined"===typeof d[b])throw new TypeError('No method named "'+b+'"');d[b]()}})};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return C}}]);return a}();l(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){"A"===a.currentTarget.tagName&&a.preventDefault();var b=l(this);a=k.getSelectorFromElement(this);a=[].slice.call(document.querySelectorAll(a));
l(a).each(function(){var a=l(this),c=a.data("bs.collapse")?"toggle":b.data();L._jQueryInterface.call(a,c)})});l.fn.collapse=L._jQueryInterface;l.fn.collapse.Constructor=L;l.fn.collapse.noConflict=function(){l.fn.collapse=f;return L._jQueryInterface};var K=l.fn.dropdown,B=/38|40|27/,G={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},z={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},m=function(){function a(a,
b){this._element=a;this._popper=null;this._config=this._getConfig(b);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var c=a.prototype;c.toggle=function(){if(!this._element.disabled&&!l(this._element).hasClass("disabled")){var b=a._getParentFromElement(this._element),c=l(this._menu).hasClass("show");a._clearMenus();if(!c){c={relatedTarget:this._element};var d=l.Event("show.bs.dropdown",c);l(b).trigger(d);if(!d.isDefaultPrevented()){if(!this._inNavbar){if("undefined"===
typeof F)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");d=this._element;"parent"===this._config.reference?d=b:k.isElement(this._config.reference)&&(d=this._config.reference,"undefined"!==typeof this._config.reference.jquery&&(d=this._config.reference[0]));"scrollParent"!==this._config.boundary&&l(b).addClass("position-static");this._popper=new F(d,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&0===l(b).closest(".navbar-nav").length)l(document.body).children().on("mouseover",
null,l.noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);l(this._menu).toggleClass("show");l(b).toggleClass("show").trigger(l.Event("shown.bs.dropdown",c))}}}};c.show=function(){if(!(this._element.disabled||l(this._element).hasClass("disabled")||l(this._menu).hasClass("show"))){var b={relatedTarget:this._element},c=l.Event("show.bs.dropdown",b),d=a._getParentFromElement(this._element);l(d).trigger(c);c.isDefaultPrevented()||(l(this._menu).toggleClass("show"),l(d).toggleClass("show").trigger(l.Event("shown.bs.dropdown",
b)))}};c.hide=function(){if(!this._element.disabled&&!l(this._element).hasClass("disabled")&&l(this._menu).hasClass("show")){var b={relatedTarget:this._element},c=l.Event("hide.bs.dropdown",b),d=a._getParentFromElement(this._element);l(d).trigger(c);c.isDefaultPrevented()||(l(this._menu).toggleClass("show"),l(d).toggleClass("show").trigger(l.Event("hidden.bs.dropdown",b)))}};c.dispose=function(){l.removeData(this._element,"bs.dropdown");l(this._element).off(".bs.dropdown");this._menu=this._element=
null;null!==this._popper&&(this._popper.destroy(),this._popper=null)};c.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()};c._addEventListeners=function(){var a=this;l(this._element).on("click.bs.dropdown",function(b){b.preventDefault();b.stopPropagation();a.toggle()})};c._getConfig=function(a){a=ha({},this.constructor.Default,l(this._element).data(),a);k.typeCheckConfig("dropdown",a,this.constructor.DefaultType);return a};c._getMenuElement=function(){if(!this._menu){var b=
a._getParentFromElement(this._element);b&&(this._menu=b.querySelector(".dropdown-menu"))}return this._menu};c._getPlacement=function(){var a=l(this._element.parentNode),b="bottom-start";a.hasClass("dropup")?(b="top-start",l(this._menu).hasClass("dropdown-menu-right")&&(b="top-end")):a.hasClass("dropright")?b="right-start":a.hasClass("dropleft")?b="left-start":l(this._menu).hasClass("dropdown-menu-right")&&(b="bottom-end");return b};c._detectNavbar=function(){return 0<l(this._element).closest(".navbar").length};
c._getOffset=function(){var a=this,b={};"function"===typeof this._config.offset?b.fn=function(b){b.offsets=ha({},b.offsets,a._config.offset(b.offsets,a._element)||{});return b}:b.offset=this._config.offset;return b};c._getPopperConfig=function(){var a={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};"static"===this._config.display&&(a.modifiers.applyStyle={enabled:!1});return a};a._jQueryInterface=
function(b){return this.each(function(){var c=l(this).data("bs.dropdown"),d="object"===typeof b?b:null;c||(c=new a(this,d),l(this).data("bs.dropdown",c));if("string"===typeof b){if("undefined"===typeof c[b])throw new TypeError('No method named "'+b+'"');c[b]()}})};a._clearMenus=function(b){if(!b||3!==b.which&&("keyup"!==b.type||9===b.which))for(var c=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),d=0,f=c.length;d<f;d++){var g=a._getParentFromElement(c[d]),p=l(c[d]).data("bs.dropdown"),
e={relatedTarget:c[d]};b&&"click"===b.type&&(e.clickEvent=b);if(p&&(p=p._menu,l(g).hasClass("show")&&!(b&&("click"===b.type&&/input|textarea/i.test(b.target.tagName)||"keyup"===b.type&&9===b.which)&&l.contains(g,b.target)))){var h=l.Event("hide.bs.dropdown",e);l(g).trigger(h);h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&l(document.body).children().off("mouseover",null,l.noop),c[d].setAttribute("aria-expanded","false"),l(p).removeClass("show"),l(g).removeClass("show").trigger(l.Event("hidden.bs.dropdown",
e)))}}};a._getParentFromElement=function(a){var b,c=k.getSelectorFromElement(a);c&&(b=document.querySelector(c));return b||a.parentNode};a._dataApiKeydownHandler=function(b){if(/input|textarea/i.test(b.target.tagName)?!(32===b.which||27!==b.which&&(40!==b.which&&38!==b.which||l(b.target).closest(".dropdown-menu").length)):B.test(b.which))if(b.preventDefault(),b.stopPropagation(),!this.disabled&&!l(this).hasClass("disabled")){var c=a._getParentFromElement(this),d=l(c).hasClass("show");!d||d&&(27===
b.which||32===b.which)?(27===b.which&&(b=c.querySelector('[data-toggle="dropdown"]'),l(b).trigger("focus")),l(this).trigger("click")):(c=[].slice.call(c.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")),0!==c.length&&(d=c.indexOf(b.target),38===b.which&&0<d&&d--,40===b.which&&d<c.length-1&&d++,0>d&&(d=0),c[d].focus()))}};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return G}},{key:"DefaultType",get:function(){return z}}]);return a}();
l(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',m._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",m._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",m._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(a){a.preventDefault();a.stopPropagation();m._jQueryInterface.call(l(this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()});l.fn.dropdown=
m._jQueryInterface;l.fn.dropdown.Constructor=m;l.fn.dropdown.noConflict=function(){l.fn.dropdown=K;return m._jQueryInterface};var V=l.fn.modal,U={backdrop:!0,keyboard:!0,focus:!0,show:!0},Y={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Z=function(){function a(a,b){this._config=this._getConfig(b);this._element=a;this._dialog=a.querySelector(".modal-dialog");this._backdrop=null;this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=!1;
this._scrollbarWidth=0}var c=a.prototype;c.toggle=function(a){return this._isShown?this.hide():this.show(a)};c.show=function(a){var b=this;if(!this._isShown&&!this._isTransitioning){l(this._element).hasClass("fade")&&(this._isTransitioning=!0);var c=l.Event("show.bs.modal",{relatedTarget:a});l(this._element).trigger(c);this._isShown||c.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),l(this._element).on("click.dismiss.bs.modal",
'[data-dismiss="modal"]',function(a){return b.hide(a)}),l(this._dialog).on("mousedown.dismiss.bs.modal",function(){l(b._element).one("mouseup.dismiss.bs.modal",function(a){l(a.target).is(b._element)&&(b._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return b._showElement(a)}))}};c.hide=function(a){var b=this;a&&a.preventDefault();if(this._isShown&&!this._isTransitioning&&(a=l.Event("hide.bs.modal"),l(this._element).trigger(a),this._isShown&&!a.isDefaultPrevented())){this._isShown=!1;if(a=
l(this._element).hasClass("fade"))this._isTransitioning=!0;this._setEscapeEvent();this._setResizeEvent();l(document).off("focusin.bs.modal");l(this._element).removeClass("show");l(this._element).off("click.dismiss.bs.modal");l(this._dialog).off("mousedown.dismiss.bs.modal");a?(a=k.getTransitionDurationFromElement(this._element),l(this._element).one(k.TRANSITION_END,function(a){return b._hideModal(a)}).emulateTransitionEnd(a)):this._hideModal()}};c.dispose=function(){[window,this._element,this._dialog].forEach(function(a){return l(a).off(".bs.modal")});
l(document).off("focusin.bs.modal");l.removeData(this._element,"bs.modal");this._scrollbarWidth=this._isTransitioning=this._ignoreBackdropClick=this._isBodyOverflowing=this._isShown=this._backdrop=this._dialog=this._element=this._config=null};c.handleUpdate=function(){this._adjustDialog()};c._getConfig=function(a){a=ha({},U,a);k.typeCheckConfig("modal",a,Y);return a};c._showElement=function(a){var b=this,c=l(this._element).hasClass("fade");this._element.parentNode&&this._element.parentNode.nodeType===
Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);l(this._dialog).hasClass("modal-dialog-scrollable")?this._dialog.querySelector(".modal-body").scrollTop=0:this._element.scrollTop=0;c&&k.reflow(this._element);l(this._element).addClass("show");this._config.focus&&this._enforceFocus();var d=l.Event("shown.bs.modal",{relatedTarget:a});a=function(){b._config.focus&&b._element.focus();
b._isTransitioning=!1;l(b._element).trigger(d)};c?(c=k.getTransitionDurationFromElement(this._dialog),l(this._dialog).one(k.TRANSITION_END,a).emulateTransitionEnd(c)):a()};c._enforceFocus=function(){var a=this;l(document).off("focusin.bs.modal").on("focusin.bs.modal",function(b){document!==b.target&&a._element!==b.target&&0===l(a._element).has(b.target).length&&a._element.focus()})};c._setEscapeEvent=function(){var a=this;if(this._isShown&&this._config.keyboard)l(this._element).on("keydown.dismiss.bs.modal",
function(b){27===b.which&&(b.preventDefault(),a.hide())});else this._isShown||l(this._element).off("keydown.dismiss.bs.modal")};c._setResizeEvent=function(){var a=this;if(this._isShown)l(window).on("resize.bs.modal",function(b){return a.handleUpdate(b)});else l(window).off("resize.bs.modal")};c._hideModal=function(){var a=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._isTransitioning=!1;this._showBackdrop(function(){l(document.body).removeClass("modal-open");
a._resetAdjustments();a._resetScrollbar();l(a._element).trigger("hidden.bs.modal")})};c._removeBackdrop=function(){this._backdrop&&(l(this._backdrop).remove(),this._backdrop=null)};c._showBackdrop=function(a){var b=this,c=l(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop)this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",c&&this._backdrop.classList.add(c),l(this._backdrop).appendTo(document.body),l(this._element).on("click.dismiss.bs.modal",
function(a){b._ignoreBackdropClick?b._ignoreBackdropClick=!1:a.target===a.currentTarget&&("static"===b._config.backdrop?b._element.focus():b.hide())}),c&&k.reflow(this._backdrop),l(this._backdrop).addClass("show"),a&&(c?(c=k.getTransitionDurationFromElement(this._backdrop),l(this._backdrop).one(k.TRANSITION_END,a).emulateTransitionEnd(c)):a());else if(!this._isShown&&this._backdrop)if(l(this._backdrop).removeClass("show"),c=function(){b._removeBackdrop();a&&a()},l(this._element).hasClass("fade")){var d=
k.getTransitionDurationFromElement(this._backdrop);l(this._backdrop).one(k.TRANSITION_END,c).emulateTransitionEnd(d)}else c();else a&&a()};c._adjustDialog=function(){var a=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&a&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!a&&(this._element.style.paddingRight=this._scrollbarWidth+"px")};c._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=
""};c._checkScrollbar=function(){var a=document.body.getBoundingClientRect();this._isBodyOverflowing=a.left+a.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};c._setScrollbar=function(){var a=this;if(this._isBodyOverflowing){var b=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),c=[].slice.call(document.querySelectorAll(".sticky-top"));l(b).each(function(b,c){b=c.style.paddingRight;var d=l(c).css("padding-right");l(c).data("padding-right",
b).css("padding-right",parseFloat(d)+a._scrollbarWidth+"px")});l(c).each(function(b,c){b=c.style.marginRight;var d=l(c).css("margin-right");l(c).data("margin-right",b).css("margin-right",parseFloat(d)-a._scrollbarWidth+"px")});b=document.body.style.paddingRight;c=l(document.body).css("padding-right");l(document.body).data("padding-right",b).css("padding-right",parseFloat(c)+this._scrollbarWidth+"px")}l(document.body).addClass("modal-open")};c._resetScrollbar=function(){var a=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));
l(a).each(function(a,b){a=l(b).data("padding-right");l(b).removeData("padding-right");b.style.paddingRight=a?a:""});a=[].slice.call(document.querySelectorAll(".sticky-top"));l(a).each(function(a,b){a=l(b).data("margin-right");"undefined"!==typeof a&&l(b).css("margin-right",a).removeData("margin-right")});a=l(document.body).data("padding-right");l(document.body).removeData("padding-right");document.body.style.paddingRight=a?a:""};c._getScrollbarWidth=function(){var a=document.createElement("div");
a.className="modal-scrollbar-measure";document.body.appendChild(a);var b=a.getBoundingClientRect().width-a.clientWidth;document.body.removeChild(a);return b};a._jQueryInterface=function(b,c){return this.each(function(){var d=l(this).data("bs.modal"),f=ha({},U,l(this).data(),"object"===typeof b&&b?b:{});d||(d=new a(this,f),l(this).data("bs.modal",d));if("string"===typeof b){if("undefined"===typeof d[b])throw new TypeError('No method named "'+b+'"');d[b](c)}else f.show&&d.show(c)})};b(a,null,[{key:"VERSION",
get:function(){return"4.3.1"}},{key:"Default",get:function(){return U}}]);return a}();l(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var b=this,c,d=k.getSelectorFromElement(this);d&&(c=document.querySelector(d));d=l(c).data("bs.modal")?"toggle":ha({},l(c).data(),l(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||a.preventDefault();var f=l(c).one("show.bs.modal",function(a){if(!a.isDefaultPrevented())f.one("hidden.bs.modal",function(){l(b).is(":visible")&&b.focus()})});
Z._jQueryInterface.call(l(c),d,this)});l.fn.modal=Z._jQueryInterface;l.fn.modal.Constructor=Z;l.fn.modal.noConflict=function(){l.fn.modal=V;return Z._jQueryInterface};var R="background cite href itemtype longdesc poster src xlink:href".split(" "),Q=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,I=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,ca=l.fn.tooltip,ba=/(^|\s)bs-tooltip\S+/g,P=["sanitize",
"whiteList","sanitizeFn"],T={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},S={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},J={animation:!0,
template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title",
"width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},p={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},D=function(){function a(a,b){if("undefined"===typeof F)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");
this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=a;this.config=this._getConfig(b);this.tip=null;this._setListeners()}var c=a.prototype;c.enable=function(){this._isEnabled=!0};c.disable=function(){this._isEnabled=!1};c.toggleEnabled=function(){this._isEnabled=!this._isEnabled};c.toggle=function(a){if(this._isEnabled)if(a){var b=this.constructor.DATA_KEY,c=l(a.currentTarget).data(b);c||(c=new this.constructor(a.currentTarget,this._getDelegateConfig()),
l(a.currentTarget).data(b,c));c._activeTrigger.click=!c._activeTrigger.click;c._isWithActiveTrigger()?c._enter(null,c):c._leave(null,c)}else l(this.getTipElement()).hasClass("show")?this._leave(null,this):this._enter(null,this)};c.dispose=function(){clearTimeout(this._timeout);l.removeData(this.element,this.constructor.DATA_KEY);l(this.element).off(this.constructor.EVENT_KEY);l(this.element).closest(".modal").off("hide.bs.modal");this.tip&&l(this.tip).remove();this._activeTrigger=this._hoverState=
this._timeout=this._isEnabled=null;null!==this._popper&&this._popper.destroy();this.tip=this.config=this.element=this._popper=null};c.show=function(){var a=this;if("none"===l(this.element).css("display"))throw Error("Please use show on visible elements");var b=l.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){l(this.element).trigger(b);var c=k.findShadowRoot(this.element);c=l.contains(null!==c?c:this.element.ownerDocument.documentElement,this.element);if(!b.isDefaultPrevented()&&
c){b=this.getTipElement();c=k.getUID(this.constructor.NAME);b.setAttribute("id",c);this.element.setAttribute("aria-describedby",c);this.setContent();this.config.animation&&l(b).addClass("fade");c="function"===typeof this.config.placement?this.config.placement.call(this,b,this.element):this.config.placement;c=this._getAttachment(c);this.addAttachmentClass(c);var d=this._getContainer();l(b).data(this.constructor.DATA_KEY,this);l.contains(this.element.ownerDocument.documentElement,this.tip)||l(b).appendTo(d);
l(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new F(this.element,b,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(b){b.originalPlacement!==b.placement&&a._handlePopperPlacementChange(b)},onUpdate:function(b){return a._handlePopperPlacementChange(b)}});l(b).addClass("show");if("ontouchstart"in document.documentElement)l(document.body).children().on("mouseover",
null,l.noop);b=function(){a.config.animation&&a._fixTransition();var b=a._hoverState;a._hoverState=null;l(a.element).trigger(a.constructor.Event.SHOWN);"out"===b&&a._leave(null,a)};l(this.tip).hasClass("fade")?(c=k.getTransitionDurationFromElement(this.tip),l(this.tip).one(k.TRANSITION_END,b).emulateTransitionEnd(c)):b()}}};c.hide=function(a){var b=this,c=this.getTipElement(),d=l.Event(this.constructor.Event.HIDE),f=function(){"show"!==b._hoverState&&c.parentNode&&c.parentNode.removeChild(c);b._cleanTipClass();
b.element.removeAttribute("aria-describedby");l(b.element).trigger(b.constructor.Event.HIDDEN);null!==b._popper&&b._popper.destroy();a&&a()};l(this.element).trigger(d);d.isDefaultPrevented()||(l(c).removeClass("show"),"ontouchstart"in document.documentElement&&l(document.body).children().off("mouseover",null,l.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,l(this.tip).hasClass("fade")?(d=k.getTransitionDurationFromElement(c),l(c).one(k.TRANSITION_END,
f).emulateTransitionEnd(d)):f(),this._hoverState="")};c.update=function(){null!==this._popper&&this._popper.scheduleUpdate()};c.isWithContent=function(){return!!this.getTitle()};c.addAttachmentClass=function(a){l(this.getTipElement()).addClass("bs-tooltip-"+a)};c.getTipElement=function(){return this.tip=this.tip||l(this.config.template)[0]};c.setContent=function(){var a=this.getTipElement();this.setElementContent(l(a.querySelectorAll(".tooltip-inner")),this.getTitle());l(a).removeClass("fade show")};
c.setElementContent=function(a,b){"object"===typeof b&&(b.nodeType||b.jquery)?this.config.html?l(b).parent().is(a)||a.empty().append(b):a.text(l(b).text()):this.config.html?(this.config.sanitize&&(b=e(b,this.config.whiteList,this.config.sanitizeFn)),a.html(b)):a.text(b)};c.getTitle=function(){var a=this.element.getAttribute("data-original-title");a||(a="function"===typeof this.config.title?this.config.title.call(this.element):this.config.title);return a};c._getOffset=function(){var a=this,b={};"function"===
typeof this.config.offset?b.fn=function(b){b.offsets=ha({},b.offsets,a.config.offset(b.offsets,a.element)||{});return b}:b.offset=this.config.offset;return b};c._getContainer=function(){return!1===this.config.container?document.body:k.isElement(this.config.container)?l(this.config.container):l(document).find(this.config.container)};c._getAttachment=function(a){return S[a.toUpperCase()]};c._setListeners=function(){var a=this;this.config.trigger.split(" ").forEach(function(b){if("click"===b)l(a.element).on(a.constructor.Event.CLICK,
a.config.selector,function(b){return a.toggle(b)});else if("manual"!==b){var c="hover"===b?a.constructor.Event.MOUSEENTER:a.constructor.Event.FOCUSIN;b="hover"===b?a.constructor.Event.MOUSELEAVE:a.constructor.Event.FOCUSOUT;l(a.element).on(c,a.config.selector,function(b){return a._enter(b)}).on(b,a.config.selector,function(b){return a._leave(b)})}});l(this.element).closest(".modal").on("hide.bs.modal",function(){a.element&&a.hide()});this.config.selector?this.config=ha({},this.config,{trigger:"manual",
selector:""}):this._fixTitle()};c._fixTitle=function(){var a=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||"string"!==a)this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title","")};c._enter=function(a,b){var c=this.constructor.DATA_KEY;b=b||l(a.currentTarget).data(c);b||(b=new this.constructor(a.currentTarget,this._getDelegateConfig()),l(a.currentTarget).data(c,b));a&&(b._activeTrigger["focusin"===
a.type?"focus":"hover"]=!0);l(b.getTipElement()).hasClass("show")||"show"===b._hoverState?b._hoverState="show":(clearTimeout(b._timeout),b._hoverState="show",b.config.delay&&b.config.delay.show?b._timeout=setTimeout(function(){"show"===b._hoverState&&b.show()},b.config.delay.show):b.show())};c._leave=function(a,b){var c=this.constructor.DATA_KEY;b=b||l(a.currentTarget).data(c);b||(b=new this.constructor(a.currentTarget,this._getDelegateConfig()),l(a.currentTarget).data(c,b));a&&(b._activeTrigger["focusout"===
a.type?"focus":"hover"]=!1);b._isWithActiveTrigger()||(clearTimeout(b._timeout),b._hoverState="out",b.config.delay&&b.config.delay.hide?b._timeout=setTimeout(function(){"out"===b._hoverState&&b.hide()},b.config.delay.hide):b.hide())};c._isWithActiveTrigger=function(){for(var a in this._activeTrigger)if(this._activeTrigger[a])return!0;return!1};c._getConfig=function(a){var b=l(this.element).data();Object.keys(b).forEach(function(a){-1!==P.indexOf(a)&&delete b[a]});a=ha({},this.constructor.Default,
b,"object"===typeof a&&a?a:{});"number"===typeof a.delay&&(a.delay={show:a.delay,hide:a.delay});"number"===typeof a.title&&(a.title=a.title.toString());"number"===typeof a.content&&(a.content=a.content.toString());k.typeCheckConfig("tooltip",a,this.constructor.DefaultType);a.sanitize&&(a.template=e(a.template,a.whiteList,a.sanitizeFn));return a};c._getDelegateConfig=function(){var a={};if(this.config)for(var b in this.config)this.constructor.Default[b]!==this.config[b]&&(a[b]=this.config[b]);return a};
c._cleanTipClass=function(){var a=l(this.getTipElement()),b=a.attr("class").match(ba);null!==b&&b.length&&a.removeClass(b.join(""))};c._handlePopperPlacementChange=function(a){this.tip=a.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(a.placement))};c._fixTransition=function(){var a=this.getTipElement(),b=this.config.animation;null===a.getAttribute("x-placement")&&(l(a).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=b)};
a._jQueryInterface=function(b){return this.each(function(){var c=l(this).data("bs.tooltip"),d="object"===typeof b&&b;if(c||!/dispose|hide/.test(b))if(c||(c=new a(this,d),l(this).data("bs.tooltip",c)),"string"===typeof b){if("undefined"===typeof c[b])throw new TypeError('No method named "'+b+'"');c[b]()}})};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return J}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},
{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return T}}]);return a}();l.fn.tooltip=D._jQueryInterface;l.fn.tooltip.Constructor=D;l.fn.tooltip.noConflict=function(){l.fn.tooltip=ca;return D._jQueryInterface};var O=l.fn.popover,N=/(^|\s)bs-popover\S+/g,ta=ha({},D.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),
ia=ha({},D.DefaultType,{content:"(string|element|function)"}),X={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},W=function(c){function d(){return c.apply(this,arguments)||this}a(d,c);var f=d.prototype;f.isWithContent=function(){return this.getTitle()||this._getContent()};
f.addAttachmentClass=function(a){l(this.getTipElement()).addClass("bs-popover-"+a)};f.getTipElement=function(){return this.tip=this.tip||l(this.config.template)[0]};f.setContent=function(){var a=l(this.getTipElement());this.setElementContent(a.find(".popover-header"),this.getTitle());var b=this._getContent();"function"===typeof b&&(b=b.call(this.element));this.setElementContent(a.find(".popover-body"),b);a.removeClass("fade show")};f._getContent=function(){return this.element.getAttribute("data-content")||
this.config.content};f._cleanTipClass=function(){var a=l(this.getTipElement()),b=a.attr("class").match(N);null!==b&&0<b.length&&a.removeClass(b.join(""))};d._jQueryInterface=function(a){return this.each(function(){var b=l(this).data("bs.popover"),c="object"===typeof a?a:null;if(b||!/dispose|hide/.test(a))if(b||(b=new d(this,c),l(this).data("bs.popover",b)),"string"===typeof a){if("undefined"===typeof b[a])throw new TypeError('No method named "'+a+'"');b[a]()}})};b(d,null,[{key:"VERSION",get:function(){return"4.3.1"}},
{key:"Default",get:function(){return ta}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return X}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return ia}}]);return d}(D);l.fn.popover=W._jQueryInterface;l.fn.popover.Constructor=W;l.fn.popover.noConflict=function(){l.fn.popover=O;return W._jQueryInterface};var na=l.fn.scrollspy,ka={offset:10,method:"auto",target:""},xa={offset:"number",
method:"string",target:"(string|element)"},fa=function(){function a(a,b){var c=this;this._element=a;this._scrollElement="BODY"===a.tagName?window:a;this._config=this._getConfig(b);this._selector=this._config.target+" .nav-link,"+(this._config.target+" .list-group-item,")+(this._config.target+" .dropdown-item");this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;l(this._scrollElement).on("scroll.bs.scrollspy",function(a){return c._process(a)});this.refresh();this._process()}
var c=a.prototype;c.refresh=function(){var a=this,b=this._scrollElement===this._scrollElement.window?"offset":"position",c="auto"===this._config.method?b:this._config.method,d="position"===c?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();[].slice.call(document.querySelectorAll(this._selector)).map(function(a){var b;(a=k.getSelectorFromElement(a))&&(b=document.querySelector(a));if(b){var f=b.getBoundingClientRect();if(f.width||f.height)return[l(b)[c]().top+
d,a]}return null}).filter(function(a){return a}).sort(function(a,b){return a[0]-b[0]}).forEach(function(b){a._offsets.push(b[0]);a._targets.push(b[1])})};c.dispose=function(){l.removeData(this._element,"bs.scrollspy");l(this._scrollElement).off(".bs.scrollspy");this._scrollHeight=this._activeTarget=this._targets=this._offsets=this._selector=this._config=this._scrollElement=this._element=null};c._getConfig=function(a){a=ha({},ka,"object"===typeof a&&a?a:{});if("string"!==typeof a.target){var b=l(a.target).attr("id");
b||(b=k.getUID("scrollspy"),l(a.target).attr("id",b));a.target="#"+b}k.typeCheckConfig("scrollspy",a,xa);return a};c._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop};c._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};c._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height};
c._process=function(){var a=this._getScrollTop()+this._config.offset,b=this._getScrollHeight(),c=this._config.offset+b-this._getOffsetHeight();this._scrollHeight!==b&&this.refresh();if(a>=c)a=this._targets[this._targets.length-1],this._activeTarget!==a&&this._activate(a);else if(this._activeTarget&&a<this._offsets[0]&&0<this._offsets[0])this._activeTarget=null,this._clear();else for(b=this._offsets.length;b--;)this._activeTarget!==this._targets[b]&&a>=this._offsets[b]&&("undefined"===typeof this._offsets[b+
1]||a<this._offsets[b+1])&&this._activate(this._targets[b])};c._activate=function(a){this._activeTarget=a;this._clear();var b=this._selector.split(",").map(function(b){return b+'[data-target="'+a+'"],'+b+'[href="'+a+'"]'});b=l([].slice.call(document.querySelectorAll(b.join(","))));b.hasClass("dropdown-item")?(b.closest(".dropdown").find(".dropdown-toggle").addClass("active"),b.addClass("active")):(b.addClass("active"),b.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),
b.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active"));l(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:a})};c._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(a){return a.classList.contains("active")}).forEach(function(a){return a.classList.remove("active")})};a._jQueryInterface=function(b){return this.each(function(){var c=l(this).data("bs.scrollspy"),d="object"===typeof b&&b;c||(c=new a(this,d),l(this).data("bs.scrollspy",
c));if("string"===typeof b){if("undefined"===typeof c[b])throw new TypeError('No method named "'+b+'"');c[b]()}})};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ka}}]);return a}();l(window).on("load.bs.scrollspy.data-api",function(){for(var a=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),b=a.length;b--;){var c=l(a[b]);fa._jQueryInterface.call(c,c.data())}});l.fn.scrollspy=fa._jQueryInterface;l.fn.scrollspy.Constructor=fa;l.fn.scrollspy.noConflict=
function(){l.fn.scrollspy=na;return fa._jQueryInterface};var ea=l.fn.tab,aa=function(){function a(a){this._element=a}var c=a.prototype;c.show=function(){var a=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&l(this._element).hasClass("active")||l(this._element).hasClass("disabled"))){var b,c=l(this._element).closest(".nav, .list-group")[0],d=k.getSelectorFromElement(this._element);if(c){var f="UL"===c.nodeName||"OL"===c.nodeName?"> li > .active":".active";
var g=l.makeArray(l(c).find(f));g=g[g.length-1]}f=l.Event("hide.bs.tab",{relatedTarget:this._element});var p=l.Event("show.bs.tab",{relatedTarget:g});g&&l(g).trigger(f);l(this._element).trigger(p);p.isDefaultPrevented()||f.isDefaultPrevented()||(d&&(b=document.querySelector(d)),this._activate(this._element,c),c=function(){var b=l.Event("hidden.bs.tab",{relatedTarget:a._element}),c=l.Event("shown.bs.tab",{relatedTarget:g});l(g).trigger(b);l(a._element).trigger(c)},b?this._activate(b,b.parentNode,c):
c())}};c.dispose=function(){l.removeData(this._element,"bs.tab");this._element=null};c._activate=function(a,b,c){var d=this,f=(!b||"UL"!==b.nodeName&&"OL"!==b.nodeName?l(b).children(".active"):l(b).find("> li > .active"))[0],g=c&&f&&l(f).hasClass("fade");b=function(){return d._transitionComplete(a,f,c)};f&&g?(g=k.getTransitionDurationFromElement(f),l(f).removeClass("show").one(k.TRANSITION_END,b).emulateTransitionEnd(g)):b()};c._transitionComplete=function(a,b,c){if(b){l(b).removeClass("active");
var d=l(b.parentNode).find("> .dropdown-menu .active")[0];d&&l(d).removeClass("active");"tab"===b.getAttribute("role")&&b.setAttribute("aria-selected",!1)}l(a).addClass("active");"tab"===a.getAttribute("role")&&a.setAttribute("aria-selected",!0);k.reflow(a);a.classList.contains("fade")&&a.classList.add("show");if(a.parentNode&&l(a.parentNode).hasClass("dropdown-menu")){if(b=l(a).closest(".dropdown")[0])b=[].slice.call(b.querySelectorAll(".dropdown-toggle")),l(b).addClass("active");a.setAttribute("aria-expanded",
!0)}c&&c()};a._jQueryInterface=function(b){return this.each(function(){var c=l(this),d=c.data("bs.tab");d||(d=new a(this),c.data("bs.tab",d));if("string"===typeof b){if("undefined"===typeof d[b])throw new TypeError('No method named "'+b+'"');d[b]()}})};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}}]);return a}();l(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(a){a.preventDefault();aa._jQueryInterface.call(l(this),"show")});
l.fn.tab=aa._jQueryInterface;l.fn.tab.Constructor=aa;l.fn.tab.noConflict=function(){l.fn.tab=ea;return aa._jQueryInterface};var la=l.fn.toast,oa={animation:"boolean",autohide:"boolean",delay:"number"},ya={animation:!0,autohide:!0,delay:500},va=function(){function a(a,b){this._element=a;this._config=this._getConfig(b);this._timeout=null;this._setListeners()}var c=a.prototype;c.show=function(){var a=this;l(this._element).trigger("show.bs.toast");this._config.animation&&this._element.classList.add("fade");
var b=function(){a._element.classList.remove("showing");a._element.classList.add("show");l(a._element).trigger("shown.bs.toast");a._config.autohide&&a.hide()};this._element.classList.remove("hide");this._element.classList.add("showing");if(this._config.animation){var c=k.getTransitionDurationFromElement(this._element);l(this._element).one(k.TRANSITION_END,b).emulateTransitionEnd(c)}else b()};c.hide=function(a){var b=this;this._element.classList.contains("show")&&(l(this._element).trigger("hide.bs.toast"),
a?this._close():this._timeout=setTimeout(function(){b._close()},this._config.delay))};c.dispose=function(){clearTimeout(this._timeout);this._timeout=null;this._element.classList.contains("show")&&this._element.classList.remove("show");l(this._element).off("click.dismiss.bs.toast");l.removeData(this._element,"bs.toast");this._config=this._element=null};c._getConfig=function(a){a=ha({},ya,l(this._element).data(),"object"===typeof a&&a?a:{});k.typeCheckConfig("toast",a,this.constructor.DefaultType);
return a};c._setListeners=function(){var a=this;l(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return a.hide(!0)})};c._close=function(){var a=this,b=function(){a._element.classList.add("hide");l(a._element).trigger("hidden.bs.toast")};this._element.classList.remove("show");if(this._config.animation){var c=k.getTransitionDurationFromElement(this._element);l(this._element).one(k.TRANSITION_END,b).emulateTransitionEnd(c)}else b()};a._jQueryInterface=function(b){return this.each(function(){var c=
l(this),d=c.data("bs.toast"),f="object"===typeof b&&b;d||(d=new a(this,f),c.data("bs.toast",d));if("string"===typeof b){if("undefined"===typeof d[b])throw new TypeError('No method named "'+b+'"');d[b](this)}})};b(a,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return oa}},{key:"Default",get:function(){return ya}}]);return a}();l.fn.toast=va._jQueryInterface;l.fn.toast.Constructor=va;l.fn.toast.noConflict=function(){l.fn.toast=la;return va._jQueryInterface};
(function(){if("undefined"===typeof l)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var a=l.fn.jquery.split(" ")[0].split(".");if(2>a[0]&&9>a[1]||1===a[0]&&9===a[1]&&1>a[2]||4<=a[0])throw Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");})();x.Util=k;x.Alert=r;x.Button=v;x.Carousel=d;x.Collapse=L;x.Dropdown=m;x.Modal=Z;x.Popover=W;x.Scrollspy=fa;x.Tab=aa;x.Toast=va;x.Tooltip=D;Object.defineProperty(x,
"__esModule",{value:!0})})},VS3o:function(x,da,F){(function(F,l){var ha,La;!function(a,b){"object"==typeof x.exports?x.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a,b){var c=(b=b||ea).createElement("script");c.text=a;b.head.appendChild(c).parentNode.removeChild(c)}function k(a){var b=!!a&&"length"in a&&a.length,c=u.type(a);return"function"!==c&&!u.isWindow(a)&&
("array"===c||0===b||"number"==typeof b&&0<b&&b-1 in a)}function H(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function r(a,b,c){return u.isFunction(b)?u.grep(a,function(a,t){return!!b.call(a,t,a)!==c}):b.nodeType?u.grep(a,function(a){return a===b!==c}):"string"!=typeof b?u.grep(a,function(a){return-1<va.call(b,a)!==c}):Gb.test(b)?u.filter(b,a,c):(b=u.filter(b,a),u.grep(a,function(a){return-1<va.call(b,a)!==c&&1===a.nodeType}))}function h(a,b){for(;(a=a[b])&&1!==a.nodeType;);
return a}function v(a){return a}function w(a){throw a;}function l(a,b,c,d){var t;try{a&&u.isFunction(t=a.promise)?t.call(a).done(b).fail(c):a&&u.isFunction(t=a.then)?t.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(M){c.apply(void 0,[M])}}function A(){ea.removeEventListener("DOMContentLoaded",A);a.removeEventListener("load",A);u.ready()}function q(){this.expando=u.expando+q.uid++}function d(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ra,"-$&").toLowerCase(),"string"==typeof(c=
a.getAttribute(d))){try{d=c,c="true"===d||"false"!==d&&("null"===d?null:d===+d+""?+d:Aa.test(d)?JSON.parse(d):d)}catch(n){}pa.set(a,b,c)}else c=void 0;return c}function f(a,b,c,d){var t,f=1,g=20,p=d?function(){return d.cur()}:function(){return u.css(a,b,"")},e=p(),h=c&&c[3]||(u.cssNumber[b]?"":"px"),m=(u.cssNumber[b]||"px"!==h&&+e)&&Ea.exec(u.css(a,b));if(m&&m[3]!==h){h=h||m[3];c=c||[];m=+e||1;do m/=f=f||".5",u.style(a,b,m+h);while(f!==(f=p()/e)&&1!==f&&--g)}return c&&(m=+m||+e||0,t=c[1]?m+(c[1]+
1)*c[2]:+c[2],d&&(d.unit=h,d.start=m,d.end=t)),t}function C(a,b){for(var c,d,t=[],f=0,g=a.length;f<g;f++)if((d=a[f]).style)if(c=d.style.display,b){if("none"===c&&(t[f]=ja.get(d,"display")||null,t[f]||(d.style.display="")),""===d.style.display&&$a(d)){c=f;var p=void 0;var e=d.ownerDocument;var h=d.nodeName;e=(d=Ba[h])||(p=e.body.appendChild(e.createElement(h)),d=u.css(p,"display"),p.parentNode.removeChild(p),"none"===d&&(d="block"),Ba[h]=d,d);t[c]=e}}else"none"!==c&&(t[f]="none",ja.set(d,"display",
c));for(f=0;f<g;f++)null!=t[f]&&(a[f].style.display=t[f]);return a}function g(a,b){var c;return c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&H(a,b)?u.merge([a],c):c}function L(a,b){for(var c=0,d=a.length;c<d;c++)ja.set(a[c],"globalEval",!b||ja.get(b[c],"globalEval"))}function K(a,b,c,d,n){for(var t,f,p,e,h=b.createDocumentFragment(),m=[],q=0,qa=a.length;q<qa;q++)if((t=a[q])||0===t)if("object"===u.type(t))u.merge(m,
t.nodeType?[t]:t);else if(Ob.test(t)){f=f||h.appendChild(b.createElement("div"));p=(ub.exec(t)||["",""])[1].toLowerCase();p=Za[p]||Za._default;f.innerHTML=p[1]+u.htmlPrefilter(t)+p[2];for(p=p[0];p--;)f=f.lastChild;u.merge(m,f.childNodes);(f=h.firstChild).textContent=""}else m.push(b.createTextNode(t));h.textContent="";for(q=0;t=m[q++];)if(d&&-1<u.inArray(t,d))n&&n.push(t);else if(e=u.contains(t.ownerDocument,t),f=g(h.appendChild(t),"script"),e&&L(f),c)for(p=0;t=f[p++];)nb.test(t.type||"")&&c.push(t);
return h}function B(){return!0}function G(){return!1}function z(){try{return ea.activeElement}catch(t){}}function m(a,b,c,d,n,f){var t,g;if("object"==typeof b){for(g in"string"!=typeof c&&(d=d||c,c=void 0),b)m(a,g,c,d,b[g],f);return a}if(null==d&&null==n?(n=c,d=c=void 0):null==n&&("string"==typeof c?(n=d,d=void 0):(n=d,d=c,c=void 0)),!1===n)n=G;else if(!n)return a;return 1===f&&(t=n,(n=function(a){return u().off(a),t.apply(this,arguments)}).guid=t.guid||(t.guid=u.guid++)),a.each(function(){u.event.add(this,
b,n,d,c)})}function V(a,b){return H(a,"table")&&H(11!==b.nodeType?b:b.firstChild,"tr")&&u(">tbody",a)[0]||a}function U(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Y(a){var b=Vb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Z(a,b){var c,d,t,f,g,p;if(1===b.nodeType){if(ja.hasData(a)&&(c=ja.access(a),d=ja.set(b,c),p=c.events))for(t in delete d.handle,d.events={},p)for(c=0,d=p[t].length;c<d;c++)u.event.add(b,t,p[t][c]);pa.hasData(a)&&(f=pa.access(a),
g=u.extend({},f),pa.set(b,g))}}function R(a,b,d,f){b=oa.apply([],b);var t,p,e,h=0,m=a.length,q=m-1,qa=b[0],z=u.isFunction(qa);if(z||1<m&&"string"==typeof qa&&!ua.checkClone&&lc.test(qa))return a.each(function(c){var t=a.eq(c);z&&(b[0]=qa.call(this,c,t.html()));R(t,b,d,f)});if(m&&(p=(t=K(b,a[0].ownerDocument,!1,a,f)).firstChild,1===t.childNodes.length&&(t=p),p||f)){for(e=(p=u.map(g(t,"script"),U)).length;h<m;h++){var D=t;h!==q&&(D=u.clone(D,!0,!0),e&&u.merge(p,g(D,"script")));d.call(a[h],D,h)}if(e)for(t=
p[p.length-1].ownerDocument,u.map(p,Y),h=0;h<e;h++)D=p[h],nb.test(D.type||"")&&!ja.access(D,"globalEval")&&u.contains(t,D)&&(D.src?u._evalUrl&&u._evalUrl(D.src):c(D.textContent.replace(bc,""),t))}return a}function Q(a,b,c){for(var d=b?u.filter(b,a):a,t=0;null!=(b=d[t]);t++)c||1!==b.nodeType||u.cleanData(g(b)),b.parentNode&&(c&&u.contains(b.ownerDocument,b)&&L(g(b,"script")),b.parentNode.removeChild(b));return a}function I(a,b,c){var d,t,f,g,p=a.style;return(c=c||Ta(a))&&(""!==(g=c.getPropertyValue(b)||
c[b])||u.contains(a.ownerDocument,a)||(g=u.style(a,b)),!ua.pixelMarginRight()&&Kb.test(g)&&pb.test(b)&&(d=p.width,t=p.minWidth,f=p.maxWidth,p.minWidth=p.maxWidth=p.width=g,g=c.width,p.width=d,p.minWidth=t,p.maxWidth=f)),void 0!==g?g+"":g}function ca(a,b){return{get:function(){if(!a())return(this.get=b).apply(this,arguments);delete this.get}}}function ba(a){var b=u.cssProps[a];if(!b){b=u.cssProps;a:{var c=a;if(!(c in Sb)){for(var d=c[0].toUpperCase()+c.slice(1),t=Na.length;t--;)if((c=Na[t]+d)in Sb)break a;
c=void 0}}b=b[a]=c||a}return b}function P(a,b,c){return(a=Ea.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function T(a,b,c,d,n){var t=0;for(b=c===(d?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===c&&(t+=u.css(a,c+mb[b],!0,n)),d?("content"===c&&(t-=u.css(a,"padding"+mb[b],!0,n)),"margin"!==c&&(t-=u.css(a,"border"+mb[b]+"Width",!0,n))):(t+=u.css(a,"padding"+mb[b],!0,n),"padding"!==c&&(t+=u.css(a,"border"+mb[b]+"Width",!0,n)));return t}function S(a,b,c){var d,t=Ta(a),f=I(a,b,t),g="border-box"===
u.css(a,"boxSizing",!1,t);return Kb.test(f)?f:(d=g&&(ua.boxSizingReliable()||f===a.style[b]),"auto"===f&&(f=a["offset"+b[0].toUpperCase()+b.slice(1)]),(parseFloat(f)||0)+T(a,b,c||(g?"border":"content"),d,t)+"px")}function J(a,b,c,d,n){return new J.prototype.init(a,b,c,d,n)}function p(){Wa&&(!1===ea.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(p):a.setTimeout(p,u.fx.interval),u.fx.tick())}function D(){return a.setTimeout(function(){Ab=void 0}),Ab=u.now()}function O(a,b){var c,d=0,t={height:a};
for(b=b?1:0;4>d;d+=2-b)t["margin"+(c=mb[d])]=t["padding"+c]=a;return b&&(t.opacity=t.width=a),t}function N(a,b,c){for(var d,t=(ta.tweeners[b]||[]).concat(ta.tweeners["*"]),f=0,g=t.length;f<g;f++)if(d=t[f].call(c,b,a))return d}function ta(a,b,c){var d,t=0,f=ta.prefilters.length,g=u.Deferred().always(function(){delete p.elem}),p=function(){if(d)return!1;var b=Ab||D();b=Math.max(0,e.startTime+e.duration-b);for(var c=1-(b/e.duration||0),t=0,f=e.tweens.length;t<f;t++)e.tweens[t].run(c);return g.notifyWith(a,
[e,c,b]),1>c&&f?b:(f||g.notifyWith(a,[e,1,0]),g.resolveWith(a,[e]),!1)},e=g.promise({elem:a,props:u.extend({},b),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ab||D(),duration:c.duration,tweens:[],createTween:function(b,c){b=u.Tween(a,e.opts,b,c,e.opts.specialEasing[b]||e.opts.easing);return e.tweens.push(b),b},stop:function(b){var c=0,t=b?e.tweens.length:0;if(d)return this;for(d=!0;c<t;c++)e.tweens[c].run(1);return b?(g.notifyWith(a,
[e,1,0]),g.resolveWith(a,[e,b])):g.rejectWith(a,[e,b]),this}});c=e.props;!function(a,b){var c,d,t,f,n;for(c in a)if(t=b[d=u.camelCase(c)],f=a[c],Array.isArray(f)&&(t=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(n=u.cssHooks[d])&&"expand"in n)for(c in f=n.expand(f),delete a[d],f)c in a||(a[c]=f[c],b[c]=t);else b[d]=t}(c,e.opts.specialEasing);for(;t<f;t++)if(b=ta.prefilters[t].call(e,a,c,e.opts))return u.isFunction(b.stop)&&(u._queueHooks(e.elem,e.opts.queue).stop=u.proxy(b.stop,b)),b;return u.map(c,
N,e),u.isFunction(e.opts.start)&&e.opts.start.call(a,e),e.progress(e.opts.progress).done(e.opts.done,e.opts.complete).fail(e.opts.fail).always(e.opts.always),u.fx.timer(u.extend(p,{elem:a,anim:e,queue:e.opts.queue})),e}function ia(a){return(a.match(Oa)||[]).join(" ")}function X(a){return a.getAttribute&&a.getAttribute("class")||""}function W(a,b,c,d){var t;if(Array.isArray(b))u.each(b,function(b,t){c||nc.test(a)?d(a,t):W(a+"["+("object"==typeof t&&null!=t?b:"")+"]",t,c,d)});else if(c||"object"!==
u.type(b))d(a,b);else for(t in b)W(a+"["+t+"]",b[t],c,d)}function na(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d=0,t=b.toLowerCase().match(Oa)||[];if(u.isFunction(c))for(;b=t[d++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function ka(a,b,c,d){function t(n){var p;return f[n]=!0,u.each(a[n]||[],function(a,n){a=n(b,c,d);return"string"!=typeof a||g||f[a]?g?!(p=a):void 0:(b.dataTypes.unshift(a),t(a),!1)}),p}var f={},g=a===xb;return t(b.dataTypes[0])||
!f["*"]&&t("*")}function xa(a,b){var c,d,t=u.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((t[c]?a:d||(d={}))[c]=b[c]);return d&&u.extend(!0,a,d),a}var fa=[],ea=a.document,aa=Object.getPrototypeOf,F=fa.slice,oa=fa.concat,ya=fa.push,va=fa.indexOf,Ib={},zb=Ib.toString,ra=Ib.hasOwnProperty,Db=ra.toString,Jb=Db.call(Object),ua={},u=function(a,b){return new u.fn.init(a,b)},Rb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Da=/^-ms-/,sa=/-([a-z])/g,Eb=function(a,b){return b.toUpperCase()};$jscomp.initSymbol();
$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();u.fn=u.prototype={jquery:"3.2.1",constructor:u,length:0,toArray:function(){return F.call(this)},get:function(a){return null==a?F.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=u.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return u.each(this,a)},map:function(a){return this.pushStack(u.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(F.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:ya,sort:fa.sort,splice:fa.splice};u.extend=u.fn.extend=function(){var a,b,c,d,f,g=arguments[0]||{},p=1,e=arguments.length,h=!1;"boolean"==typeof g&&(h=g,g=arguments[p]||{},p++);"object"==typeof g||u.isFunction(g)||(g={});for(p===e&&(g=this,p--);p<e;p++)if(null!=
(a=arguments[p]))for(b in a){var m=g[b];g!==(c=a[b])&&(h&&c&&(u.isPlainObject(c)||(d=Array.isArray(c)))?(d?(d=!1,f=m&&Array.isArray(m)?m:[]):f=m&&u.isPlainObject(m)?m:{},g[b]=u.extend(h,f,c)):void 0!==c&&(g[b]=c))}return g};u.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===u.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=u.type(a);return("number"===
b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==zb.call(a))&&(!(b=aa(a))||"function"==typeof(c=ra.call(b,"constructor")&&b.constructor)&&Db.call(c)===Jb)},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Ib[zb.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(Da,"ms-").replace(sa,Eb)},each:function(a,b){var c,
d=0;if(k(a))for(c=a.length;d<c&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Rb,"")},makeArray:function(a,b){b=b||[];return null!=a&&(k(Object(a))?u.merge(b,"string"==typeof a?[a]:a):ya.call(b,a)),b},inArray:function(a,b,c){return null==b?-1:va.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,t=a.length;d<c;d++)a[t++]=b[d];return a.length=t,a},grep:function(a,b,c){var d=[],t=0,f=a.length;for(c=!c;t<
f;t++)!b(a[t],t)!==c&&d.push(a[t]);return d},map:function(a,b,c){var d,t,f=0,g=[];if(k(a))for(d=a.length;f<d;f++)null!=(t=b(a[f],f,c))&&g.push(t);else for(f in a)null!=(t=b(a[f],f,c))&&g.push(t);return oa.apply([],g)},guid:1,proxy:function(a,b){var c,d,t;if("string"==typeof b&&(c=a[b],b=a,a=c),u.isFunction(a))return d=F.call(arguments,2),(t=function(){return a.apply(b||this,d.concat(F.call(arguments)))}).guid=a.guid=a.guid||u.guid++,t},now:Date.now,support:ua});"function"==typeof Symbol&&(u.fn[Symbol.iterator]=
fa[Symbol.iterator]);u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){Ib["[object "+b+"]"]=b.toLowerCase()});var jb=function(a){function b(a,b,c,d){var t,f,n,g,p=b&&b.ownerDocument,e=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==e&&9!==e&&11!==e)return c;if(!d&&((b?b.ownerDocument||b:Z)!==l&&y(b),b=b||l,S)){if(11!==e&&(g=ra.exec(a)))if(t=g[1])if(9===e){if(!(f=b.getElementById(t)))return c;if(f.id===t)return c.push(f),c}else{if(p&&(f=p.getElementById(t))&&
U(b,f)&&f.id===t)return c.push(f),c}else{if(g[2])return ca.apply(c,b.getElementsByTagName(a)),c;if((t=g[3])&&B.getElementsByClassName&&b.getElementsByClassName)return ca.apply(c,b.getElementsByClassName(t)),c}if(!(!B.qsa||I[a+" "]||N&&N.test(a))){if(1!==e){p=b;var h=a}else if("object"!==b.nodeName.toLowerCase()){(n=b.getAttribute("id"))?n=n.replace(ua,Qa):b.setAttribute("id",n=Y);for(t=(f=w(a)).length;t--;)f[t]="#"+n+" "+D(f[t]);h=f.join(",");p=mb.test(a)&&q(b.parentNode)||b}if(h)try{return ca.apply(c,
p.querySelectorAll(h)),c}catch(Dc){}finally{n===Y&&b.removeAttribute("id")}}}return H(a.replace(va,"$1"),b,c,d)}function c(){var a=[];return function uc(b,c){return a.push(b+" ")>C.cacheLength&&delete uc[a.shift()],uc[b+" "]=c}}function d(a){return a[Y]=!0,a}function t(a){var b=l.createElement("fieldset");try{return!!a(b)}catch(pc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function f(a,b){a=a.split("|");for(var c=a.length;c--;)C.attrHandle[a[c]]=b}function g(a,b){var c=b&&a,d=c&&
1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function p(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function e(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function h(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===
a||b.isDisabled!==!a&&Ib(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function m(a){return d(function(b){return b=+b,d(function(c,d){for(var t,f=a([],c.length,b),n=f.length;n--;)c[t=f[n]]&&(c[t]=!(d[t]=c[t]))})})}function q(a){return a&&void 0!==a.getElementsByTagName&&a}function z(){}function D(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function u(a,b,c){var d=b.dir,t=b.next,f=t||d,n=c&&"parentNode"===f,g=W++;return b.first?function(b,c,t){for(;b=b[d];)if(1===b.nodeType||
n)return a(b,c,t);return!1}:function(b,c,p){var e,h,m,q=[Aa,g];if(p)for(;b=b[d];){if((1===b.nodeType||n)&&a(b,c,p))return!0}else for(;b=b[d];)if(1===b.nodeType||n)if(h=(m=b[Y]||(b[Y]={}))[b.uniqueID]||(m[b.uniqueID]={}),t&&t===b.nodeName.toLowerCase())b=b[d]||b;else{if((e=h[f])&&e[0]===Aa&&e[1]===g)return q[2]=e[2];if(h[f]=q,q[2]=a(b,c,p))return!0}return!1}}function k(a){return 1<a.length?function(b,c,d){for(var t=a.length;t--;)if(!a[t](b,c,d))return!1;return!0}:a[0]}function J(a,b,c,d,t){for(var f,
n=[],g=0,p=a.length,e=null!=b;g<p;g++)(f=a[g])&&(c&&!c(f,d,t)||(n.push(f),e&&b.push(g)));return n}function P(a,c,t,f,n,g){return f&&!f[Y]&&(f=P(f)),n&&!n[Y]&&(n=P(n,g)),d(function(d,g,p,e){var h,m=[],q=[],z=g.length,D;if(!(D=d)){D=c||"*";for(var u=p.nodeType?[p]:p,k=[],P=0,C=u.length;P<C;P++)b(D,u[P],k);D=k}D=!a||!d&&c?D:J(D,m,a,p,e);u=t?n||(d?a:z||f)?[]:g:D;if(t&&t(D,u,p,e),f){var B=J(u,q);f(B,[],p,e);for(p=B.length;p--;)(h=B[p])&&(u[q[p]]=!(D[q[p]]=h))}if(d){if(n||a){if(n){B=[];for(p=u.length;p--;)(h=
u[p])&&B.push(D[p]=h);n(null,u=[],B,e)}for(p=u.length;p--;)(h=u[p])&&-1<(B=n?ya(d,h):m[p])&&(d[B]=!(g[B]=h))}}else u=J(u===g?u.splice(z,u.length):u),n?n(null,g,u,e):ca.apply(g,u)})}function r(a){var b,c,d=a.length,t=C.relative[a[0].type];var f=t||C.relative[" "];for(var n=t?1:0,g=u(function(a){return a===b},f,!0),p=u(function(a){return-1<ya(b,a)},f,!0),e=[function(a,c,d){a=!t&&(d||c!==K)||((b=c).nodeType?g(a,c,d):p(a,c,d));return b=null,a}];n<d;n++)if(f=C.relative[a[n].type])e=[u(k(e),f)];else{if((f=
C.filter[a[n].type].apply(null,a[n].matches))[Y]){for(c=++n;c<d&&!C.relative[a[c].type];c++);return P(1<n&&k(e),1<n&&D(a.slice(0,n-1).concat({value:" "===a[n-2].type?"*":""})).replace(va,"$1"),f,n<c&&r(a.slice(n,c)),c<d&&r(a=a.slice(c)),c<d&&D(a))}e.push(f)}return k(e)}var v,B,C,T,pa,w,L,H,K,G,O,y,l,A,S,N,E,R,U,Y="sizzle"+1*new Date,Z=a.document,Aa=0,W=0,ta=c(),X=c(),I=c(),V=function(a,b){return a===b&&(O=!0),0},ia={}.hasOwnProperty,Q=[],ma=Q.pop,Ra=Q.push,ca=Q.push,ba=Q.slice,ya=function(a,b){for(var c=
0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},x=/[\x20\t\r\n\f]+/g,va=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,ka=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,na=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,xa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Ea=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
aa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,fa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ea=/^(?:input|select|textarea|button)$/i,F=/^h\d$/i,zb=/^[^{]+\{\s*\[native \w/,
ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mb=/[+~]/,$a=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Ba=function(a,b,c){a="0x"+b-65536;return a!=a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},ua=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Qa=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},la=function(){y()},Ib=u(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",
next:"legend"});try{ca.apply(Q=ba.call(Z.childNodes),Z.childNodes),Q[Z.childNodes.length].nodeType}catch(vc){ca={apply:Q.length?function(a,b){Ra.apply(a,ba.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}for(v in B=b.support={},pa=b.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName},y=b.setDocument=function(a){var b,c;a=a?a.ownerDocument||a:Z;return a!==l&&9===a.nodeType&&a.documentElement?(A=(l=a).documentElement,S=!pa(l),Z!==
l&&(c=l.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",la,!1):c.attachEvent&&c.attachEvent("onunload",la)),B.attributes=t(function(a){return a.className="i",!a.getAttribute("className")}),B.getElementsByTagName=t(function(a){return a.appendChild(l.createComment("")),!a.getElementsByTagName("*").length}),B.getElementsByClassName=zb.test(l.getElementsByClassName),B.getById=t(function(a){return A.appendChild(a).id=Y,!l.getElementsByName||!l.getElementsByName(Y).length}),B.getById?
(C.filter.ID=function(a){var b=a.replace($a,Ba);return function(a){return a.getAttribute("id")===b}},C.find.ID=function(a,b){if(void 0!==b.getElementById&&S)return(a=b.getElementById(a))?[a]:[]}):(C.filter.ID=function(a){var b=a.replace($a,Ba);return function(a){return(a=void 0!==a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},C.find.ID=function(a,b){if(void 0!==b.getElementById&&S){var c,d=b.getElementById(a);if(d){if((c=d.getAttributeNode("id"))&&c.value===a)return[d];var t=b.getElementsByName(a);
for(b=0;d=t[b++];)if((c=d.getAttributeNode("id"))&&c.value===a)return[d]}return[]}}),C.find.TAG=B.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):B.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b},C.find.CLASS=B.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&S)return b.getElementsByClassName(a)},E=[],N=[],(B.qsa=
zb.test(l.querySelectorAll))&&(t(function(a){A.appendChild(a).innerHTML="<a id='"+Y+"'></a><select id='"+Y+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||N.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+
Y+"-]").length||N.push("~=");a.querySelectorAll(":checked").length||N.push(":checked");a.querySelectorAll("a#"+Y+"+*").length||N.push(".#.+[+~]")}),t(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=l.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&N.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&N.push(":enabled",
":disabled");A.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled");a.querySelectorAll("*,:x");N.push(",.*:")})),(B.matchesSelector=zb.test(R=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&t(function(a){B.disconnectedMatch=R.call(a,"*");R.call(a,"[s!='']:x");E.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
N=N.length&&new RegExp(N.join("|")),E=E.length&&new RegExp(E.join("|")),b=zb.test(A.compareDocumentPosition),U=b||zb.test(A.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!(!b||1!==b.nodeType||!(c.contains?c.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=b?function(a,b){if(a===b)return O=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
return c||(1&(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!B.sortDetached&&b.compareDocumentPosition(a)===c?a===l||a.ownerDocument===Z&&U(Z,a)?-1:b===l||b.ownerDocument===Z&&U(Z,b)?1:G?ya(G,a)-ya(G,b):0:4&c?-1:1)}:function(a,b){if(a===b)return O=!0,0;var c=0,d=a.parentNode,t=b.parentNode,f=[a],n=[b];if(!d||!t)return a===l?-1:b===l?1:d?-1:t?1:G?ya(G,a)-ya(G,b):0;if(d===t)return g(a,b);for(;a=a.parentNode;)f.unshift(a);for(a=b;a=a.parentNode;)n.unshift(a);for(;f[c]===
n[c];)c++;return c?g(f[c],n[c]):f[c]===Z?-1:n[c]===Z?1:0},l):l},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==l&&y(a),c=c.replace(xa,"='$1']"),!(!B.matchesSelector||!S||I[c+" "]||E&&E.test(c)||N&&N.test(c)))try{var d=R.call(a,c);if(d||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(Fa){}return 0<b(c,l,null,[a]).length},b.contains=function(a,b){return(a.ownerDocument||a)!==l&&y(a),U(a,b)},b.attr=function(a,b){(a.ownerDocument||
a)!==l&&y(a);var c=C.attrHandle[b.toLowerCase()];c=c&&ia.call(C.attrHandle,b.toLowerCase())?c(a,b,!S):void 0;return void 0!==c?c:B.attributes||!S?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null},b.escape=function(a){return(a+"").replace(ua,Qa)},b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);},b.uniqueSort=function(a){var b,c=[],d=0,t=0;if(O=!B.detectDuplicates,G=!B.sortStable&&a.slice(0),a.sort(V),O){for(;b=a[t++];)b===a[t]&&(d=c.push(t));for(;d--;)a.splice(c[d],
1)}return G=null,a},T=b.getText=function(a){var b,c="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=T(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d++];)c+=T(b);return c},(C=b.selectors={cacheLength:50,createPseudo:d,match:fa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace($a,Ba),a[3]=(a[3]||a[4]||a[5]||"").replace($a,Ba),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return fa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&Ea.test(c)&&(b=w(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,
b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace($a,Ba).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ta[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ta(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,d){return function(t){t=b.attr(t,a);return null==
t?"!="===c:!c||(t+="","="===c?t===d:"!="===c?t!==d:"^="===c?d&&0===t.indexOf(d):"*="===c?d&&-1<t.indexOf(d):"$="===c?d&&t.slice(-d.length)===d:"~="===c?-1<(" "+t.replace(x," ")+" ").indexOf(d):"|="===c&&(t===d||t.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,t){var f="nth"!==a.slice(0,3),n="last"!==a.slice(-4),g="of-type"===b;return 1===d&&0===t?function(a){return!!a.parentNode}:function(b,c,p){var e,h,m,q;c=f!==n?"nextSibling":"previousSibling";var z=b.parentNode,D=g&&b.nodeName.toLowerCase(),
u=!p&&!g,k=!1;if(z){if(f){for(;c;){for(m=b;m=m[c];)if(g?m.nodeName.toLowerCase()===D:1===m.nodeType)return!1;var J=c="only"===a&&!J&&"nextSibling"}return!0}if(J=[n?z.firstChild:z.lastChild],n&&u)for(k=(q=(e=(p=(h=(m=z)[Y]||(m[Y]={}))[m.uniqueID]||(h[m.uniqueID]={}))[a]||[])[0]===Aa&&e[1])&&e[2],m=q&&z.childNodes[q];m=++q&&m&&m[c]||(k=q=0)||J.pop();){if(1===m.nodeType&&++k&&m===b){p[a]=[Aa,q,k];break}}else if(u&&(k=q=(e=((h=(m=b)[Y]||(m[Y]={}))[m.uniqueID]||(h[m.uniqueID]={}))[a]||[])[0]===Aa&&e[1]),
!1===k)for(;(m=++q&&m&&m[c]||(k=q=0)||J.pop())&&((g?m.nodeName.toLowerCase()!==D:1!==m.nodeType)||!++k||(u&&((p=(h=m[Y]||(m[Y]={}))[m.uniqueID]||(h[m.uniqueID]={}))[a]=[Aa,k]),m!==b)););return(k-=t)===d||0==k%d&&0<=k/d}}},PSEUDO:function(a,c){var t,f=C.pseudos[a]||C.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[Y]?f(c):1<f.length?(t=[a,a,"",c],C.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,t=f(a,c),n=t.length;n--;)a[d=ya(a,t[n])]=!(b[d]=t[n])}):function(a){return f(a,
0,t)}):f}},pseudos:{not:d(function(a){var b=[],c=[],t=L(a.replace(va,"$1"));return t[Y]?d(function(a,b,c,d){var f;c=t(a,null,d,[]);for(d=a.length;d--;)(f=c[d])&&(a[d]=!(b[d]=f))}):function(a,d,f){return b[0]=a,t(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){return a=a.replace($a,Ba),function(b){return-1<(b.textContent||b.innerText||T(b)).indexOf(a)}}),lang:d(function(a){return aa.test(a||"")||b.error("unsupported lang: "+a),
a=a.replace($a,Ba).toLowerCase(),function(b){var c;do if(c=S?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===A},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!C.pseudos.empty(a)},header:function(a){return F.test(a.nodeName)},input:function(a){return ea.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===
a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,c){return[0>c?c+b:c]}),even:m(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:m(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:m(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:m(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}}).pseudos.nth=C.pseudos.eq,{radio:!0,
checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[v]=p(v);for(v in{submit:!0,reset:!0})C.pseudos[v]=e(v);return z.prototype=C.filters=C.pseudos,C.setFilters=new z,w=b.tokenize=function(a,c){var d,t,f,n,g,p;if(g=X[a+" "])return c?0:g.slice(0);g=a;var e=[];for(p=C.preFilter;g;){for(n in d&&!(t=ka.exec(g))||(t&&(g=g.slice(t[0].length)||g),e.push(f=[])),d=!1,(t=na.exec(g))&&(d=t.shift(),f.push({value:d,type:t[0].replace(va," ")}),g=g.slice(d.length)),C.filter)!(t=fa[n].exec(g))||p[n]&&!(t=p[n](t))||
(d=t.shift(),f.push({value:d,type:n,matches:t}),g=g.slice(d.length));if(!d)break}return c?g.length:g?b.error(a):X(a,e).slice(0)},L=b.compile=function(a,c){var t,f=[],n=[],g=I[a+" "];if(!g){c||(c=w(a));for(t=c.length;t--;)(g=r(c[t]))[Y]?f.push(g):n.push(g);(g=I(a,function(a,c){var t=0<c.length,f=0<a.length,n=function(d,n,g,p,e){var h,m,q=0,z="0",D=d&&[],u=[],k=K,P=d||f&&C.find.TAG("*",e),B=Aa+=null==k?1:Math.random()||.1,r=P.length;for(e&&(K=n===l||n||e);z!==r&&null!=(h=P[z]);z++){if(f&&h){var v=0;
for(n||h.ownerDocument===l||(y(h),g=!S);m=a[v++];)if(m(h,n||l,g)){p.push(h);break}e&&(Aa=B)}t&&((h=!m&&h)&&q--,d&&D.push(h))}if(q+=z,t&&z!==q){for(v=0;m=c[v++];)m(D,u,n,g);if(d){if(0<q)for(;z--;)D[z]||u[z]||(u[z]=ma.call(p));u=J(u)}ca.apply(p,u);e&&!d&&0<u.length&&1<q+c.length&&b.uniqueSort(p)}return e&&(Aa=B,K=k),D};return t?d(n):n}(n,f))).selector=a}return g},H=b.select=function(a,b,c,d){var t,f,n,g,p,e="function"==typeof a&&a,h=!d&&w(a=e.selector||a);if(c=c||[],1===h.length){if(2<(f=h[0]=h[0].slice(0)).length&&
"ID"===(n=f[0]).type&&9===b.nodeType&&S&&C.relative[f[1].type]){if(!(b=(C.find.ID(n.matches[0].replace($a,Ba),b)||[])[0]))return c;e&&(b=b.parentNode);a=a.slice(f.shift().value.length)}for(t=fa.needsContext.test(a)?0:f.length;t--&&(n=f[t],!C.relative[g=n.type]);)if((p=C.find[g])&&(d=p(n.matches[0].replace($a,Ba),mb.test(f[0].type)&&q(b.parentNode)||b))){if(f.splice(t,1),!(a=d.length&&D(f)))return ca.apply(c,d),c;break}}return(e||L(a,h))(d,b,!S,c,!b||mb.test(a)&&q(b.parentNode)||b),c},B.sortStable=
Y.split("").sort(V).join("")===Y,B.detectDuplicates=!!O,y(),B.sortDetached=t(function(a){return 1&a.compareDocumentPosition(l.createElement("fieldset"))}),t(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),B.attributes&&t(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",
function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),t(function(a){return null==a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);u.find=jb;u.expr=jb.selectors;u.expr[":"]=u.expr.pseudos;u.uniqueSort=u.unique=jb.uniqueSort;u.text=jb.getText;u.isXMLDoc=
jb.isXML;u.contains=jb.contains;u.escapeSelector=jb.escape;var y=function(a,b,c){for(var d=[],t=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(t&&u(a).is(c))break;d.push(a)}return d},fc=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},cb=u.expr.match.needsContext,Ca=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Gb=/^.[^:#\[\.,]*$/;u.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?u.find.matchesSelector(d,
a)?[d]:[]:u.find.matches(a,u.grep(b,function(a){return 1===a.nodeType}))};u.fn.extend({find:function(a){var b,c=this.length,d=this;if("string"!=typeof a)return this.pushStack(u(a).filter(function(){for(b=0;b<c;b++)if(u.contains(d[b],this))return!0}));var t=this.pushStack([]);for(b=0;b<c;b++)u.find(a,d[b],t);return 1<c?u.uniqueSort(t):t},filter:function(a){return this.pushStack(r(this,a||[],!1))},not:function(a){return this.pushStack(r(this,a||[],!0))},is:function(a){return!!r(this,"string"==typeof a&&
cb.test(a)?u(a):a||[],!1).length}});var gb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(u.fn.init=function(a,b,c){var d,t;if(!a)return this;if(c=c||za,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:gb.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof u?b[0]:b,u.merge(this,u.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ea,!0)),Ca.test(d[1])&&u.isPlainObject(b))for(d in b)u.isFunction(this[d])?this[d](b[d]):
this.attr(d,b[d]);return this}return(t=ea.getElementById(d[2]))&&(this[0]=t,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):u.isFunction(a)?void 0!==c.ready?c.ready(a):a(u):u.makeArray(a,this)}).prototype=u.fn;var za=u(ea);var Ia=/^(?:parents|prev(?:Until|All))/,Nb={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(a){var b=u(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(u.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=
0,t=this.length,f=[],g="string"!=typeof a&&u(a);if(!cb.test(a))for(;d<t;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?-1<g.index(c):1===c.nodeType&&u.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(1<f.length?u.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?va.call(u(a),this[0]):va.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(a,b))))},
addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});u.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return y(a,"parentNode")},parentsUntil:function(a,b,c){return y(a,"parentNode",c)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return y(a,"nextSibling")},prevAll:function(a){return y(a,"previousSibling")},nextUntil:function(a,b,c){return y(a,"nextSibling",
c)},prevUntil:function(a,b,c){return y(a,"previousSibling",c)},siblings:function(a){return fc((a.parentNode||{}).firstChild,a)},children:function(a){return fc(a.firstChild)},contents:function(a){return H(a,"iframe")?a.contentDocument:(H(a,"template")&&(a=a.content||a),u.merge([],a.childNodes))}},function(a,b){u.fn[a]=function(c,d){var t=u.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(t=u.filter(d,t)),1<this.length&&(Nb[a]||u.uniqueSort(t),Ia.test(a)&&t.reverse()),this.pushStack(t)}});
var Oa=/[^\x20\t\r\n\f]+/g;u.Callbacks=function(a){a="string"==typeof a?function(a){var b={};return u.each(a.match(Oa)||[],function(a,c){b[c]=!0}),b}(a):u.extend({},a);var b,c,d,t,f=[],g=[],p=-1,e=function(){t=t||a.once;for(d=b=!0;g.length;p=-1)for(c=g.shift();++p<f.length;)!1===f[p].apply(c[0],c[1])&&a.stopOnFalse&&(p=f.length,c=!1);a.memory||(c=!1);b=!1;t&&(f=c?[]:"")},h={add:function(){return f&&(c&&!b&&(p=f.length-1,g.push(c)),function xc(b){u.each(b,function(b,c){u.isFunction(c)?a.unique&&h.has(c)||
f.push(c):c&&c.length&&"string"!==u.type(c)&&xc(c)})}(arguments),c&&!b&&e()),this},remove:function(){return u.each(arguments,function(a,b){for(var c;-1<(c=u.inArray(b,f,c));)f.splice(c,1),c<=p&&p--}),this},has:function(a){return a?-1<u.inArray(a,f):0<f.length},empty:function(){return f&&(f=[]),this},disable:function(){return t=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return t=g=[],c||b||(f=c=""),this},locked:function(){return!!t},fireWith:function(a,c){return t||(c=[a,(c=c||
[]).slice?c.slice():c],g.push(c),b||e()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!d}};return h};u.extend({Deferred:function(b){var c=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],d="pending",t={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),
this},catch:function(a){return t.then(null,a)},pipe:function(){var a=arguments;return u.Deferred(function(b){u.each(c,function(c,d){var t=u.isFunction(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=t&&t.apply(this,arguments);a&&u.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,t?[a]:arguments)})});a=null}).promise()},then:function(b,d,t){function f(b,c,d,t){return function(){var n=this,p=arguments,e=function(){var a;if(!(b<g)){if((a=d.apply(n,p))===
c.promise())throw new TypeError("Thenable self-resolution");var e=a&&("object"==typeof a||"function"==typeof a)&&a.then;u.isFunction(e)?t?e.call(a,f(g,c,v,t),f(g,c,w,t)):(g++,e.call(a,f(g,c,v,t),f(g,c,w,t),f(g,c,v,c.notifyWith))):(d!==v&&(n=void 0,p=[a]),(t||c.resolveWith)(n,p))}},h=t?e:function(){try{e()}catch(tc){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(tc,h.stackTrace),b+1>=g&&(d!==w&&(n=void 0,p=[tc]),c.rejectWith(n,p))}};b?h():(u.Deferred.getStackHook&&(h.stackTrace=u.Deferred.getStackHook()),
a.setTimeout(h))}}var g=0;return u.Deferred(function(a){c[0][3].add(f(0,a,u.isFunction(t)?t:v,a.notifyWith));c[1][3].add(f(0,a,u.isFunction(b)?b:v));c[2][3].add(f(0,a,u.isFunction(d)?d:w))}).promise()},promise:function(a){return null!=a?u.extend(a,t):t}},f={};return u.each(c,function(a,b){var g=b[2],n=b[5];t[b[1]]=g.add;n&&g.add(function(){d=n},c[3-a][2].disable,c[0][2].lock);g.add(b[3].fire);f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this};f[b[0]+"With"]=g.fireWith}),
t.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),t=F.call(arguments),f=u.Deferred(),g=function(a){return function(c){d[a]=this;t[a]=1<arguments.length?F.call(arguments):c;--b||f.resolveWith(d,t)}};if(1>=b&&(l(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||u.isFunction(t[c]&&t[c].then)))return f.then();for(;c--;)l(t[c],g(c),f.reject);return f.promise()}});var Ub=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(b,
c){a.console&&a.console.warn&&b&&Ub.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)};u.readyException=function(b){a.setTimeout(function(){throw b;})};var Ya=u.Deferred();u.fn.ready=function(a){return Ya.then(a).catch(function(a){u.readyException(a)}),this};u.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--u.readyWait:u.isReady)||(u.isReady=!0,!0!==a&&0<--u.readyWait||Ya.resolveWith(ea,[u]))}});u.ready.then=Ya.then;"complete"===ea.readyState||"loading"!==
ea.readyState&&!ea.documentElement.doScroll?a.setTimeout(u.ready):(ea.addEventListener("DOMContentLoaded",A),a.addEventListener("load",A));var Ka=function(a,b,c,d,f,g,p){var t=0,n=a.length,e=null==c;if("object"===u.type(c))for(t in f=!0,c)Ka(a,b,t,c[t],!0,g,p);else if(void 0!==d&&(f=!0,u.isFunction(d)||(p=!0),e&&(p?(b.call(a,d),b=null):(e=b,b=function(a,b,c){return e.call(u(a),c)})),b))for(;t<n;t++)b(a[t],c,p?d:d.call(a[t],t,b(a[t],c)));return f?a:e?b.call(a):n?b(a[0],c):g},Ja=function(a){return 1===
a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1;q.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ja(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d;a=this.cache(a);if("string"==typeof b)a[u.camelCase(b)]=c;else for(d in b)a[u.camelCase(d)]=b[d];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][u.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&
"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c=a[this.expando];if(void 0!==c){if(void 0!==b){var d=(b=Array.isArray(b)?b.map(u.camelCase):(b=u.camelCase(b))in c?[b]:b.match(Oa)||[]).length;for(;d--;)delete c[b[d]]}(void 0===b||u.isEmptyObject(c))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!u.isEmptyObject(a)}};var ja=new q,pa=new q,Aa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
Ra=/[A-Z]/g;u.extend({hasData:function(a){return pa.hasData(a)||ja.hasData(a)},data:function(a,b,c){return pa.access(a,b,c)},removeData:function(a,b){pa.remove(a,b)},_data:function(a,b,c){return ja.access(a,b,c)},_removeData:function(a,b){ja.remove(a,b)}});u.fn.extend({data:function(a,b){var c,f,t,g=this[0],p=g&&g.attributes;if(void 0===a){if(this.length&&(t=pa.get(g),1===g.nodeType&&!ja.get(g,"hasDataAttrs"))){for(c=p.length;c--;)p[c]&&0===(f=p[c].name).indexOf("data-")&&(f=u.camelCase(f.slice(5)),
d(g,f,t[f]));ja.set(g,"hasDataAttrs",!0)}return t}return"object"==typeof a?this.each(function(){pa.set(this,a)}):Ka(this,function(b){var c;if(g&&void 0===b)return void 0!==(c=pa.get(g,a))?c:void 0!==(c=d(g,a))?c:void 0;this.each(function(){pa.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){pa.remove(this,a)})}});u.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=ja.get(a,b),c&&(!d||Array.isArray(c)?d=ja.access(a,b,u.makeArray(c)):
d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=u.queue(a,b),d=c.length,f=c.shift(),t=u._queueHooks(a,b);"inprogress"===f&&(f=c.shift(),d--);f&&("fx"===b&&c.unshift("inprogress"),delete t.stop,f.call(a,function(){u.dequeue(a,b)},t));!d&&t&&t.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ja.get(a,c)||ja.access(a,c,{empty:u.Callbacks("once memory").add(function(){ja.remove(a,[b+"queue",c])})})}});u.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a=
"fx",c--),arguments.length<c?u.queue(this[0],a):void 0===b?this:this.each(function(){var c=u.queue(this,a,b);u._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&u.dequeue(this,a)})},dequeue:function(a){return this.each(function(){u.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,f=u.Deferred(),t=this,g=this.length,p=function(){--d||f.resolveWith(t,[t])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";g--;)(c=ja.get(t[g],a+"queueHooks"))&&
c.empty&&(d++,c.empty.add(p));return p(),f.promise(b)}});var ma=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+ma+")([a-z%]*)$","i"),mb=["Top","Right","Bottom","Left"],$a=function(a,b){return"none"===(a=b||a).style.display||""===a.style.display&&u.contains(a.ownerDocument,a)&&"none"===u.css(a,"display")},$b=function(a,b,c,d){var f,t={};for(f in b)t[f]=a.style[f],a.style[f]=b[f];for(f in c=c.apply(a,d||[]),b)a.style[f]=t[f];return c},Ba={};u.fn.extend({show:function(){return C(this,
!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){$a(this)?u(this).show():u(this).hide()})}});var Qa=/^(?:checkbox|radio)$/i,ub=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,nb=/^$|\/(?:java|ecma)script/i,Za={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:[0,"",""]};Za.optgroup=Za.option;Za.tbody=Za.tfoot=Za.colgroup=Za.caption=Za.thead;Za.th=Za.td;var Ma,Ob=/<|&#?\w+;/;var ab=ea.createDocumentFragment().appendChild(ea.createElement("div"));(Ma=ea.createElement("input")).setAttribute("type","radio");Ma.setAttribute("checked","checked");Ma.setAttribute("name","t");ab.appendChild(Ma);ua.checkClone=ab.cloneNode(!0).cloneNode(!0).lastChild.checked;ab.innerHTML="<textarea>x</textarea>";ua.noCloneChecked=!!ab.cloneNode(!0).lastChild.defaultValue;
var hb=ea.documentElement,bb=/^key/,Sa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,eb=/^([^.]*)(?:\.(.+)|)/;u.event={global:{},add:function(a,b,c,d,f){var t,g,n,p,e,h,m,q,z;if(e=ja.get(a))for(c.handler&&(c=(t=c).handler,f=t.selector),f&&u.find.matchesSelector(hb,f),c.guid||(c.guid=u.guid++),(p=e.events)||(p=e.events={}),(g=e.handle)||(g=e.handle=function(b){return void 0!==u&&u.event.triggered!==b.type?u.event.dispatch.apply(a,arguments):void 0}),e=(b=(b||"").match(Oa)||[""]).length;e--;){var D=
z=(n=eb.exec(b[e])||[])[1];n=(n[2]||"").split(".").sort();D&&(m=u.event.special[D]||{},D=(f?m.delegateType:m.bindType)||D,m=u.event.special[D]||{},h=u.extend({type:D,origType:z,data:d,handler:c,guid:c.guid,selector:f,needsContext:f&&u.expr.match.needsContext.test(f),namespace:n.join(".")},t),(q=p[D])||((q=p[D]=[]).delegateCount=0,m.setup&&!1!==m.setup.call(a,d,n,g)||a.addEventListener&&a.addEventListener(D,g)),m.add&&(m.add.call(a,h),h.handler.guid||(h.handler.guid=c.guid)),f?q.splice(q.delegateCount++,
0,h):q.push(h),u.event.global[D]=!0)}},remove:function(a,b,c,d,f){var t,g,n,p,e,h,m,q,z=ja.hasData(a)&&ja.get(a);if(z&&(p=z.events)){for(e=(b=(b||"").match(Oa)||[""]).length;e--;)if(h=q=(n=eb.exec(b[e])||[])[1],m=(n[2]||"").split(".").sort(),h){var D=u.event.special[h]||{};var k=p[h=(d?D.delegateType:D.bindType)||h]||[];n=n[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=t=k.length;t--;){var J=k[t];!f&&q!==J.origType||c&&c.guid!==J.guid||n&&!n.test(J.namespace)||d&&d!==J.selector&&
("**"!==d||!J.selector)||(k.splice(t,1),J.selector&&k.delegateCount--,D.remove&&D.remove.call(a,J))}g&&!k.length&&(D.teardown&&!1!==D.teardown.call(a,m,z.handle)||u.removeEvent(a,h,z.handle),delete p[h])}else for(h in p)u.event.remove(a,h+b[e],c,d,!0);u.isEmptyObject(p)&&ja.remove(a,"handle events")}},dispatch:function(a){var b,c,d,f,t=u.event.fix(a),g=Array(arguments.length);var p=(ja.get(this,"events")||{})[t.type]||[];var e=u.event.special[t.type]||{};g[0]=t;for(b=1;b<arguments.length;b++)g[b]=
arguments[b];if(t.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,t)){var h=u.event.handlers.call(this,t,p);for(b=0;(d=h[b++])&&!t.isPropagationStopped();)for(t.currentTarget=d.elem,p=0;(f=d.handlers[p++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,void 0!==(c=((u.event.special[f.origType]||{}).handle||f.handler).apply(d.elem,g))&&!1===(t.result=c)&&(t.preventDefault(),t.stopPropagation()));return e.postDispatch&&
e.postDispatch.call(this,t),t.result}},handlers:function(a,b){var c,d,f,t=[],g=b.delegateCount,p=a.target;if(g&&p.nodeType&&!("click"===a.type&&1<=a.button))for(;p!==this;p=p.parentNode||this)if(1===p.nodeType&&("click"!==a.type||!0!==p.disabled)){var e=[];var h={};for(c=0;c<g;c++)void 0===h[f=(d=b[c]).selector+" "]&&(h[f]=d.needsContext?-1<u(f,this).index(p):u.find(f,this,null,[p]).length),h[f]&&e.push(d);e.length&&t.push({elem:p,handlers:e})}return p=this,g<b.length&&t.push({elem:p,handlers:b.slice(g)}),
t},addProp:function(a,b){Object.defineProperty(u.Event.prototype,a,{enumerable:!0,configurable:!0,get:u.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[u.expando]?a:new u.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==z()&&this.focus)return this.focus(),!1},
delegateType:"focusin"},blur:{trigger:function(){if(this===z()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&H(this,"input"))return this.click(),!1},_default:function(a){return H(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};u.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};u.Event=function(a,b){if(!(this instanceof
u.Event))return new u.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?B:G,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a;b&&u.extend(this,b);this.timeStamp=a&&a.timeStamp||u.now();this[u.expando]=!0};u.Event.prototype={constructor:u.Event,isDefaultPrevented:G,isPropagationStopped:G,isImmediatePropagationStopped:G,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=B;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=B;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=B;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&bb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Sa.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},u.event.addProp);u.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){u.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,f=a.handleObj;return d&&(d===this||u.contains(this,d))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}});u.fn.extend({on:function(a,b,c,d){return m(this,a,b,c,d)},one:function(a,b,c,d){return m(this,a,b,c,d,1)},off:function(a,b,c){var d,f;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,u(a.delegateTarget).off(d.namespace?
d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=G),this.each(function(){u.event.remove(this,a,c,b)})}});var Zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ac=/<script|<style|<link/i,lc=/checked\s*(?:[^=]|=\s*.checked.)/i,Vb=/^true\/(.*)/,bc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;u.extend({htmlPrefilter:function(a){return a.replace(Zb,
"<$1></$2>")},clone:function(a,b,c){var d,f,t=a.cloneNode(!0),p=u.contains(a.ownerDocument,a);if(!(ua.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||u.isXMLDoc(a))){var e=g(t);var h=0;for(d=(f=g(a)).length;h<d;h++){var m=f[h],q=e[h],D=q.nodeName.toLowerCase();"input"===D&&Qa.test(m.type)?q.checked=m.checked:"input"!==D&&"textarea"!==D||(q.defaultValue=m.defaultValue)}}if(b)if(c)for(f=f||g(a),e=e||g(t),h=0,d=f.length;h<d;h++)Z(f[h],e[h]);else Z(a,t);return 0<(e=g(t,"script")).length&&L(e,!p&&g(a,
"script")),t},cleanData:function(a){for(var b,c,d,f=u.event.special,g=0;void 0!==(c=a[g]);g++)if(Ja(c)){if(b=c[ja.expando]){if(b.events)for(d in b.events)f[d]?u.event.remove(c,d):u.removeEvent(c,d,b.handle);c[ja.expando]=void 0}c[pa.expando]&&(c[pa.expando]=void 0)}}});u.fn.extend({detach:function(a){return Q(this,a,!0)},remove:function(a){return Q(this,a)},text:function(a){return Ka(this,function(a){return void 0===a?u.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return R(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||V(this,a).appendChild(a)})},prepend:function(){return R(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=V(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return R(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return R(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(u.cleanData(g(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return u.clone(this,a,b)})},html:function(a){return Ka(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!ac.test(a)&&!Za[(ub.exec(a)||["",
""])[1].toLowerCase()]){a=u.htmlPrefilter(a);try{for(;c<d;c++)1===(b=this[c]||{}).nodeType&&(u.cleanData(g(b,!1)),b.innerHTML=a);b=0}catch(M){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return R(this,arguments,function(b){var c=this.parentNode;0>u.inArray(this,a)&&(u.cleanData(g(this)),c&&c.replaceChild(b,this))},a)}});u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){u.fn[a]=function(a){for(var c=
[],d=u(a),f=d.length-1,g=0;g<=f;g++)a=g===f?this:this.clone(!0),u(d[g])[b](a),ya.apply(c,a.get());return this.pushStack(c)}});var pb=/^margin/,Kb=new RegExp("^("+ma+")(?!px)[a-z%]+$","i"),Ta=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(e){e.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";e.innerHTML="";hb.appendChild(p);var b=a.getComputedStyle(e);
c="1%"!==b.top;g="2px"===b.marginLeft;d="4px"===b.width;e.style.marginRight="50%";f="4px"===b.marginRight;hb.removeChild(p);e=null}}var c,d,f,g,p=ea.createElement("div"),e=ea.createElement("div");e.style&&(e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",ua.clearCloneStyle="content-box"===e.style.backgroundClip,p.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",p.appendChild(e),u.extend(ua,{pixelPosition:function(){return b(),
c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),f},reliableMarginLeft:function(){return b(),g}}))}();var tb=/^(none|table(?!-c[ea]).+)/,kb=/^--/,wa={position:"absolute",visibility:"hidden",display:"block"},ec={letterSpacing:"0",fontWeight:"400"},Na=["Webkit","Moz","ms"],Sb=ea.createElement("div").style;u.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=I(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,
flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,t,p,e=u.camelCase(b),h=kb.test(b),m=a.style;if(h||(b=ba(e)),p=u.cssHooks[b]||u.cssHooks[e],void 0===c)return p&&"get"in p&&void 0!==(g=p.get(a,!1,d))?g:m[b];"string"===(t=typeof c)&&(g=Ea.exec(c))&&g[1]&&(c=f(a,b,g),t="number");null!=c&&c==c&&("number"===t&&(c+=g&&g[3]||(u.cssNumber[e]?
"":"px")),ua.clearCloneStyle||""!==c||0!==b.indexOf("background")||(m[b]="inherit"),p&&"set"in p&&void 0===(c=p.set(a,c,d))||(h?m.setProperty(b,c):m[b]=c))}},css:function(a,b,c,d){var f,g,t,p=u.camelCase(b);return kb.test(b)||(b=ba(p)),(t=u.cssHooks[b]||u.cssHooks[p])&&"get"in t&&(f=t.get(a,!0,c)),void 0===f&&(f=I(a,b,d)),"normal"===f&&b in ec&&(f=ec[b]),""===c||c?(g=parseFloat(f),!0===c||isFinite(g)?g||0:f):f}});u.each(["height","width"],function(a,b){u.cssHooks[b]={get:function(a,c,d){if(c)return!tb.test(u.css(a,
"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?S(a,b,d):$b(a,wa,function(){return S(a,b,d)})},set:function(a,c,d){var f,g=d&&Ta(a);d=d&&T(a,b,d,"border-box"===u.css(a,"boxSizing",!1,g),g);return d&&(f=Ea.exec(c))&&"px"!==(f[3]||"px")&&(a.style[b]=c,c=u.css(a,b)),P(0,c,d)}}});u.cssHooks.marginLeft=ca(ua.reliableMarginLeft,function(a,b){if(b)return(parseFloat(I(a,"marginLeft"))||a.getBoundingClientRect().left-$b(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+
"px"});u.each({margin:"",padding:"",border:"Width"},function(a,b){u.cssHooks[a+b]={expand:function(c){var d=0,f={};for(c="string"==typeof c?c.split(" "):[c];4>d;d++)f[a+mb[d]+b]=c[d]||c[d-2]||c[0];return f}};pb.test(a)||(u.cssHooks[a+b].set=P)});u.fn.extend({css:function(a,b){return Ka(this,function(a,b,c){var d,f={},g=0;if(Array.isArray(b)){c=Ta(a);for(d=b.length;g<d;g++)f[b[g]]=u.css(a,b[g],!1,c);return f}return void 0!==c?u.style(a,b,c):u.css(a,b)},a,b,1<arguments.length)}});u.Tween=J;J.prototype=
{constructor:J,init:function(a,b,c,d,f,g){this.elem=a;this.prop=c;this.easing=f||u.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=g||(u.cssNumber[c]?"":"px")},cur:function(){var a=J.propHooks[this.prop];return a&&a.get?a.get(this):J.propHooks._default.get(this)},run:function(a){var b,c=J.propHooks[this.prop];return this.options.duration?this.pos=b=u.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*
b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):J.propHooks._default.set(this),this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=u.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){u.fx.step[a.prop]?u.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[u.cssProps[a.prop]]&&!u.cssHooks[a.prop]?a.elem[a.prop]=
a.now:u.style(a.elem,a.prop,a.now+a.unit)}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};u.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};u.fx=J.prototype.init;u.fx.step={};var Ab,Wa,mc=/^(?:toggle|show|hide)$/,Tb=/queueHooks$/;u.Animation=u.extend(ta,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return f(c.elem,a,Ea.exec(b),c),c}]},tweener:function(a,
b){u.isFunction(a)?(b=a,a=["*"]):a=a.match(Oa);for(var c,d=0,f=a.length;d<f;d++)c=a[d],ta.tweeners[c]=ta.tweeners[c]||[],ta.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,f,g,p,t,e,h,m="width"in b||"height"in b,q=this,D={},z=a.style,k=a.nodeType&&$a(a),J=ja.get(a,"fxshow");for(d in c.queue||(null==(p=u._queueHooks(a,"fx")).unqueued&&(p.unqueued=0,t=p.empty.fire,p.empty.fire=function(){p.unqueued||t()}),p.unqueued++,q.always(function(){q.always(function(){p.unqueued--;u.queue(a,"fx").length||
p.empty.fire()})})),b)if(f=b[d],mc.test(f)){if(delete b[d],g=g||"toggle"===f,f===(k?"hide":"show")){if("show"!==f||!J||void 0===J[d])continue;k=!0}D[d]=J&&J[d]||u.style(a,d)}if((b=!u.isEmptyObject(b))||!u.isEmptyObject(D))for(d in m&&1===a.nodeType&&(c.overflow=[z.overflow,z.overflowX,z.overflowY],null==(e=J&&J.display)&&(e=ja.get(a,"display")),"none"===(h=u.css(a,"display"))&&(e?h=e:(C([a],!0),e=a.style.display||e,h=u.css(a,"display"),C([a]))),("inline"===h||"inline-block"===h&&null!=e)&&"none"===
u.css(a,"float")&&(b||(q.done(function(){z.display=e}),null==e&&(h=z.display,e="none"===h?"":h)),z.display="inline-block")),c.overflow&&(z.overflow="hidden",q.always(function(){z.overflow=c.overflow[0];z.overflowX=c.overflow[1];z.overflowY=c.overflow[2]})),b=!1,D)b||(J?"hidden"in J&&(k=J.hidden):J=ja.access(a,"fxshow",{display:e}),g&&(J.hidden=!k),k&&C([a],!0),q.done(function(){for(d in k||C([a]),ja.remove(a,"fxshow"),D)u.style(a,d,D[d])})),b=N(k?J[d]:0,d,q),d in J||(J[d]=b.start,k&&(b.end=b.start,
b.start=0))}],prefilter:function(a,b){b?ta.prefilters.unshift(a):ta.prefilters.push(a)}});u.speed=function(a,b,c){var d=a&&"object"==typeof a?u.extend({},a):{complete:c||!c&&b||u.isFunction(a)&&a,duration:a,easing:c&&b||b&&!u.isFunction(b)&&b};return u.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in u.fx.speeds?d.duration=u.fx.speeds[d.duration]:d.duration=u.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){u.isFunction(d.old)&&
d.old.call(this);d.queue&&u.dequeue(this,d.queue)},d};u.fn.extend({fadeTo:function(a,b,c,d){return this.filter($a).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var f=u.isEmptyObject(a),g=u.speed(b,c,d);b=function(){var b=ta(this,u.extend({},a),g);(f||ja.get(this,"finish"))&&b.stop(!0)};return b.finish=b,f||!1===g.queue?this.each(b):this.queue(g.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=
a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,f=null!=a&&a+"queueHooks",g=u.timers,p=ja.get(this);if(f)p[f]&&p[f].stop&&d(p[f]);else for(f in p)p[f]&&p[f].stop&&Tb.test(f)&&d(p[f]);for(f=g.length;f--;)g[f].elem!==this||null!=a&&g[f].queue!==a||(g[f].anim.stop(c),b=!1,g.splice(f,1));!b&&c||u.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=ja.get(this),c=b[a+"queue"];var d=b[a+"queueHooks"];var f=u.timers,g=c?c.length:0;b.finish=
!0;u.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=f.length;d--;)f[d].elem===this&&f[d].queue===a&&(f[d].anim.stop(!0),f.splice(d,1));for(d=0;d<g;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete b.finish})}});u.each(["toggle","show","hide"],function(a,b){var c=u.fn[b];u.fn[b]=function(a,d,f){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(O(b,!0),a,d,f)}});u.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){u.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});u.timers=[];u.fx.tick=function(){var a,b=0,c=u.timers;for(Ab=u.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||u.fx.stop();Ab=void 0};u.fx.timer=function(a){u.timers.push(a);u.fx.start()};u.fx.interval=13;u.fx.start=function(){Wa||(Wa=!0,p())};u.fx.stop=function(){Wa=null};u.fx.speeds={slow:600,fast:200,_default:400};u.fn.delay=function(b,c){return b=u.fx&&u.fx.speeds[b]||b,c=
c||"fx",this.queue(c,function(c,d){var f=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(f)}})};(function(){var a=ea.createElement("input"),b=ea.createElement("select").appendChild(ea.createElement("option"));a.type="checkbox";ua.checkOn=""!==a.value;ua.optSelected=b.selected;(a=ea.createElement("input")).value="t";a.type="radio";ua.radioValue="t"===a.value})();var fb=u.expr.attrHandle;u.fn.extend({attr:function(a,b){return Ka(this,u.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){u.removeAttr(this,
a)})}});u.extend({attr:function(a,b,c){var d,f,g=a.nodeType;if(3!==g&&8!==g&&2!==g)return void 0===a.getAttribute?u.prop(a,b,c):(1===g&&u.isXMLDoc(a)||(f=u.attrHooks[b.toLowerCase()]||(u.expr.match.bool.test(b)?Ua:void 0)),void 0!==c?null===c?void u.removeAttr(a,b):f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:(a.setAttribute(b,c+""),c):f&&"get"in f&&null!==(d=f.get(a,b))?d:null==(d=u.find.attr(a,b))?void 0:d)},attrHooks:{type:{set:function(a,b){if(!ua.radioValue&&"radio"===b&&H(a,"input")){var c=a.value;
return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c=0,d=b&&b.match(Oa);if(d&&1===a.nodeType)for(;b=d[c++];)a.removeAttribute(b)}});var Ua={set:function(a,b,c){return!1===b?u.removeAttr(a,c):a.setAttribute(c,c),c}};u.each(u.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||u.find.attr;fb[b]=function(a,b,d){var f,g,p=b.toLowerCase();return d||(g=fb[p],fb[p]=f,f=null!=c(a,b,d)?p:null,fb[p]=g),f}});var Xa=/^(?:input|select|textarea|button)$/i,Pa=/^(?:a|area)$/i;
u.fn.extend({prop:function(a,b){return Ka(this,u.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[u.propFix[a]||a]})}});u.extend({prop:function(a,b,c){var d,f,g=a.nodeType;if(3!==g&&8!==g&&2!==g)return 1===g&&u.isXMLDoc(a)||(b=u.propFix[b]||b,f=u.propHooks[b]),void 0!==c?f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=u.find.attr(a,"tabindex");return b?parseInt(b,10):
Xa.test(a.nodeName)||Pa.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}});ua.optSelected||(u.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});u.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){u.propFix[this.toLowerCase()]=this});u.fn.extend({addClass:function(a){var b,
c,d,f,g,p,e,t=0;if(u.isFunction(a))return this.each(function(b){u(this).addClass(a.call(this,b,X(this)))});if("string"==typeof a&&a)for(b=a.match(Oa)||[];c=this[t++];)if(f=X(c),d=1===c.nodeType&&" "+ia(f)+" "){for(p=0;g=b[p++];)0>d.indexOf(" "+g+" ")&&(d+=g+" ");f!==(e=ia(d))&&c.setAttribute("class",e)}return this},removeClass:function(a){var b,c,d,f,g,p,e,t=0;if(u.isFunction(a))return this.each(function(b){u(this).removeClass(a.call(this,b,X(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof a&&a)for(b=a.match(Oa)||[];c=this[t++];)if(f=X(c),d=1===c.nodeType&&" "+ia(f)+" "){for(p=0;g=b[p++];)for(;-1<d.indexOf(" "+g+" ");)d=d.replace(" "+g+" "," ");f!==(e=ia(d))&&c.setAttribute("class",e)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):u.isFunction(a)?this.each(function(c){u(this).toggleClass(a.call(this,c,X(this),b),b)}):this.each(function(){var b,d;if("string"===c){var f=0;var g=
u(this);for(d=a.match(Oa)||[];b=d[f++];)g.hasClass(b)?g.removeClass(b):g.addClass(b)}else void 0!==a&&"boolean"!==c||((b=X(this))&&ja.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":ja.get(this,"__className__")||""))})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+ia(X(b))+" ").indexOf(a))return!0;return!1}});var Pb=/\r/g;u.fn.extend({val:function(a){var b,c,d,f=this[0];return arguments.length?(d=u.isFunction(a),this.each(function(c){var f;
1===this.nodeType&&(null==(f=d?a.call(this,c,u(this).val()):a)?f="":"number"==typeof f?f+="":Array.isArray(f)&&(f=u.map(f,function(a){return null==a?"":a+""})),(b=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,f,"value")||(this.value=f))})):f?(b=u.valHooks[f.type]||u.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(f,"value"))?c:"string"==typeof(c=f.value)?c.replace(Pb,""):null==c?"":c:void 0}});u.extend({valHooks:{option:{get:function(a){var b=
u.find.attr(a,"value");return null!=b?b:ia(u.text(a))}},select:{get:function(a){var b,c,d=a.options,f=a.selectedIndex,g="select-one"===a.type,p=g?null:[],e=g?f+1:d.length;for(c=0>f?e:g?f:0;c<e;c++)if(!(!(b=d[c]).selected&&c!==f||b.disabled||b.parentNode.disabled&&H(b.parentNode,"optgroup"))){if(a=u(b).val(),g)return a;p.push(a)}return p},set:function(a,b){var c,d,f=a.options;b=u.makeArray(b);for(var g=f.length;g--;)((d=f[g]).selected=-1<u.inArray(u.valHooks.option.get(d),b))&&(c=!0);return c||(a.selectedIndex=
-1),b}}}});u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<u.inArray(u(a).val(),b)}};ua.checkOn||(u.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var vb=/^(?:focusinfocus|focusoutblur)$/;u.extend(u.event,{trigger:function(b,c,d,f){var g,p,e,t,h,m=[d||ea],q=ra.call(b,"type")?b.type:b;var z=ra.call(b,"namespace")?b.namespace.split("."):[];if(g=p=d=d||ea,3!==d.nodeType&&8!==d.nodeType&&!vb.test(q+
u.event.triggered)&&(-1<q.indexOf(".")&&(z=q.split("."),q=z.shift(),z.sort()),e=0>q.indexOf(":")&&"on"+q,(b=b[u.expando]?b:new u.Event(q,"object"==typeof b&&b)).isTrigger=f?2:3,b.namespace=z.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+z.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:u.makeArray(c,[b]),h=u.event.special[q]||{},f||!h.trigger||!1!==h.trigger.apply(d,c))){if(!f&&!h.noBubble&&!u.isWindow(d)){var D=h.delegateType||q;for(vb.test(D+
q)||(g=g.parentNode);g;g=g.parentNode)m.push(g),p=g;p===(d.ownerDocument||ea)&&m.push(p.defaultView||p.parentWindow||a)}for(z=0;(g=m[z++])&&!b.isPropagationStopped();)b.type=1<z?D:h.bindType||q,(t=(ja.get(g,"events")||{})[b.type]&&ja.get(g,"handle"))&&t.apply(g,c),(t=e&&g[e])&&t.apply&&Ja(g)&&(b.result=t.apply(g,c),!1===b.result&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),c)||!Ja(d)||e&&u.isFunction(d[q])&&!u.isWindow(d)&&((p=d[e])&&(d[e]=
null),u.event.triggered=q,d[q](),u.event.triggered=void 0,p&&(d[e]=p)),b.result}},simulate:function(a,b,c){a=u.extend(new u.Event,c,{type:a,isSimulated:!0});u.event.trigger(a,null,b)}});u.fn.extend({trigger:function(a,b){return this.each(function(){u.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return u.event.trigger(a,b,c,!0)}});u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){u.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});u.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});ua.focusin="onfocusin"in a;ua.focusin||u.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){u.event.simulate(b,a.target,u.event.fix(a))};u.event.special[b]={setup:function(){var d=this.ownerDocument||this,f=ja.access(d,b);f||d.addEventListener(a,c,!0);ja.access(d,b,(f||0)+1)},teardown:function(){var d=
this.ownerDocument||this,f=ja.access(d,b)-1;f?ja.access(d,b,f):(d.removeEventListener(a,c,!0),ja.remove(d,b))}}});var Va=a.location,lb=u.now(),hc=/\?/;u.parseXML=function(b){if(!b||"string"!=typeof b)return null;try{var c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(sb){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||u.error("Invalid XML: "+b),c};var nc=/\[\]$/,ic=/\r?\n/g,Wb=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;u.param=function(a,
b){var c,d=[],f=function(a,b){b=u.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==b?"":b)};if(Array.isArray(a)||a.jquery&&!u.isPlainObject(a))u.each(a,function(){f(this.name,this.value)});else for(c in a)W(c,a[c],b,f);return d.join("&")};u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=u.prop(this,"elements");return a?u.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&
!u(this).is(":disabled")&&Bb.test(this.nodeName)&&!Wb.test(a)&&(this.checked||!Qa.test(a))}).map(function(a,b){a=u(this).val();return null==a?null:Array.isArray(a)?u.map(a,function(a){return{name:b.name,value:a.replace(ic,"\r\n")}}):{name:b.name,value:a.replace(ic,"\r\n")}}).get()}});var wb=/%20/g,Ga=/#.*$/,db=/([?&])_=[^&]*/,ib=/^(.*?):[ \t]*([^\r\n]*)$/gm,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,Qb={},xb={},cc="*/".concat("*"),Xb=ea.createElement("a");Xb.href=Va.href;u.extend({active:0,lastModified:{},etag:{},
ajaxSettings:{url:Va.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Va.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":cc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,
"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xa(xa(a,u.ajaxSettings),b):xa(u.ajaxSettings,a)},ajaxPrefilter:na(Qb),ajaxTransport:na(xb),ajax:function(b,c){function d(b,c,d,e){var n,m,q,C,r,v=c;pa||(pa=!0,h&&a.clearTimeout(h),f=void 0,p=e||"",T.readyState=0<b?4:0,n=200<=b&&300>b||304===b,d&&(C=function(a,b,c){for(var d,f,g,p,e=a.contents,n=a.dataTypes;"*"===n[0];)n.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));
if(d)for(f in e)if(e[f]&&e[f].test(d)){n.unshift(f);break}if(n[0]in c)g=n[0];else{for(f in c){if(!n[0]||a.converters[f+" "+n[0]]){g=f;break}p||(p=f)}g=g||p}if(g)return g!==n[0]&&n.unshift(g),c[g]}(z,T,d)),C=function(a,b,c,d){var f,g,p,e,n,h={},t=a.dataTypes.slice();if(t[1])for(p in a.converters)h[p.toLowerCase()]=a.converters[p];for(g=t.shift();g;)if(a.responseFields[g]&&(c[a.responseFields[g]]=b),!n&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),n=g,g=t.shift())if("*"===g)g=n;else if("*"!==n&&
n!==g){if(!(p=h[n+" "+g]||h["* "+g]))for(f in h)if((e=f.split(" "))[1]===g&&(p=h[n+" "+e[0]]||h["* "+e[0]])){!0===p?p=h[f]:!0!==h[f]&&(g=e[0],t.unshift(e[1]));break}if(!0!==p)if(p&&a.throws)b=p(b);else try{b=p(b)}catch(sc){return{state:"parsererror",error:p?sc:"No conversion from "+n+" to "+g}}}return{state:"success",data:b}}(z,C,T,n),n?(z.ifModified&&((r=T.getResponseHeader("Last-Modified"))&&(u.lastModified[g]=r),(r=T.getResponseHeader("etag"))&&(u.etag[g]=r)),204===b||"HEAD"===z.type?v="nocontent":
304===b?v="notmodified":(v=C.state,m=C.data,n=!(q=C.error))):(q=v,!b&&v||(v="error",0>b&&(b=0))),T.status=b,T.statusText=(c||v)+"",n?J.resolveWith(D,[m,v,T]):J.rejectWith(D,[T,v,q]),T.statusCode(B),B=void 0,t&&k.trigger(n?"ajaxSuccess":"ajaxError",[T,z,n?m:q]),P.fireWith(D,[T,v]),t&&(k.trigger("ajaxComplete",[T,z]),--u.active||u.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0);c=c||{};var f,g,p,e,h,t,m,q,z=u.ajaxSetup({},c),D=z.context||z,k=z.context&&(D.nodeType||D.jquery)?u(D):u.event,
J=u.Deferred(),P=u.Callbacks("once memory"),B=z.statusCode||{},C={},r={},v="canceled",T={readyState:0,getResponseHeader:function(a){var b;if(pa){if(!e)for(e={};b=ib.exec(p);)e[b[1].toLowerCase()]=b[2];b=e[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return pa?p:null},setRequestHeader:function(a,b){return null==pa&&(a=r[a.toLowerCase()]=r[a.toLowerCase()]||a,C[a]=b),this},overrideMimeType:function(a){return null==pa&&(z.mimeType=a),this},statusCode:function(a){var b;if(a)if(pa)T.always(a[T.status]);
else for(b in a)B[b]=[B[b],a[b]];return this},abort:function(a){a=a||v;return f&&f.abort(a),d(0,a),this}};if(J.promise(T),z.url=((b||z.url||Va.href)+"").replace(rb,Va.protocol+"//"),z.type=c.method||c.type||z.method||z.type,z.dataTypes=(z.dataType||"*").toLowerCase().match(Oa)||[""],null==z.crossDomain){b=ea.createElement("a");try{b.href=z.url,b.href=b.href,z.crossDomain=Xb.protocol+"//"+Xb.host!=b.protocol+"//"+b.host}catch(kc){z.crossDomain=!0}}if(z.data&&z.processData&&"string"!=typeof z.data&&
(z.data=u.param(z.data,z.traditional)),ka(Qb,z,c,T),pa)return T;for(m in(t=u.event&&z.global)&&0==u.active++&&u.event.trigger("ajaxStart"),z.type=z.type.toUpperCase(),z.hasContent=!qb.test(z.type),g=z.url.replace(Ga,""),z.hasContent?z.data&&z.processData&&0===(z.contentType||"").indexOf("application/x-www-form-urlencoded")&&(z.data=z.data.replace(wb,"+")):(q=z.url.slice(g.length),z.data&&(g+=(hc.test(g)?"&":"?")+z.data,delete z.data),!1===z.cache&&(g=g.replace(db,"$1"),q=(hc.test(g)?"&":"?")+"_="+
lb++ +q),z.url=g+q),z.ifModified&&(u.lastModified[g]&&T.setRequestHeader("If-Modified-Since",u.lastModified[g]),u.etag[g]&&T.setRequestHeader("If-None-Match",u.etag[g])),(z.data&&z.hasContent&&!1!==z.contentType||c.contentType)&&T.setRequestHeader("Content-Type",z.contentType),T.setRequestHeader("Accept",z.dataTypes[0]&&z.accepts[z.dataTypes[0]]?z.accepts[z.dataTypes[0]]+("*"!==z.dataTypes[0]?", "+cc+"; q=0.01":""):z.accepts["*"]),z.headers)T.setRequestHeader(m,z.headers[m]);if(z.beforeSend&&(!1===
z.beforeSend.call(D,T,z)||pa))return T.abort();if(v="abort",P.add(z.complete),T.done(z.success),T.fail(z.error),f=ka(xb,z,c,T)){if(T.readyState=1,t&&k.trigger("ajaxSend",[T,z]),pa)return T;z.async&&0<z.timeout&&(h=a.setTimeout(function(){T.abort("timeout")},z.timeout));try{var pa=!1;f.send(C,d)}catch(kc){if(pa)throw kc;d(-1,kc)}}else d(-1,"No Transport");return T},getJSON:function(a,b,c){return u.get(a,b,c,"json")},getScript:function(a,b){return u.get(a,void 0,b,"script")}});u.each(["get","post"],
function(a,b){u[b]=function(a,c,d,f){return u.isFunction(c)&&(f=f||d,d=c,c=void 0),u.ajax(u.extend({url:a,type:b,dataType:f,data:c,success:d},u.isPlainObject(a)&&a))}});u._evalUrl=function(a){return u.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})};u.fn.extend({wrapAll:function(a){var b;return this[0]&&(u.isFunction(a)&&(a=a.call(this[0])),b=u(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=
a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return u.isFunction(a)?this.each(function(b){u(this).wrapInner(a.call(this,b))}):this.each(function(){var b=u(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=u.isFunction(a);return this.each(function(c){u(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}});u.expr.pseudos.hidden=function(a){return!u.expr.pseudos.visible(a)};
u.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};u.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(t){}};var oc={0:200,1223:204},yb=u.ajaxSettings.xhr();ua.cors=!!yb&&"withCredentials"in yb;ua.ajax=yb=!!yb;u.ajaxTransport(function(b){var c,d;if(ua.cors||yb&&!b.crossDomain)return{send:function(f,g){var p,e=b.xhr();if(e.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(p in b.xhrFields)e[p]=b.xhrFields[p];for(p in b.mimeType&&
e.overrideMimeType&&e.overrideMimeType(b.mimeType),b.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest"),f)e.setRequestHeader(p,f[p]);c=function(a){return function(){c&&(c=d=e.onload=e.onerror=e.onabort=e.onreadystatechange=null,"abort"===a?e.abort():"error"===a?"number"!=typeof e.status?g(0,"error"):g(e.status,e.statusText):g(oc[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};
e.onload=c();d=e.onerror=c("error");void 0!==e.onabort?e.onabort=d:e.onreadystatechange=function(){4===e.readyState&&a.setTimeout(function(){c&&d()})};c=c("abort");try{e.send(b.hasContent&&b.data||null)}catch(dc){if(c)throw dc;}},abort:function(){c&&c()}}});u.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return u.globalEval(a),
a}}});u.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});u.ajaxTransport("script",function(a){var b,c;if(a.crossDomain)return{send:function(d,f){b=u("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&f("error"===a.type?404:200,a.type)});ea.head.appendChild(b[0])},abort:function(){c&&c()}}});var Fb,Lb=[],Hb=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Lb.pop()||
u.expando+"_"+lb++;return this[a]=!0,a}});u.ajaxPrefilter("json jsonp",function(b,c,d){var f,g,p,e=!1!==b.jsonp&&(Hb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");if(e||"jsonp"===b.dataTypes[0])return f=b.jsonpCallback=u.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,e?b[e]=b[e].replace(Hb,"$1"+f):!1!==b.jsonp&&(b.url+=(hc.test(b.url)?"&":"?")+b.jsonp+"="+f),b.converters["script json"]=function(){return p||
u.error(f+" was not called"),p[0]},b.dataTypes[0]="json",g=a[f],a[f]=function(){p=arguments},d.always(function(){void 0===g?u(a).removeProp(f):a[f]=g;b[f]&&(b.jsonpCallback=c.jsonpCallback,Lb.push(f));p&&u.isFunction(g)&&g(p[0]);p=g=void 0}),"script"});ua.createHTMLDocument=((Fb=ea.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Fb.childNodes.length);u.parseHTML=function(a,b,c){return"string"!=typeof a?[]:("boolean"==typeof b&&(c=b,b=!1),b||(ua.createHTMLDocument?
((d=(b=ea.implementation.createHTMLDocument("")).createElement("base")).href=ea.location.href,b.head.appendChild(d)):b=ea),g=!c&&[],(f=Ca.exec(a))?[b.createElement(f[1])]:(f=K([a],b,g),g&&g.length&&u(g).remove(),u.merge([],f.childNodes)));var d,f,g};u.fn.load=function(a,b,c){var d,f,g,p=this,e=a.indexOf(" ");return-1<e&&(d=ia(a.slice(e)),a=a.slice(0,e)),u.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),0<p.length&&u.ajax({url:a,type:f||"GET",dataType:"html",data:b}).done(function(a){g=
arguments;p.html(d?u("<div>").append(u.parseHTML(a)).find(d):a)}).always(c&&function(a,b){p.each(function(){c.apply(this,g||[a.responseText,b,a])})}),this};u.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){u.fn[b]=function(a){return this.on(b,a)}});u.expr.pseudos.animated=function(a){return u.grep(u.timers,function(b){return a===b.elem}).length};u.offset={setOffset:function(a,b,c){var d,f,g,p=u.css(a,"position"),e=u(a),h={};"static"===p&&(a.style.position=
"relative");var m=e.offset();var t=u.css(a,"top");var z=u.css(a,"left");("absolute"===p||"fixed"===p)&&-1<(t+z).indexOf("auto")?(g=(d=e.position()).top,f=d.left):(g=parseFloat(t)||0,f=parseFloat(z)||0);u.isFunction(b)&&(b=b.call(a,c,u.extend({},m)));null!=b.top&&(h.top=b.top-m.top+g);null!=b.left&&(h.left=b.left-m.left+f);"using"in b?b.using.call(a,h):e.css(h)}};u.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){u.offset.setOffset(this,a,b)});var b,c,
d,f,g=this[0];return g?g.getClientRects().length?(d=g.getBoundingClientRect(),c=(b=g.ownerDocument).documentElement,f=b.defaultView,{top:d.top+f.pageYOffset-c.clientTop,left:d.left+f.pageXOffset-c.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===u.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),H(a[0],"html")||(d=a.offset()),d={top:d.top+u.css(a[0],"borderTopWidth",!0),left:d.left+u.css(a[0],
"borderLeftWidth",!0)}),{top:b.top-d.top-u.css(c,"marginTop",!0),left:b.left-d.left-u.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===u.css(a,"position");)a=a.offsetParent;return a||hb})}});u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;u.fn[a]=function(d){return Ka(this,function(a,d,f){var g;if(u.isWindow(a)?g=a:9===a.nodeType&&(g=a.defaultView),void 0===f)return g?g[b]:a[d];g?
g.scrollTo(c?g.pageXOffset:f,c?f:g.pageYOffset):a[d]=f},a,d,arguments.length)}});u.each(["top","left"],function(a,b){u.cssHooks[b]=ca(ua.pixelPosition,function(a,c){if(c)return c=I(a,b),Kb.test(c)?u(a).position()[b]+"px":c})});u.each({Height:"height",Width:"width"},function(a,b){u.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){u.fn[d]=function(f,g){var p=arguments.length&&(c||"boolean"!=typeof f),e=c||(!0===f||!0===g?"margin":"border");return Ka(this,function(b,c,f){var g;return u.isWindow(b)?
0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(g=b.documentElement,Math.max(b.body["scroll"+a],g["scroll"+a],b.body["offset"+a],g["offset"+a],g["client"+a])):void 0===f?u.css(b,c,e):u.style(b,c,f,e)},b,p?f:void 0,p)}})});u.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)}});u.holdReady=function(a){a?u.readyWait++:u.ready(!0)};u.isArray=Array.isArray;u.parseJSON=JSON.parse;u.nodeName=H;!(ha=[],La=function(){return u}.apply(da,ha),void 0!==La&&(x.exports=La));var Cb=a.jQuery,Mb=a.$;return u.noConflict=function(b){return a.$===u&&(a.$=Mb),b&&a.jQuery===u&&(a.jQuery=Cb),u},b||(a.jQuery=a.$=u),u});(function(a,b){!function(a){function b(a,b,c){a.byteLength;for(var d=0,f=c.length;d<f;d++){var g=c.charCodeAt(d);if(128>g)a.setUint8(b++,g>>>0&127|0);else{if(2048>
g)a.setUint8(b++,g>>>6&31|192);else{if(65536>g)a.setUint8(b++,g>>>12&15|224);else{if(!(1114112>g))throw Error("bad codepoint "+g);a.setUint8(b++,g>>>18&7|240);a.setUint8(b++,g>>>12&63|128)}a.setUint8(b++,g>>>6&63|128)}a.setUint8(b++,g>>>0&63|128)}}}function c(a){for(var b=0,c=0,d=a.length;c<d;c++){var f=a.charCodeAt(c);if(128>f)b+=1;else if(2048>f)b+=2;else if(65536>f)b+=3;else{if(!(1114112>f))throw Error("bad codepoint "+f);b+=4}}return b}function e(a){var d=new ArrayBuffer(function ia(a){var b=
typeof a;if("string"===b){var d=c(a);if(32>d)return 1+d;if(256>d)return 2+d;if(65536>d)return 3+d;if(4294967296>d)return 5+d}if(a instanceof Uint8Array){d=a.byteLength;if(256>d)return 2+d;if(65536>d)return 3+d;if(4294967296>d)return 5+d}if("number"===b){if(Math.floor(a)!==a)return 9;if(0<=a){if(128>a)return 1;if(256>a)return 2;if(65536>a)return 3;if(4294967296>a)return 5;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return 1;if(-128<=a)return 2;if(-32768<=a)return 3;if(-2147483648<=a)return 5;
throw Error("Number too small -0x"+a.toString(16).substr(1));}if("boolean"===b||null===a)return 1;if("object"===b){b=0;if(Array.isArray(a)){d=a.length;for(var f=0;f<d;f++)b+=ia(a[f])}else{var g=Object.keys(a);d=g.length;for(f=0;f<d;f++){var p=g[f];b+=ia(p)+ia(a[p])}}if(16>d)return 1+b;if(65536>d)return 3+b;if(4294967296>d)return 5+b;throw Error("Array or object too long 0x"+d.toString(16));}throw Error("Unknown type "+b);}(a)),f=new DataView(d);return function na(a,d,f){var g=typeof a;if("string"===
g){var p=c(a);if(32>p)return d.setUint8(f,160|p),b(d,f+1,a),1+p;if(256>p)return d.setUint8(f,217),d.setUint8(f+1,p),b(d,f+2,a),2+p;if(65536>p)return d.setUint8(f,218),d.setUint16(f+1,p),b(d,f+3,a),3+p;if(4294967296>p)return d.setUint8(f,219),d.setUint32(f+1,p),b(d,f+5,a),5+p}if(a instanceof Uint8Array){p=a.byteLength;var e=new Uint8Array(d.buffer);if(256>p)return d.setUint8(f,196),d.setUint8(f+1,p),e.set(a,f+2),2+p;if(65536>p)return d.setUint8(f,197),d.setUint16(f+1,p),e.set(a,f+3),3+p;if(4294967296>
p)return d.setUint8(f,198),d.setUint32(f+1,p),e.set(a,f+5),5+p}if("number"===g){if(!isFinite(a))throw Error("Number not finite: "+a);if(Math.floor(a)!==a)return d.setUint8(f,203),d.setFloat64(f+1,a),9;if(0<=a){if(128>a)return d.setUint8(f,a),1;if(256>a)return d.setUint8(f,204),d.setUint8(f+1,a),2;if(65536>a)return d.setUint8(f,205),d.setUint16(f+1,a),3;if(4294967296>a)return d.setUint8(f,206),d.setUint32(f+1,a),5;throw Error("Number too big 0x"+a.toString(16));}if(-32<=a)return d.setInt8(f,a),1;if(-128<=
a)return d.setUint8(f,208),d.setInt8(f+1,a),2;if(-32768<=a)return d.setUint8(f,209),d.setInt16(f+1,a),3;if(-2147483648<=a)return d.setUint8(f,210),d.setInt32(f+1,a),5;throw Error("Number too small -0x"+(-a).toString(16).substr(1));}if(null===a)return d.setUint8(f,192),1;if("boolean"===g)return d.setUint8(f,a?195:194),1;if("object"===g){g=0;if(e=Array.isArray(a))p=a.length;else{var h=Object.keys(a);p=h.length}if(16>p?(d.setUint8(f,p|(e?144:128)),g=1):65536>p?(d.setUint8(f,e?220:222),d.setUint16(f+
1,p),g=3):4294967296>p&&(d.setUint8(f,e?221:223),d.setUint32(f+1,p),g=5),e)for(e=0;e<p;e++)g+=na(a[e],d,f+g);else for(e=0;e<p;e++){var m=h[e];g+=na(m,d,f+g);g+=na(a[m],d,f+g)}return g}throw Error("Unknown type "+g);}(a,f,0),new Uint8Array(d)}function h(a,b,c){return b?new a(b.buffer,b.byteOffset,b.byteLength/(c||1)):void 0}function v(a,b){var c=a.length/2;b||(b=new Int16Array(c));for(var d=0,f=0;d<c;++d,f+=2)b[d]=a[f]<<8^a[f+1]<<0;return b}function w(a,b){var c=a.length/4;b||(b=new Int32Array(c));
for(var d=0,f=0;d<c;++d,f+=4)b[d]=a[f]<<24^a[f+1]<<16^a[f+2]<<8^a[f+3]<<0;return b}function l(a,b){var c=a.length;b||(b=new Uint8Array(4*c));for(var d=h(DataView,b),f=0;f<c;++f)d.setInt32(4*f,a[f]);return h(Uint8Array,b)}function A(a,b,c){var d=a.length;b=1/b;c||(c=new Float32Array(d));for(var f=0;f<d;++f)c[f]=a[f]*b;return c}function q(a,b,c){var d=a.length;c||(c=new Int32Array(d));for(var f=0;f<d;++f)c[f]=Math.round(a[f]*b);return c}function d(a,b){var c;if(!b){var d=b=0;for(c=a.length;d<c;d+=2)b+=
a[d+1];b=new a.constructor(b)}var f=0;d=0;for(c=a.length;d<c;d+=2)for(var g=a[d],p=a[d+1],e=0;e<p;++e)b[f]=g,++f;return b}function f(a){if(0===a.length)return new Int32Array;var b,c=2;var d=1;for(b=a.length;d<b;++d)a[d-1]!==a[d]&&(c+=2);c=new Int32Array(c);var f=0,g=1;d=1;for(b=a.length;d<b;++d)a[d-1]!==a[d]?(c[f]=a[d-1],c[f+1]=g,g=1,f+=2):++g;return c[f]=a[a.length-1],c[f+1]=g,c}function C(a,b){var c=a.length;b||(b=new a.constructor(c));c&&(b[0]=a[0]);for(var d=1;d<c;++d)b[d]=a[d]+b[d-1];return b}
function g(a,b){var c=a.length;b||(b=new a.constructor(c));b[0]=a[0];for(var d=1;d<c;++d)b[d]=a[d]-a[d-1];return b}function L(a,b){var c,d,f=a instanceof Int8Array?127:32767,g=-f-1,p=a.length;if(!b){for(c=b=0;c<p;++c)a[c]<f&&a[c]>g&&++b;b=new Int32Array(b)}for(d=c=0;c<p;){for(var e=0;a[c]===f||a[c]===g;)e+=a[c],++c;e+=a[c];++c;b[d]=e;++d}return b}function K(a,b,c){return A(L(a,h(Int32Array,c,4)),b,c)}function B(a,b,c){a=L(a,h(Int32Array,c,4));c=h(Float32Array,a,4);return A(C(a,h(Int32Array,c,4)),
b,c)}function G(a,b,c,d){var f=new ArrayBuffer(12+d.byteLength),g=new Uint8Array(f);f=new DataView(f);return f.setInt32(0,a),f.setInt32(4,b),c&&g.set(c,8),g.set(d,12),g}function z(a){var b=a.length;a=h(Uint8Array,a);return G(2,b,void 0,a)}function m(a){var b=a.length;a=l(a);return G(4,b,void 0,a)}function V(a,b){var c=a.length/b;b=l([b]);a=h(Uint8Array,a);return G(5,c,b,a)}function U(a){var b=a.length;a=l(f(a));return G(6,b,void 0,a)}function Y(a){var b=a.length;a=l(f(g(a)));return G(8,b,void 0,a)}
function Z(a,b){var c=a.length,d=l([b]);a=l(f(q(a,b)));return G(9,c,d,a)}function R(a,b){var c=a.length,d=l([b]);b=g(q(a,b),void 0);var f,p=b.length;for(f=a=0;f<p;++f){var e=b[f];0===e?++a:a+=32767===e||-32768===e?2:0<e?Math.ceil(e/32767):Math.ceil(e/-32768)}a=new Int16Array(a);var m=0;for(f=0;f<p;++f){e=b[f];if(0<=e)for(;32767<=e;)a[m]=32767,++m,e-=32767;else for(;-32768>=e;)a[m]=-32768,++m,e-=-32768;a[m]=e;++m}b=void 0;f=a.length;b||(b=new Uint8Array(2*f));p=h(DataView,b);for(e=0;e<f;++e)p.setInt16(2*
e,a[e]);a=h(Uint8Array,b);return G(10,c,d,a)}function Q(a){var b={};return S.forEach(function(c){void 0!==a[c]&&(b[c]=a[c])}),a.bondAtomList&&(b.bondAtomList=m(a.bondAtomList)),a.bondOrderList&&(b.bondOrderList=z(a.bondOrderList)),b.xCoordList=R(a.xCoordList,1E3),b.yCoordList=R(a.yCoordList,1E3),b.zCoordList=R(a.zCoordList,1E3),a.bFactorList&&(b.bFactorList=R(a.bFactorList,100)),a.atomIdList&&(b.atomIdList=Y(a.atomIdList)),a.altLocList&&(b.altLocList=U(a.altLocList)),a.occupancyList&&(b.occupancyList=
Z(a.occupancyList,100)),b.groupIdList=Y(a.groupIdList),b.groupTypeList=m(a.groupTypeList),a.secStructList&&(b.secStructList=z(a.secStructList)),a.insCodeList&&(b.insCodeList=U(a.insCodeList)),a.sequenceIndexList&&(b.sequenceIndexList=Y(a.sequenceIndexList)),b.chainIdList=V(a.chainIdList,4),a.chainNameList&&(b.chainNameList=V(a.chainNameList,4)),b}function I(a){function b(a){for(var b={},c=0;c<a;c++){var d=g();b[d]=g()}return b}function c(b){var c=a.subarray(e,e+b);return e+=b,c}function d(b){var c=
a.subarray(e,e+b);e+=b;if(65535<b){b=[];for(var d=0;d<c.length;d+=65535)b.push(String.fromCharCode.apply(null,c.subarray(d,d+65535)));return b.join("")}return String.fromCharCode.apply(null,c)}function f(a){for(var b=Array(a),c=0;c<a;c++)b[c]=g();return b}function g(){var g,h,m=a[e];if(0==(128&m))return e++,m;if(128==(240&m))return e++,b(15&m);if(144==(240&m))return e++,f(15&m);if(160==(224&m))return e++,d(31&m);if(224==(224&m))return g=p.getInt8(e),e++,g;switch(m){case 192:return e++,null;case 194:return e++,
!1;case 195:return e++,!0;case 196:return h=p.getUint8(e+1),e+=2,c(h);case 197:return h=p.getUint16(e+1),e+=3,c(h);case 198:return h=p.getUint32(e+1),e+=5,c(h);case 202:return g=p.getFloat32(e+1),e+=5,g;case 203:return g=p.getFloat64(e+1),e+=9,g;case 204:return g=a[e+1],e+=2,g;case 205:return g=p.getUint16(e+1),e+=3,g;case 206:return g=p.getUint32(e+1),e+=5,g;case 208:return g=p.getInt8(e+1),e+=2,g;case 209:return g=p.getInt16(e+1),e+=3,g;case 210:return g=p.getInt32(e+1),e+=5,g;case 217:return h=
p.getUint8(e+1),e+=2,d(h);case 218:return h=p.getUint16(e+1),e+=3,d(h);case 219:return h=p.getUint32(e+1),e+=5,d(h);case 220:return h=p.getUint16(e+1),e+=3,f(h);case 221:return h=p.getUint32(e+1),e+=5,f(h);case 222:return h=p.getUint16(e+1),e+=3,b(h);case 223:return h=p.getUint32(e+1),e+=5,b(h)}throw Error("Unknown type 0x"+m.toString(16));}var e=0,p=new DataView(a.buffer);return g()}function ca(a,b,c,f){switch(a){case 1:return function(a,b){var c=a.length;b||(b=new Float32Array(c/4));var d=h(DataView,
b);a=h(DataView,a);var f=0,g=0;for(c/=4;f<c;++f,g+=4)d.setFloat32(g,a.getFloat32(g),!0);return b}(b);case 2:return h(Int8Array,b);case 3:return v(b);case 4:return w(b);case 5:return h(Uint8Array,b);case 6:return d(w(b),new Uint8Array(c));case 7:return d(w(b));case 8:return C(d(w(b)),g);case 9:return function(a,b,c){return A(d(a,h(Int32Array,c,4)),b,c)}(w(b),w(f)[0]);case 10:return B(v(b),w(f)[0]);case 11:return A(v(b),w(f)[0]);case 12:return K(v(b),w(f)[0]);case 13:return K(h(Int8Array,b),w(f)[0]);
case 14:return L(v(b));case 15:return L(h(Int8Array,b))}var g}function ba(a,b){var c=(b=b||{}).ignoreFields,d={};return J.forEach(function(b){var f,g,e,p,m,z=!!c&&-1!==c.indexOf(b),q=a[b];z||void 0===q||(q instanceof Uint8Array?d[b]=ca.apply(null,(g=h(DataView,f=q),e=g.getInt32(0),p=g.getInt32(4),m=f.subarray(8,12),f=f.subarray(12),[e,f,p,m])):d[b]=q)}),d}function P(a,b){return a instanceof ArrayBuffer&&(a=new Uint8Array(a)),ba(a instanceof Uint8Array?I(a):a,b)}function T(a,b,c,d){var f=new XMLHttpRequest;
f.addEventListener("load",function(){try{var a=P(f.response);c(a)}catch(X){d(X)}},!0);f.addEventListener("error",d,!0);f.responseType="arraybuffer";f.open("GET",b+a.toUpperCase());f.send()}var S="mmtfVersion mmtfProducer unitCell spaceGroup structureId title depositionDate releaseDate experimentalMethods resolution rFree rWork bioAssemblyList ncsOperatorList entityList groupList numBonds numAtoms numGroups numChains numModels groupsPerChain chainsPerModel".split(" "),J=S.concat("xCoordList yCoordList zCoordList groupIdList groupTypeList chainIdList bFactorList atomIdList altLocList occupancyList secStructList insCodeList sequenceIndexList chainNameList bondAtomList bondOrderList".split(" "));
a.encode=function(a){return e(Q(a))};a.decode=P;a.traverse=function(a,b,c){var d,f;c=(c||{}).firstModelOnly;var g=b.onModel,e=b.onChain,p=b.onGroup,h=b.onAtom,m=b.onBond,z=0,q=0,k=0,J=0,P=-1,B=a.chainNameList,C=a.secStructList,v=a.insCodeList,r=a.sequenceIndexList,T=a.atomIdList,D=a.bFactorList,w=a.altLocList,L=a.occupancyList,K=a.bondAtomList,u=a.bondOrderList;b=0;for(d=a.chainsPerModel.length;b<d&&!(c&&0<z);++b){var H=a.chainsPerModel[z];g&&g({chainCount:H,modelIndex:z});for(f=0;f<H;++f){var G=
a.groupsPerChain[q];if(e){var l=String.fromCharCode.apply(null,a.chainIdList.subarray(4*q,4*q+4)).replace(/\0/g,"");var A=null;B&&(A=String.fromCharCode.apply(null,B.subarray(4*q,4*q+4)).replace(/\0/g,""));e({groupCount:G,chainIndex:q,modelIndex:z,chainId:l,chainName:A})}for(l=0;l<G;++l){var S=a.groupList[a.groupTypeList[k]],y=S.atomNameList.length;if(p){A=null;C&&(A=C[k]);var R=null;a.insCodeList&&(R=String.fromCharCode(v[k]));var E=null;r&&(E=r[k]);p({atomCount:y,groupIndex:k,chainIndex:q,modelIndex:z,
groupId:a.groupIdList[k],groupType:a.groupTypeList[k],groupName:S.groupName,singleLetterCode:S.singleLetterCode,chemCompType:S.chemCompType,secStruct:A,insCode:R,sequenceIndex:E})}for(A=0;A<y;++A){if(h){R=null;T&&(R=T[J]);E=null;D&&(E=D[J]);var Y=null;w&&(Y=String.fromCharCode(w[J]));var O=null;L&&(O=L[J]);h({atomIndex:J,groupIndex:k,chainIndex:q,modelIndex:z,atomId:R,element:S.elementList[A],atomName:S.atomNameList[A],formalCharge:S.formalChargeList[A],xCoord:a.xCoordList[J],yCoord:a.yCoordList[J],
zCoord:a.zCoordList[J],bFactor:E,altLoc:Y,occupancy:O})}J+=1}if(m)for(E=S.bondAtomList,A=0,R=S.bondOrderList.length;A<R;++A)m({atomIndex1:J-y+E[2*A],atomIndex2:J-y+E[2*A+1],bondOrder:S.bondOrderList[A]});k+=1}q+=1}if(f=P+1,P=J-1,m&&K)for(A=0,R=K.length;A<R;A+=2)H=K[A],G=K[A+1],(H>=f&&H<=P||G>=f&&G<=P)&&m({atomIndex1:H,atomIndex2:G,bondOrder:u?u[A/2]:null});z+=1}};a.fetch=function(a,b,c){T(a,"http://mmtf.rcsb.org/v1.0/full/",b,c)};a.fetchReduced=function(a,b,c){T(a,"http://mmtf.rcsb.org/v1.0/reduced/",
b,c)};a.version="v1.0.0";a.fetchUrl="http://mmtf.rcsb.org/v1.0/full/";a.fetchReducedUrl="http://mmtf.rcsb.org/v1.0/reduced/";a.encodeMsgpack=e;a.encodeMmtf=Q;a.decodeMsgpack=I;a.decodeMmtf=ba;Object.defineProperty(a,"__esModule",{value:!0})}(a.MMTF=a.MMTF||{})})(this);x.exports=function(){return function H(b,e,k){function c(v,r){if(!e[v]){if(!b[v]){if(h)return h(v,!0);r=Error("Cannot find module '"+v+"'");throw r.code="MODULE_NOT_FOUND",r;}r=e[v]={exports:{}};b[v][0].call(r.exports,function(e){return c(b[v][1][e]||
e)},r,r.exports,H,b,e,k)}return e[v].exports}for(var h=!1,v=0;v<k.length;v++)c(k[v]);return c}({1:[function(b,e,k){b="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;k.assign=function(b){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var e=c.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var h in e)e.hasOwnProperty(h)&&(b[h]=e[h])}}return b};k.shrinkBuf=function(b,c){return b.length===c?b:b.subarray?
b.subarray(0,c):(b.length=c,b)};var c={arraySet:function(b,c,e,k,r){if(c.subarray&&b.subarray)b.set(c.subarray(e,e+k),r);else for(var h=0;h<k;h++)b[r+h]=c[e+h]},flattenChunks:function(b){var c,e;var h=e=0;for(c=b.length;h<c;h++)e+=b[h].length;var k=new Uint8Array(e);h=e=0;for(c=b.length;h<c;h++){var q=b[h];k.set(q,e);e+=q.length}return k}},r={arraySet:function(b,c,e,k,r){for(var h=0;h<k;h++)b[r+h]=c[e+h]},flattenChunks:function(b){return[].concat.apply([],b)}};k.setTyped=function(b){b?(k.Buf8=Uint8Array,
k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,c)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,r))};k.setTyped(b)},{}],2:[function(b,e,k){function c(b,c){if(65537>c&&(b.subarray&&v||!b.subarray&&h))return String.fromCharCode.apply(null,r.shrinkBuf(b,c));for(var e="",d=0;d<c;d++)e+=String.fromCharCode(b[d]);return e}var r=b("./common"),h=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch(E){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(E){v=!1}var w=new r.Buf8(256);
for(b=0;256>b;b++)w[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;w[254]=w[254]=1;k.string2buf=function(b){var c,e,d,f,h=b.length,g=0;for(d=0;d<h;d++)55296==(64512&(c=b.charCodeAt(d)))&&d+1<h&&56320==(64512&(e=b.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(e-56320),d++),g+=128>c?1:2048>c?2:65536>c?3:4;var k=new r.Buf8(g);for(d=f=0;f<g;d++)55296==(64512&(c=b.charCodeAt(d)))&&d+1<h&&56320==(64512&(e=b.charCodeAt(d+1)))&&(c=65536+(c-55296<<10)+(e-56320),d++),128>c?k[f++]=c:2048>c?(k[f++]=192|c>>>6,
k[f++]=128|63&c):65536>c?(k[f++]=224|c>>>12,k[f++]=128|c>>>6&63,k[f++]=128|63&c):(k[f++]=240|c>>>18,k[f++]=128|c>>>12&63,k[f++]=128|c>>>6&63,k[f++]=128|63&c);return k};k.buf2binstring=function(b){return c(b,b.length)};k.binstring2buf=function(b){for(var c=new r.Buf8(b.length),e=0,d=c.length;e<d;e++)c[e]=b.charCodeAt(e);return c};k.buf2string=function(b,e){var h,d,f,k=e||b.length,g=Array(2*k);for(e=h=0;e<k;)if(128>(d=b[e++]))g[h++]=d;else if(4<(f=w[d]))g[h++]=65533,e+=f-1;else{for(d&=2===f?31:3===
f?15:7;1<f&&e<k;)d=d<<6|63&b[e++],f--;1<f?g[h++]=65533:65536>d?g[h++]=d:(d-=65536,g[h++]=55296|d>>10&1023,g[h++]=56320|1023&d)}return c(g,h)};k.utf8border=function(b,c){var e;(c=c||b.length)>b.length&&(c=b.length);for(e=c-1;0<=e&&128==(192&b[e]);)e--;return 0>e?c:0===e?c:e+w[b[e]]>c?e:c}},{"./common":1}],3:[function(b,e,k){e.exports=function(b,c,e,k){var h=65535&b|0;b=b>>>16&65535|0;for(var r;0!==e;){e-=r=2E3<e?2E3:e;do b=b+(h=h+c[k++]|0)|0;while(--r);h%=65521;b%=65521}return h|b<<16|0}},{}],4:[function(b,
e,k){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(b,e,k){var c=function(){for(var b,c=[],e=0;256>e;e++){b=e;for(var k=0;8>k;k++)b=1&b?3988292384^
b>>>1:b>>>1;c[e]=b}return c}();e.exports=function(b,e,k,w){k=w+k;for(b^=-1;w<k;w++)b=b>>>8^c[255&(b^e[w])];return-1^b}},{}],6:[function(b,e,k){e.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],7:[function(b,e,k){e.exports=function(b,c){var e,k,r;var l=b.state;var H=b.next_in;var q=b.input;var d=H+(b.avail_in-5);var f=b.next_out;var C=b.output;c=f-(c-b.avail_out);var g=f+(b.avail_out-257);var L=l.dmax;
var K=l.wsize;var B=l.whave;var G=l.wnext;var z=l.window;var m=l.hold;var V=l.bits;var U=l.lencode;var Y=l.distcode;var Z=(1<<l.lenbits)-1;var R=(1<<l.distbits)-1;a:do{15>V&&(m+=q[H++]<<V,V+=8,m+=q[H++]<<V,V+=8);var Q=U[m&Z];b:for(;;){if(m>>>=e=Q>>>24,V-=e,0===(e=Q>>>16&255))C[f++]=65535&Q;else{if(!(16&e)){if(0==(64&e)){Q=U[(65535&Q)+(m&(1<<e)-1)];continue b}if(32&e){l.mode=12;break a}b.msg="invalid literal/length code";l.mode=30;break a}var I=65535&Q;(e&=15)&&(V<e&&(m+=q[H++]<<V,V+=8),I+=m&(1<<e)-
1,m>>>=e,V-=e);15>V&&(m+=q[H++]<<V,V+=8,m+=q[H++]<<V,V+=8);Q=Y[m&R];c:for(;;){if(m>>>=e=Q>>>24,V-=e,!(16&(e=Q>>>16&255))){if(0==(64&e)){Q=Y[(65535&Q)+(m&(1<<e)-1)];continue c}b.msg="invalid distance code";l.mode=30;break a}if(k=65535&Q,V<(e&=15)&&(m+=q[H++]<<V,(V+=8)<e&&(m+=q[H++]<<V,V+=8)),(k+=m&(1<<e)-1)>L){b.msg="invalid distance too far back";l.mode=30;break a}if(m>>>=e,V-=e,k>(e=f-c)){if((e=k-e)>B&&l.sane){b.msg="invalid distance too far back";l.mode=30;break a}if(Q=0,r=z,0===G){if(Q+=K-e,e<
I){I-=e;do C[f++]=z[Q++];while(--e);Q=f-k;r=C}}else if(G<e){if(Q+=K+G-e,(e-=G)<I){I-=e;do C[f++]=z[Q++];while(--e);if(Q=0,G<I){I-=e=G;do C[f++]=z[Q++];while(--e);Q=f-k;r=C}}}else if(Q+=G-e,e<I){I-=e;do C[f++]=z[Q++];while(--e);Q=f-k;r=C}for(;2<I;)C[f++]=r[Q++],C[f++]=r[Q++],C[f++]=r[Q++],I-=3;I&&(C[f++]=r[Q++],1<I&&(C[f++]=r[Q++]))}else{Q=f-k;do C[f++]=C[Q++],C[f++]=C[Q++],C[f++]=C[Q++],I-=3;while(2<I);I&&(C[f++]=C[Q++],1<I&&(C[f++]=C[Q++]))}break}}break}}while(H<d&&f<g);H-=I=V>>3;m&=(1<<(V-=I<<3))-
1;b.next_in=H;b.next_out=f;b.avail_in=H<d?d-H+5:5-(H-d);b.avail_out=f<g?g-f+257:257-(f-g);l.hold=m;l.bits=V}},{}],8:[function(b,e,k){function c(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function r(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=
this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new A.Buf16(320);this.work=new A.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function h(b){var c;return b&&b.state?(c=b.state,b.total_in=b.total_out=c.total=0,b.msg="",c.wrap&&(b.adler=1&c.wrap),c.mode=1,c.last=0,c.havedict=0,c.dmax=32768,c.head=null,c.hold=0,c.bits=0,c.lencode=c.lendyn=new A.Buf32(852),c.distcode=c.distdyn=new A.Buf32(592),c.sane=1,c.back=-1,0):-2}function v(b){var c;return b&&
b.state?((c=b.state).wsize=0,c.whave=0,c.wnext=0,h(b)):-2}function l(b,c){var d,f;return b&&b.state?(f=b.state,0>c?(d=0,c=-c):(d=1+(c>>4),48>c&&(c&=15)),c&&(8>c||15<c)?-2:(null!==f.window&&f.wbits!==c&&(f.window=null),f.wrap=d,f.wbits=c,v(b))):-2}function E(b,c){var d,f;return b?(f=new r,b.state=f,f.window=null,0!==(d=l(b,c))&&(b.state=null),d):-2}var A=b("../utils/common"),q=b("./adler32"),d=b("./crc32"),f=b("./inffast"),C=b("./inftrees"),g,L,K=!0;k.inflateReset=v;k.inflateReset2=l;k.inflateResetKeep=
h;k.inflateInit=function(b){return E(b,15)};k.inflateInit2=E;k.inflate=function(b,e){var h,m,k,r,v,B,l,w,H=0,G=new A.Buf8(4),E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&0!==b.avail_in)return-2;12===(h=b.state).mode&&(h.mode=13);var P=b.next_out;var T=b.output;var S=b.avail_out;var J=b.next_in;var p=b.input;var D=b.avail_in;var O=h.hold;var N=h.bits;var ta=D;var ia=S;var X=0;a:for(;;)switch(h.mode){case 1:if(0===h.wrap){h.mode=13;break}for(;16>N;){if(0===
D)break a;D--;O+=p[J++]<<N;N+=8}if(2&h.wrap&&35615===O){h.check=0;G[0]=255&O;G[1]=O>>>8&255;h.check=d(h.check,G,2,0);N=O=0;h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&O)<<8)+(O>>8))%31){b.msg="incorrect header check";h.mode=30;break}if(8!==(15&O)){b.msg="unknown compression method";h.mode=30;break}if(N-=4,l=8+(15&(O>>>=4)),0===h.wbits)h.wbits=l;else if(l>h.wbits){b.msg="invalid window size";h.mode=30;break}h.dmax=1<<l;b.adler=h.check=1;h.mode=512&O?10:12;N=O=0;break;case 2:for(;16>
N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(h.flags=O,8!==(255&h.flags)){b.msg="unknown compression method";h.mode=30;break}if(57344&h.flags){b.msg="unknown header flags set";h.mode=30;break}h.head&&(h.head.text=O>>8&1);512&h.flags&&(G[0]=255&O,G[1]=O>>>8&255,h.check=d(h.check,G,2,0));N=O=0;h.mode=3;case 3:for(;32>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}h.head&&(h.head.time=O);512&h.flags&&(G[0]=255&O,G[1]=O>>>8&255,G[2]=O>>>16&255,G[3]=O>>>24&255,h.check=d(h.check,G,4,0));N=O=0;h.mode=4;case 4:for(;16>
N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}h.head&&(h.head.xflags=255&O,h.head.os=O>>8);512&h.flags&&(G[0]=255&O,G[1]=O>>>8&255,h.check=d(h.check,G,2,0));N=O=0;h.mode=5;case 5:if(1024&h.flags){for(;16>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}h.length=O;h.head&&(h.head.extra_len=O);512&h.flags&&(G[0]=255&O,G[1]=O>>>8&255,h.check=d(h.check,G,2,0));N=O=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&((m=h.length)>D&&(m=D),m&&(h.head&&(l=h.head.extra_len-h.length,h.head.extra||(h.head.extra=
Array(h.head.extra_len)),A.arraySet(h.head.extra,p,J,m,l)),512&h.flags&&(h.check=d(h.check,p,m,J)),D-=m,J+=m,h.length-=m),h.length))break a;h.length=0;h.mode=7;case 7:if(2048&h.flags){if(0===D)break a;m=0;do l=p[J+m++],h.head&&l&&65536>h.length&&(h.head.name+=String.fromCharCode(l));while(l&&m<D);if(512&h.flags&&(h.check=d(h.check,p,m,J)),D-=m,J+=m,l)break a}else h.head&&(h.head.name=null);h.length=0;h.mode=8;case 8:if(4096&h.flags){if(0===D)break a;m=0;do l=p[J+m++],h.head&&l&&65536>h.length&&(h.head.comment+=
String.fromCharCode(l));while(l&&m<D);if(512&h.flags&&(h.check=d(h.check,p,m,J)),D-=m,J+=m,l)break a}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;16>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(O!==(65535&h.check)){b.msg="header crc mismatch";h.mode=30;break}N=O=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0);b.adler=h.check=0;h.mode=12;break;case 10:for(;32>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}b.adler=h.check=c(O);N=O=0;h.mode=11;case 11:if(0===h.havedict)return b.next_out=
P,b.avail_out=S,b.next_in=J,b.avail_in=D,h.hold=O,h.bits=N,2;b.adler=h.check=1;h.mode=12;case 12:if(5===e||6===e)break a;case 13:if(h.last){O>>>=7&N;N-=7&N;h.mode=27;break}for(;3>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}switch(h.last=1&O,--N,3&(O>>>=1)){case 0:h.mode=14;break;case 1:var W=h;if(K){g=new A.Buf32(512);L=new A.Buf32(32);for(r=0;144>r;)W.lens[r++]=8;for(;256>r;)W.lens[r++]=9;for(;280>r;)W.lens[r++]=7;for(;288>r;)W.lens[r++]=8;C(1,W.lens,0,288,g,0,W.work,{bits:9});for(r=0;32>r;)W.lens[r++]=
5;C(2,W.lens,0,32,L,0,W.work,{bits:5});K=!1}W.lencode=g;W.lenbits=9;W.distcode=L;W.distbits=5;if(h.mode=20,6===e){O>>>=2;N-=2;break a}break;case 2:h.mode=17;break;case 3:b.msg="invalid block type",h.mode=30}O>>>=2;N-=2;break;case 14:O>>>=7&N;for(N-=7&N;32>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if((65535&O)!=(O>>>16^65535)){b.msg="invalid stored block lengths";h.mode=30;break}if(h.length=65535&O,O=0,N=0,h.mode=15,6===e)break a;case 15:h.mode=16;case 16:if(m=h.length){if(m>D&&(m=D),m>S&&(m=S),0===
m)break a;A.arraySet(T,p,J,m,P);D-=m;J+=m;S-=m;P+=m;h.length-=m;break}h.mode=12;break;case 17:for(;14>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(h.nlen=257+(31&O),O>>>=5,N-=5,h.ndist=1+(31&O),O>>>=5,N-=5,h.ncode=4+(15&O),O>>>=4,N-=4,286<h.nlen||30<h.ndist){b.msg="too many length or distance symbols";h.mode=30;break}h.have=0;h.mode=18;case 18:for(;h.have<h.ncode;){for(;3>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}h.lens[E[h.have++]]=7&O;O>>>=3;N-=3}for(;19>h.have;)h.lens[E[h.have++]]=0;if(h.lencode=
h.lendyn,h.lenbits=7,w={bits:h.lenbits},X=C(0,h.lens,0,19,h.lencode,0,h.work,w),h.lenbits=w.bits,X){b.msg="invalid code lengths set";h.mode=30;break}h.have=0;h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;H=h.lencode[O&(1<<h.lenbits)-1],v=65535&H,!((r=H>>>24)<=N);){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(16>v)O>>>=r,N-=r,h.lens[h.have++]=v;else{if(16===v){for(W=r+2;N<W;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(O>>>=r,N-=r,0===h.have){b.msg="invalid bit length repeat";h.mode=30;break}l=h.lens[h.have-
1];m=3+(3&O);O>>>=2;N-=2}else if(17===v){for(W=r+3;N<W;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}N-=r;l=0;m=3+(7&(O>>>=r));O>>>=3;N-=3}else{for(W=r+7;N<W;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}N-=r;l=0;m=11+(127&(O>>>=r));O>>>=7;N-=7}if(h.have+m>h.nlen+h.ndist){b.msg="invalid bit length repeat";h.mode=30;break}for(;m--;)h.lens[h.have++]=l}}if(30===h.mode)break;if(0===h.lens[256]){b.msg="invalid code -- missing end-of-block";h.mode=30;break}if(h.lenbits=9,w={bits:h.lenbits},X=C(1,h.lens,0,h.nlen,
h.lencode,0,h.work,w),h.lenbits=w.bits,X){b.msg="invalid literal/lengths set";h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,w={bits:h.distbits},X=C(2,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,w),h.distbits=w.bits,X){b.msg="invalid distances set";h.mode=30;break}if(h.mode=20,6===e)break a;case 20:h.mode=21;case 21:if(6<=D&&258<=S){b.next_out=P;b.avail_out=S;b.next_in=J;b.avail_in=D;h.hold=O;h.bits=N;f(b,ia);P=b.next_out;T=b.output;S=b.avail_out;J=b.next_in;p=b.input;D=b.avail_in;O=h.hold;N=
h.bits;12===h.mode&&(h.back=-1);break}for(h.back=0;W=(H=h.lencode[O&(1<<h.lenbits)-1])>>>16&255,v=65535&H,!((r=H>>>24)<=N);){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(W&&0==(240&W)){var x=r;var ka=W;for(B=v;W=(H=h.lencode[B+((O&(1<<x+ka)-1)>>x)])>>>16&255,v=65535&H,!(x+(r=H>>>24)<=N);){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}O>>>=x;N-=x;h.back+=x}if(O>>>=r,N-=r,h.back+=r,h.length=v,0===W){h.mode=26;break}if(32&W){h.back=-1;h.mode=12;break}if(64&W){b.msg="invalid literal/length code";h.mode=30;break}h.extra=
15&W;h.mode=22;case 22:if(h.extra){for(W=h.extra;N<W;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}h.length+=O&(1<<h.extra)-1;O>>>=h.extra;N-=h.extra;h.back+=h.extra}h.was=h.length;h.mode=23;case 23:for(;W=(H=h.distcode[O&(1<<h.distbits)-1])>>>16&255,v=65535&H,!((r=H>>>24)<=N);){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(0==(240&W)){x=r;ka=W;for(B=v;W=(H=h.distcode[B+((O&(1<<x+ka)-1)>>x)])>>>16&255,v=65535&H,!(x+(r=H>>>24)<=N);){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}O>>>=x;N-=x;h.back+=x}if(O>>>=r,N-=
r,h.back+=r,64&W){b.msg="invalid distance code";h.mode=30;break}h.offset=v;h.extra=15&W;h.mode=24;case 24:if(h.extra){for(W=h.extra;N<W;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}h.offset+=O&(1<<h.extra)-1;O>>>=h.extra;N-=h.extra;h.back+=h.extra}if(h.offset>h.dmax){b.msg="invalid distance too far back";h.mode=30;break}h.mode=25;case 25:if(0===S)break a;if(m=ia-S,h.offset>m){if((m=h.offset-m)>h.whave&&h.sane){b.msg="invalid distance too far back";h.mode=30;break}m>h.wnext?(m-=h.wnext,k=h.wsize-m):k=
h.wnext-m;m>h.length&&(m=h.length);r=h.window}else r=T,k=P-h.offset,m=h.length;m>S&&(m=S);S-=m;h.length-=m;do T[P++]=r[k++];while(--m);0===h.length&&(h.mode=21);break;case 26:if(0===S)break a;T[P++]=h.length;S--;h.mode=21;break;case 27:if(h.wrap){for(;32>N;){if(0===D)break a;D--;O|=p[J++]<<N;N+=8}if(ia-=S,b.total_out+=ia,h.total+=ia,ia&&(b.adler=h.check=h.flags?d(h.check,T,ia,P-ia):q(h.check,T,ia,P-ia)),ia=S,(h.flags?O:c(O))!==h.check){b.msg="incorrect data check";h.mode=30;break}N=O=0}h.mode=28;
case 28:if(h.wrap&&h.flags){for(;32>N;){if(0===D)break a;D--;O+=p[J++]<<N;N+=8}if(O!==(4294967295&h.total)){b.msg="incorrect length check";h.mode=30;break}N=O=0}h.mode=29;case 29:X=1;break a;case 30:X=-3;break a;case 31:return-4;default:return-2}b.next_out=P;b.avail_out=S;b.next_in=J;b.avail_in=D;h.hold=O;h.bits=N;if(J=h.wsize||ia!==b.avail_out&&30>h.mode&&(27>h.mode||4!==e)){J=b.output;P=b.next_out;p=ia-b.avail_out;var F;D=b.state;J=(null===D.window&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=
new A.Buf8(D.wsize)),p>=D.wsize?(A.arraySet(D.window,J,P-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):((F=D.wsize-D.wnext)>p&&(F=p),A.arraySet(D.window,J,P-p,F,D.wnext),(p-=F)?(A.arraySet(D.window,J,P-p,p,0),D.wnext=p,D.whave=D.wsize):(D.wnext+=F,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=F))),0)}return J?(h.mode=31,-4):(ta-=b.avail_in,ia-=b.avail_out,b.total_in+=ta,b.total_out+=ia,h.total+=ia,h.wrap&&ia&&(b.adler=h.check=h.flags?d(h.check,T,ia,b.next_out-ia):q(h.check,T,ia,b.next_out-
ia)),b.data_type=h.bits+(h.last?64:0)+(12===h.mode?128:0)+(20===h.mode||15===h.mode?256:0),(0===ta&&0===ia||4===e)&&0===X&&(X=-5),X)};k.inflateEnd=function(b){if(!b||!b.state)return-2;var c=b.state;return c.window&&(c.window=null),b.state=null,0};k.inflateGetHeader=function(b,c){var d;return b&&b.state?0==(2&(d=b.state).wrap)?-2:(d.head=c,c.done=!1,0):-2};k.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(b,
e,k){var c=b("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(b,e,q,d,f,k,g,L){var C,B,H,z,m,w,A=L.bits,
Y,Z,R,E,I,ca=0,x,P=null,T=0,S=new c.Buf16(16);var J=new c.Buf16(16);var p=null,D=0;for(Y=0;15>=Y;Y++)S[Y]=0;for(Z=0;Z<d;Z++)S[e[q+Z]]++;var O=A;for(R=15;1<=R&&0===S[R];R--);if(O>R&&(O=R),0===R)return f[k++]=20971520,f[k++]=20971520,L.bits=1,0;for(A=1;A<R&&0===S[A];A++);O<A&&(O=A);for(Y=C=1;15>=Y;Y++)if(C<<=1,0>(C-=S[Y]))return-1;if(0<C&&(0===b||1!==R))return-1;J[1]=0;for(Y=1;15>Y;Y++)J[Y+1]=J[Y]+S[Y];for(Z=0;Z<d;Z++)0!==e[q+Z]&&(g[J[e[q+Z]]++]=Z);if(0===b?(P=p=g,z=19):1===b?(P=r,T-=257,p=h,D-=257,
z=256):(P=v,p=l,z=-1),x=0,Z=0,Y=A,J=k,E=O,I=0,H=-1,d=(ca=1<<O)-1,1===b&&852<ca||2===b&&592<ca)return 1;for(;;){0;var N=Y-I;g[Z]<z?(m=0,w=g[Z]):g[Z]>z?(m=p[D+g[Z]],w=P[T+g[Z]]):(m=96,w=0);C=1<<Y-I;A=B=1<<E;do f[J+(x>>I)+(B-=C)]=N<<24|m<<16|w|0;while(0!==B);for(C=1<<Y-1;x&C;)C>>=1;if(0!==C?(x&=C-1,x+=C):x=0,Z++,0==--S[Y]){if(Y===R)break;Y=e[q+g[Z]]}if(Y>O&&(x&d)!==H){0===I&&(I=O);J+=A;for(C=1<<(E=Y-I);E+I<R&&!(0>=(C-=S[E+I]));)E++,C<<=1;if(ca+=1<<E,1===b&&852<ca||2===b&&592<ca)return 1;f[H=x&d]=O<<
24|E<<16|J-k|0}}return 0!==x&&(f[J+x]=Y-I<<24|4194304),L.bits=O,0}},{"../utils/common":1}],10:[function(b,e,k){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(b,e,k){e.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=
2;this.adler=0}},{}],"/lib/inflate.js":[function(b,e,k){function c(b,c){c=new f(c);if(c.push(b,!0),c.err)throw c.msg;return c.result}var r=b("./zlib/inflate.js"),h=b("./utils/common"),v=b("./utils/strings"),l=b("./zlib/constants"),E=b("./zlib/messages"),A=b("./zlib/zstream"),q=b("./zlib/gzheader"),d=Object.prototype.toString,f=function(b){var c=this.options=h.assign({chunkSize:16384,windowBits:0,to:""},b||{});c.raw&&0<=c.windowBits&&16>c.windowBits&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=
-15));!(0<=c.windowBits&&16>c.windowBits)||b&&b.windowBits||(c.windowBits+=32);15<c.windowBits&&48>c.windowBits&&0==(15&c.windowBits)&&(c.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new A;this.strm.avail_out=0;b=r.inflateInit2(this.strm,c.windowBits);if(b!==l.Z_OK)throw Error(E[b]);this.header=new q;r.inflateGetHeader(this.strm,this.header)};f.prototype.push=function(b,c){var f,g,e,q,k=this.strm,m=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?l.Z_FINISH:
l.Z_NO_FLUSH;"string"==typeof b?k.input=v.binstring2buf(b):"[object ArrayBuffer]"===d.call(b)?k.input=new Uint8Array(b):k.input=b;k.next_in=0;k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new h.Buf8(m),k.next_out=0,k.avail_out=m),(f=r.inflate(k,l.Z_NO_FLUSH))!==l.Z_STREAM_END&&f!==l.Z_OK)return this.onEnd(f),this.ended=!0,!1;k.next_out&&(0!==k.avail_out&&f!==l.Z_STREAM_END&&(0!==k.avail_in||c!==l.Z_FINISH&&c!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(g=v.utf8border(k.output,k.next_out),
e=k.next_out-g,q=v.buf2string(k.output,g),k.next_out=e,k.avail_out=m-e,e&&h.arraySet(k.output,k.output,g,e,0),this.onData(q)):this.onData(h.shrinkBuf(k.output,k.next_out))))}while(0<k.avail_in&&f!==l.Z_STREAM_END);return f===l.Z_STREAM_END&&(c=l.Z_FINISH),c===l.Z_FINISH?(f=r.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===l.Z_OK):c!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),k.avail_out=0,!0)};f.prototype.onData=function(b){this.chunks.push(b)};f.prototype.onEnd=function(b){b===l.Z_OK&&("string"===
this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};k.Inflate=f;k.inflate=c;k.inflateRaw=function(b,d){return(d=d||{}).raw=!0,c(b,d)};k.ungzip=c},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")}();(function(a,b){x.exports=b()})(this,function(){return function(a){function b(c){if(e[c])return e[c].exports;
var k=e[c]={i:c,l:!1,exports:{}};return a[c].call(k.exports,k,k.exports,b),k.l=!0,k.exports}var e={};return b.m=a,b.c=e,b.i=function(a){return a},b.d=function(a,c,e){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:e})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=6)}([function(a,b,e){function c(a){0!=a.offset%4&&a.skip(4-a.offset%
4)}a.exports.notNetcdf=function(a,b){if(a)throw new TypeError("Not a valid NetCDF v3.x file: "+b);};a.exports.padding=c;a.exports.readName=function(a){var b=a.readUint32();b=a.readChars(b);return c(a),b}},function(a,b,e){function c(a,b){if(1!==a){for(var c=Array(a),e=0;e<a;e++)c[e]=b();return c}return b()}var l=e(0).notNetcdf,r={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};a.exports=r;a.exports.num2str=function(a){switch(Number(a)){case r.BYTE:return"byte";case r.CHAR:return"char";case r.SHORT:return"short";
case r.INT:return"int";case r.FLOAT:return"float";case r.DOUBLE:return"double";default:return"undefined"}};a.exports.num2bytes=function(a){switch(Number(a)){case r.BYTE:case r.CHAR:return 1;case r.SHORT:return 2;case r.INT:case r.FLOAT:return 4;case r.DOUBLE:return 8;default:return-1}};a.exports.str2num=function(a){switch(String(a)){case "byte":return r.BYTE;case "char":return r.CHAR;case "short":return r.SHORT;case "int":return r.INT;case "float":return r.FLOAT;case "double":return r.DOUBLE;default:return-1}};
a.exports.readType=function(a,b,e){switch(b){case r.BYTE:return a.readBytes(e);case r.CHAR:return 0===(h=a.readChars(e)).charCodeAt(h.length-1)?h.substring(0,h.length-1):h;case r.SHORT:return c(e,a.readInt16.bind(a));case r.INT:return c(e,a.readInt32.bind(a));case r.FLOAT:return c(e,a.readFloat32.bind(a));case r.DOUBLE:return c(e,a.readFloat64.bind(a));default:return void l(!0,"non valid type "+b)}var h}},function(a,b){b=function(){return this}();try{b=b||Function("return this")()||(0,eval)("this")}catch(e){"object"==
typeof window&&(b=window)}a.exports=b},function(a,b,e){var c=e(1);a.exports.nonRecord=function(a,b){var e=c.str2num(b.type);b=b.size/c.num2bytes(e);for(var k=Array(b),r=0;r<b;r++)k[r]=c.readType(a,e,1);return k};a.exports.record=function(a,b,e){var h=c.str2num(b.type);b=b.size?b.size/c.num2bytes(h):1;var k=e.length,r=Array(k);e=e.recordStep;for(var l=0;l<k;l++){var q=a.offset;r[l]=c.readType(a,h,b);a.seek(q+e)}return r}},function(a,b,e){function c(a){var b=a.readUint32();if(0===b)return l.notNetcdf(0!==
a.readUint32(),"wrong empty tag for list of attributes"),[];l.notNetcdf(12!==b,"wrong tag for list of attributes");b=a.readUint32();for(var c=Array(b),e=0;e<b;e++){var h=l.readName(a),q=a.readUint32();l.notNetcdf(1>q||6<q,"non valid type "+q);var d=a.readUint32();d=r.readType(a,q,d);l.padding(a);c[e]={name:h,type:r.num2str(q),value:d}}return c}var l=e(0),r=e(1);a.exports=function(a,b){var e={recordDimension:{length:a.readUint32()}};e.version=b;var h=function(a){var b,c,f=a.readUint32();if(0===f)return l.notNetcdf(0!==
a.readUint32(),"wrong empty tag for list of dimensions"),[];l.notNetcdf(10!==f,"wrong tag for list of dimensions");f=a.readUint32();for(var e=Array(f),g=0;g<f;g++){var h=l.readName(a),k=a.readUint32();0===k&&(b=g,c=h);e[g]={name:h,size:k}}return{dimensions:e,recordId:b,recordName:c}}(a);e.recordDimension.id=h.recordId;e.recordDimension.name=h.recordName;e.dimensions=h.dimensions;e.globalAttributes=c(a);a=function(a,b,d){var f=a.readUint32(),e=0;if(0===f)return l.notNetcdf(0!==a.readUint32(),"wrong empty tag for list of variables"),
[];l.notNetcdf(11!==f,"wrong tag for list of variables");f=a.readUint32();for(var g=Array(f),h=0;h<f;h++){for(var q=l.readName(a),k=a.readUint32(),v=Array(k),z=0;z<k;z++)v[z]=a.readUint32();k=c(a);z=a.readUint32();l.notNetcdf(1>z&&6<z,"non valid type "+z);var m=a.readUint32(),w=a.readUint32();2===d&&(l.notNetcdf(0<w,"offsets larger than 4GB not supported"),w=a.readUint32());v[0]===b&&(e+=m);g[h]={name:q,dimensions:v,attributes:k,type:r.num2str(z),size:m,offset:w,record:v[0]===b}}return{variables:g,
recordStep:e}}(a,h.recordId,b);return e.variables=a.variables,e.recordDimension.recordStep=a.recordStep,e}},function(a,b,e){(function(b){var c=e(11),k=[];a.exports=function(a,b){b=b||{};var c=!1;void 0===a&&(a=8192);"number"==typeof a?a=new ArrayBuffer(a):(c=!0,this._lastWrittenByte=a.byteLength);b=b.offset?b.offset>>>0:0;var e=a.byteLength-b,h=b;a.buffer&&(a.byteLength!==a.buffer.byteLength&&(h=a.byteOffset+b),a=a.buffer);this._lastWrittenByte=c?e:0;this.buffer=a;this.byteLength=this.length=e;this.byteOffset=
h;this.offset=0;this.littleEndian=!0;this._data=new DataView(this.buffer,h,e);this._mark=0;this._marks=[]};a.exports.prototype.available=function(a){return void 0===a&&(a=1),this.offset+a<=this.length};a.exports.prototype.isLittleEndian=function(){return this.littleEndian};a.exports.prototype.setLittleEndian=function(){return this.littleEndian=!0,this};a.exports.prototype.isBigEndian=function(){return!this.littleEndian};a.exports.prototype.setBigEndian=function(){return this.littleEndian=!1,this};
a.exports.prototype.skip=function(a){return void 0===a&&(a=1),this.offset+=a,this};a.exports.prototype.seek=function(a){return this.offset=a,this};a.exports.prototype.mark=function(){return this._mark=this.offset,this};a.exports.prototype.reset=function(){return this.offset=this._mark,this};a.exports.prototype.pushMark=function(){return this._marks.push(this.offset),this};a.exports.prototype.popMark=function(){var a=this._marks.pop();if(void 0===a)throw Error("Mark stack empty");return this.seek(a),
this};a.exports.prototype.rewind=function(){return this.offset=0,this};a.exports.prototype.ensureAvailable=function(a){if(void 0===a&&(a=1),!this.available(a)){a=2*(this.offset+a);var b=new Uint8Array(a);b.set(new Uint8Array(this.buffer));this.buffer=b.buffer;this.length=this.byteLength=a;this._data=new DataView(this.buffer)}return this};a.exports.prototype.readBoolean=function(){return 0!==this.readUint8()};a.exports.prototype.readInt8=function(){return this._data.getInt8(this.offset++)};a.exports.prototype.readUint8=
function(){return this._data.getUint8(this.offset++)};a.exports.prototype.readByte=function(){return this.readUint8()};a.exports.prototype.readBytes=function(a){void 0===a&&(a=1);for(var b=new Uint8Array(a),c=0;c<a;c++)b[c]=this.readByte();return b};a.exports.prototype.readInt16=function(){var a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a};a.exports.prototype.readUint16=function(){var a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a};a.exports.prototype.readInt32=
function(){var a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readUint32=function(){var a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readFloat32=function(){var a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a};a.exports.prototype.readFloat64=function(){var a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a};a.exports.prototype.readChar=
function(){return String.fromCharCode(this.readInt8())};a.exports.prototype.readChars=function(a){void 0===a&&(a=1);k.length=a;for(var b=0;b<a;b++)k[b]=this.readChar();return k.join("")};a.exports.prototype.readUtf8=function(a){void 0===a&&(a=1);a=this.readChars(a);return c.decode(a)};a.exports.prototype.writeBoolean=function(a){return this.writeUint8(a?255:0),this};a.exports.prototype.writeInt8=function(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),
this};a.exports.prototype.writeUint8=function(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,a),this._updateLastWrittenByte(),this};a.exports.prototype.writeByte=function(a){return this.writeUint8(a)};a.exports.prototype.writeBytes=function(a){this.ensureAvailable(a.length);for(var b=0;b<a.length;b++)this._data.setUint8(this.offset++,a[b]);return this._updateLastWrittenByte(),this};a.exports.prototype.writeInt16=function(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,
a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this};a.exports.prototype.writeUint16=function(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this};a.exports.prototype.writeInt32=function(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeUint32=function(a){return this.ensureAvailable(4),
this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeFloat32=function(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this};a.exports.prototype.writeFloat64=function(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this};a.exports.prototype.writeChar=function(a){return this.writeUint8(a.charCodeAt(0))};
a.exports.prototype.writeChars=function(a){for(var b=0;b<a.length;b++)this.writeUint8(a.charCodeAt(b));return this};a.exports.prototype.writeUtf8=function(a){a=c.encode(a);return this.writeChars(a)};a.exports.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)};a.exports.prototype.getBuffer=function(){return void 0!==b?b.from(this.toArray()):this.toArray()};a.exports.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=
this.offset)}}).call(b,e(8).Buffer)},function(a,b,e){var c=e(5),l=e(0),r=e(3),h=e(4);a.exports=function(a){a=new c(a);a.setBigEndian();l.notNetcdf("CDF"!==a.readChars(3),"should start with CDF");var b=a.readByte();l.notNetcdf(2<b,"unknown version");this.header=h(a,b);this.buffer=a};a.exports.prototype.getDataVariable=function(a){var b;return b="string"==typeof a?this.header.variables.find(function(b){return b.name===a}):a,l.notNetcdf(void 0===b,"variable not found"),this.buffer.seek(b.offset),b.record?
r.record(this.buffer,b,this.header.recordDimension):r.nonRecord(this.buffer,b)};$jscomp.global.Object.defineProperties(a.exports.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return 1===this.header.version?"classic format":"64-bit offset format"}},recordDimension:{configurable:!0,enumerable:!0,get:function(){return this.header.recordDimension}},dimensions:{configurable:!0,enumerable:!0,get:function(){return this.header.dimensions}},globalAttributes:{configurable:!0,enumerable:!0,
get:function(){return this.header.globalAttributes}},variables:{configurable:!0,enumerable:!0,get:function(){return this.header.variables}}})},function(a,b,e){function c(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function l(a,b,c){for(var e,d=[],f=b;f<c;f+=3)b=(a[f]<<16)+(a[f+1]<<8)+a[f+2],d.push(r[(e=b)>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]);return d.join("")}b.byteLength=function(a){return 3*a.length/4-c(a)};b.toByteArray=
function(a){var b=a.length;var e=c(a);var q=new v(3*b/4-e);var d=0<e?b-4:b;var f=0;for(b=0;b<d;b+=4){var k=h[a.charCodeAt(b)]<<18|h[a.charCodeAt(b+1)]<<12|h[a.charCodeAt(b+2)]<<6|h[a.charCodeAt(b+3)];q[f++]=k>>16&255;q[f++]=k>>8&255;q[f++]=255&k}2===e?(k=h[a.charCodeAt(b)]<<2|h[a.charCodeAt(b+1)]>>4,q[f++]=255&k):1===e&&(k=h[a.charCodeAt(b)]<<10|h[a.charCodeAt(b+1)]<<4|h[a.charCodeAt(b+2)]>>2,q[f++]=k>>8&255,q[f++]=255&k);return q};b.fromByteArray=function(a){for(var b,c=a.length,e=c%3,d="",f=[],
h=0,g=c-e;h<g;h+=16383)f.push(l(a,h,h+16383>g?g:h+16383));1===e?(b=a[c-1],d+=r[b>>2],d+=r[b<<4&63],d+="=="):2===e&&(b=(a[c-2]<<8)+a[c-1],d+=r[b>>10],d+=r[b>>4&63],d+=r[b<<2&63],d+="=");return f.push(d),f.join("")};var r=[],h=[],v="undefined"!=typeof Uint8Array?Uint8Array:Array;for(a=0;64>a;++a)r[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;h[45]=62;h[95]=63},function(a,b,e){(function(a){function c(a,
b){if((k.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");return k.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b)).__proto__=k.prototype:(null===a&&(a=new k(b)),a.length=b),a}function k(a,b,c){if(!(k.TYPED_ARRAY_SUPPORT||this instanceof k))return new k(a,b,c);if("number"==typeof a){if("string"==typeof b)throw Error("If encoding is specified then the first argument must be a string");return w(this,a)}return h(this,a,b,c)}function h(a,b,d,f){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');
return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?function(a,b,c,d){if(b.byteLength,0>c||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d);k.TYPED_ARRAY_SUPPORT?(a=b).__proto__=k.prototype:a=E(a,b);return a}(a,b,d,f):"string"==typeof b?function(a,b,d){"string"==typeof d&&""!==d||(d="utf8");if(!k.isEncoding(d))throw new TypeError('"encoding" must be a valid string encoding');
var f=0|q(b,d);b=(a=c(a,f)).write(b,d);b!==f&&(a=a.slice(0,b));return a}(a,b,d):function(a,b){if(k.isBuffer(b)){var d=0|A(b.length);return 0===(a=c(a,d)).length?a:(b.copy(a,0,0,d),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||(d=b.length)!=d?c(a,0):E(a,b);if("Buffer"===b.type&&I(b.data))return E(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}(a,b)}function l(a){if("number"!=
typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');}function w(a,b){if(l(b),a=c(a,0>b?0:0|A(b)),!k.TYPED_ARRAY_SUPPORT)for(var d=0;d<b;++d)a[d]=0;return a}function E(a,b){var d=0>b.length?0:0|A(b.length);a=c(a,d);for(var f=0;f<d;f+=1)a[f]=255&b[f];return a}function A(a){if(a>=(k.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(k.TYPED_ARRAY_SUPPORT?
2147483647:1073741823).toString(16)+" bytes");return 0|a}function q(a,b){if(k.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case "ascii":case "latin1":case "binary":return c;case "utf8":case "utf-8":case void 0:return U(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
c;case "hex":return c>>>1;case "base64":return Y(a).length;default:if(d)return U(a).length;b=(""+b).toLowerCase();d=!0}}function d(a,b,c){var d=!1;if(((void 0===b||0>b)&&(b=0),b>this.length)||((void 0===c||c>this.length)&&(c=this.length),0>=c)||(c>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=c;c=this.length;(!a||0>a)&&(a=0);(!b||0>b||b>c)&&(b=c);d="";for(c=a;c<b;++c)a=d,d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=a+d;return d;case "utf8":case "utf-8":return K(this,
b,c);case "ascii":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(127&this[b]);return a;case "latin1":case "binary":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return 0===b&&c===this.length?R.fromByteArray(this):R.fromByteArray(this.slice(b,c));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,c);c="";for(a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+
a);a=(a+"").toLowerCase();d=!0}}function f(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function C(a,b,c,d,f){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648),c=+c,isNaN(c)&&(c=f?0:a.length-1),0>c&&(c=a.length+c),c>=a.length){if(f)return-1;c=a.length-1}else if(0>c){if(!f)return-1;c=0}if("string"==typeof b&&(b=k.from(b,d)),k.isBuffer(b))return 0===b.length?-1:g(a,b,c,d,f);if("number"==typeof b)return b&=255,k.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?
f?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):g(a,[b],c,d,f);throw new TypeError("val must be string, number or Buffer");}function g(a,b,c,d,f){function g(a,b){return 1===e?a[b]:a.readUInt16BE(b*e)}var e=1,h=a.length,p=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(2>a.length||2>b.length)return-1;e=2;h/=2;p/=2;c/=2}if(f)for(d=-1;c<h;c++)if(g(a,c)===g(b,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===
p)return d*e}else-1!==d&&(c-=c-d),d=-1;else for(c+p>h&&(c=h-p);0<=c;c--){h=!0;for(d=0;d<p;d++)if(g(a,c+d)!==g(b,d)){h=!1;break}if(h)return c}return-1}function L(a,b,c,d){for(var f=[],g=0;g<b.length;++g)f.push(255&b.charCodeAt(g));return Z(f,a,c,d)}function K(a,b,c){c=Math.min(a.length,c);for(var d=[];b<c;){var f,g,e=a[b],h=null,m=239<e?4:223<e?3:191<e?2:1;if(b+m<=c)switch(m){case 1:128>e&&(h=e);break;case 2:128==(192&(f=a[b+1]))&&127<(g=(31&e)<<6|63&f)&&(h=g);break;case 3:f=a[b+1];var k=a[b+2];128==
(192&f)&&128==(192&k)&&2047<(g=(15&e)<<12|(63&f)<<6|63&k)&&(55296>g||57343<g)&&(h=g);break;case 4:f=a[b+1];k=a[b+2];var q=a[b+3];128==(192&f)&&128==(192&k)&&128==(192&q)&&65535<(g=(15&e)<<18|(63&f)<<12|(63&k)<<6|63&q)&&1114112>g&&(h=g)}null===h?(h=65533,m=1):65535<h&&(h-=65536,d.push(h>>>10&1023|55296),h=56320|1023&h);d.push(h);b+=m}a=d.length;if(a<=ca)d=String.fromCharCode.apply(String,d);else{c="";for(f=0;f<a;)c+=String.fromCharCode.apply(String,d.slice(f,f+=ca));d=c}return d}function B(a,b,c){if(0!=
a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");}function G(a,b,c,d,f,g){if(!k.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>f||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range");}function z(a,b,c,d){0>b&&(b=65535+b+1);for(var f=0,g=Math.min(a.length-c,2);f<g;++f)a[c+f]=(b&255<<8*(d?f:1-f))>>>8*(d?f:1-f)}function m(a,
b,c,d){0>b&&(b=4294967295+b+1);for(var f=0,g=Math.min(a.length-c,4);f<g;++f)a[c+f]=b>>>8*(d?f:3-f)&255}function V(a,b,c,d,f,g){if(c+d>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");}function U(a,b){var c;b=b||1/0;for(var d=a.length,f=null,g=[],e=0;e<d;++e){if(55295<(c=a.charCodeAt(e))&&57344>c){if(!f){if(56319<c){-1<(b-=3)&&g.push(239,191,189);continue}if(e+1===d){-1<(b-=3)&&g.push(239,191,189);continue}f=c;continue}if(56320>c){-1<(b-=3)&&g.push(239,
191,189);f=c;continue}c=65536+(f-55296<<10|c-56320)}else f&&-1<(b-=3)&&g.push(239,191,189);if(f=null,128>c){if(0>--b)break;g.push(c)}else if(2048>c){if(0>(b-=2))break;g.push(c>>6|192,63&c|128)}else if(65536>c){if(0>(b-=3))break;g.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(1114112>c))throw Error("Invalid code point");if(0>(b-=4))break;g.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return g}function Y(a){return R.toByteArray(function(a){if(2>(a=(a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")).replace(x,
"")).length)return"";for(;0!=a.length%4;)a+="=";return a}(a))}function Z(a,b,c,d){for(var f=0;f<d&&!(f+c>=b.length||f>=a.length);++f)b[f+c]=a[f];return f}var R=e(7),Q=e(9),I=e(10);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();b.Buffer=k;b.SlowBuffer=function(a){+a!=a&&(a=0);return k.alloc(+a)};b.INSPECT_MAX_BYTES=50;k.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,
foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(T){return!1}}();b.kMaxLength=k.TYPED_ARRAY_SUPPORT?2147483647:1073741823;k.poolSize=8192;k._augment=function(a){return a.__proto__=k.prototype,a};k.from=function(a,b,c){return h(null,a,b,c)};k.TYPED_ARRAY_SUPPORT&&(k.prototype.__proto__=Uint8Array.prototype,k.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&k[Symbol.species]===k&&Object.defineProperty(k,Symbol.species,{value:null,
configurable:!0}));k.alloc=function(a,b,d){return l(a),0>=a?c(null,a):void 0!==b?"string"==typeof d?c(null,a).fill(b,d):c(null,a).fill(b):c(null,a)};k.allocUnsafe=function(a){return w(null,a)};k.allocUnsafeSlow=function(a){return w(null,a)};k.isBuffer=function(a){return!(null==a||!a._isBuffer)};k.compare=function(a,b){if(!k.isBuffer(a)||!k.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,f=0,g=Math.min(c,d);f<g;++f)if(a[f]!==b[f]){c=a[f];
d=b[f];break}return c<d?-1:d<c?1:0};k.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.concat=function(a,b){if(!I(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return k.alloc(0);var c;if(void 0===b)for(c=b=0;c<a.length;++c)b+=a[c].length;b=k.allocUnsafe(b);var d=0;for(c=0;c<a.length;++c){var f=
a[c];if(!k.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(b,d);d+=f.length}return b};k.byteLength=q;k.prototype._isBuffer=!0;k.prototype.swap16=function(){var a=this.length;if(0!=a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)f(this,b,b+1);return this};k.prototype.swap32=function(){var a=this.length;if(0!=a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)f(this,b,b+3),f(this,
b+1,b+2);return this};k.prototype.swap64=function(){var a=this.length;if(0!=a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)f(this,b,b+7),f(this,b+1,b+6),f(this,b+2,b+5),f(this,b+3,b+4);return this};k.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?K(this,0,a):d.apply(this,arguments)};k.prototype.equals=function(a){if(!k.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===k.compare(this,
a)};k.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return 0<this.length&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"};k.prototype.compare=function(a,b,c,d,f){if(!k.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===f&&(f=this.length),0>b||c>a.length||0>d||f>this.length)throw new RangeError("out of range index");if(d>=f&&b>=c)return 0;if(d>=f)return-1;
if(b>=c)return 1;if(this===a)return 0;var g=(f>>>=0)-(d>>>=0),e=(c>>>=0)-(b>>>=0),h=Math.min(g,e);d=this.slice(d,f);a=a.slice(b,c);for(b=0;b<h;++b)if(d[b]!==a[b]){g=d[b];e=a[b];break}return g<e?-1:e<g?1:0};k.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};k.prototype.indexOf=function(a,b,c){return C(this,a,b,c,!0)};k.prototype.lastIndexOf=function(a,b,c){return C(this,a,b,c,!1)};k.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==
typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0;isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var f=this.length-b;if((void 0===c||c>f)&&(c=f),0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(f=!1;;)switch(d){case "hex":a:{b=Number(b)||0;d=this.length-b;c?(c=Number(c))>d&&(c=d):c=d;d=a.length;if(0!=d%2)throw new TypeError("Invalid hex string");
c>d/2&&(c=d/2);for(d=0;d<c;++d){f=parseInt(a.substr(2*d,2),16);if(isNaN(f)){c=d;break a}this[b+d]=f}c=d}return c;case "utf8":case "utf-8":return Z(U(a,this.length-b),this,b,c);case "ascii":return L(this,a,b,c);case "latin1":case "binary":return L(this,a,b,c);case "base64":return Z(Y(a),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=c;f=this.length-b;for(var g=[],e=0;e<a.length&&!(0>(f-=2));++e){var h=a.charCodeAt(e);c=h>>8;h%=256;g.push(h);g.push(c)}return Z(g,this,b,d);default:if(f)throw new TypeError("Unknown encoding: "+
d);d=(""+d).toLowerCase();f=!0}};k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ca=4096;k.prototype.slice=function(a,b){var c=this.length;if(0>(a=~~a)?0>(a+=c)&&(a=0):a>c&&(a=c),0>(b=void 0===b?c:~~b)?0>(b+=c)&&(b=0):b>c&&(b=c),b<a&&(b=a),k.TYPED_ARRAY_SUPPORT)(b=this.subarray(a,b)).__proto__=k.prototype;else{c=b-a;b=new k(c,void 0);for(var d=0;d<c;++d)b[d]=this[d+a]}return b};k.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);
c=this[a];for(var d=1,f=0;++f<b&&(d*=256);)c+=this[a+f]*d;return c};k.prototype.readUIntBE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=this[a+--b];for(var d=1;0<b&&(d*=256);)c+=this[a+--b]*d;return c};k.prototype.readUInt8=function(a,b){return b||B(a,1,this.length),this[a]};k.prototype.readUInt16LE=function(a,b){return b||B(a,2,this.length),this[a]|this[a+1]<<8};k.prototype.readUInt16BE=function(a,b){return b||B(a,2,this.length),this[a]<<8|this[a+1]};k.prototype.readUInt32LE=function(a,b){return b||
B(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};k.prototype.readUInt32BE=function(a,b){return b||B(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};k.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=this[a];for(var d=1,f=0;++f<b&&(d*=256);)c+=this[a+f]*d;return c>=128*d&&(c-=Math.pow(2,8*b)),c};k.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||B(a,b,this.length);c=b;for(var d=1,f=this[a+--c];0<c&&(d*=256);)f+=this[a+--c]*d;
return f>=128*d&&(f-=Math.pow(2,8*b)),f};k.prototype.readInt8=function(a,b){return b||B(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]};k.prototype.readInt16LE=function(a,b){b||B(a,2,this.length);a=this[a]|this[a+1]<<8;return 32768&a?4294901760|a:a};k.prototype.readInt16BE=function(a,b){b||B(a,2,this.length);a=this[a+1]|this[a]<<8;return 32768&a?4294901760|a:a};k.prototype.readInt32LE=function(a,b){return b||B(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};k.prototype.readInt32BE=
function(a,b){return b||B(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};k.prototype.readFloatLE=function(a,b){return b||B(a,4,this.length),Q.read(this,a,!0,23,4)};k.prototype.readFloatBE=function(a,b){return b||B(a,4,this.length),Q.read(this,a,!1,23,4)};k.prototype.readDoubleLE=function(a,b){return b||B(a,8,this.length),Q.read(this,a,!0,52,8)};k.prototype.readDoubleBE=function(a,b){return b||B(a,8,this.length),Q.read(this,a,!1,52,8)};k.prototype.writeUIntLE=function(a,b,c,d){(a=
+a,b|=0,c|=0,d)||G(this,a,b,c,Math.pow(2,8*c)-1,0);d=1;var f=0;for(this[b]=255&a;++f<c&&(d*=256);)this[b+f]=a/d&255;return b+c};k.prototype.writeUIntBE=function(a,b,c,d){(a=+a,b|=0,c|=0,d)||G(this,a,b,c,Math.pow(2,8*c)-1,0);d=c-1;var f=1;for(this[b+d]=255&a;0<=--d&&(f*=256);)this[b+d]=a/f&255;return b+c};k.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,1,255,0),k.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1};k.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=
0,c||G(this,a,b,2,65535,0),k.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):z(this,a,b,!0),b+2};k.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,2,65535,0),k.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):z(this,a,b,!1),b+2};k.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,4,4294967295,0),k.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):m(this,a,b,!0),b+4};k.prototype.writeUInt32BE=function(a,b,c){return a=
+a,b|=0,c||G(this,a,b,4,4294967295,0),k.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):m(this,a,b,!1),b+4};k.prototype.writeIntLE=function(a,b,c,d){(a=+a,b|=0,d)||(d=Math.pow(2,8*c-1),G(this,a,b,c,d-1,-d));d=0;var f=1,g=0;for(this[b]=255&a;++d<c&&(f*=256);)0>a&&0===g&&0!==this[b+d-1]&&(g=1),this[b+d]=(a/f>>0)-g&255;return b+c};k.prototype.writeIntBE=function(a,b,c,d){(a=+a,b|=0,d)||(d=Math.pow(2,8*c-1),G(this,a,b,c,d-1,-d));d=c-1;var f=1,g=0;for(this[b+d]=255&
a;0<=--d&&(f*=256);)0>a&&0===g&&0!==this[b+d+1]&&(g=1),this[b+d]=(a/f>>0)-g&255;return b+c};k.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,1,127,-128),k.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),0>a&&(a=255+a+1),this[b]=255&a,b+1};k.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,2,32767,-32768),k.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):z(this,a,b,!0),b+2};k.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,2,32767,-32768),k.TYPED_ARRAY_SUPPORT?
(this[b]=a>>>8,this[b+1]=255&a):z(this,a,b,!1),b+2};k.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,4,2147483647,-2147483648),k.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):m(this,a,b,!0),b+4};k.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||G(this,a,b,4,2147483647,-2147483648),0>a&&(a=4294967295+a+1),k.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):m(this,a,b,!1),b+4};k.prototype.writeFloatLE=
function(a,b,c){return c||V(this,0,b,4),Q.write(this,a,b,!0,23,4),b+4};k.prototype.writeFloatBE=function(a,b,c){return c||V(this,0,b,4),Q.write(this,a,b,!1,23,4),b+4};k.prototype.writeDoubleLE=function(a,b,c){return c||V(this,0,b,8),Q.write(this,a,b,!0,52,8),b+8};k.prototype.writeDoubleBE=function(a,b,c){return c||V(this,0,b,8),Q.write(this,a,b,!1,52,8),b+8};k.prototype.copy=function(a,b,c,d){if((c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),0<d&&d<c&&(d=c),d===c)||0===a.length||
0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length);a.length-b<d-c&&(d=a.length-b+c);var f=d-c;if(this===a&&c<b&&b<d)for(d=f-1;0<=d;--d)a[d+b]=this[d+c];else if(1E3>f||!k.TYPED_ARRAY_SUPPORT)for(d=0;d<f;++d)a[d+b]=this[d+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f};k.prototype.fill=
function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var f=a.charCodeAt(0);256>f&&(a=f)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!k.isEncoding(d))throw new TypeError("Unknown encoding: "+d);}else"number"==typeof a&&(a&=255);if(0>b||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:
c>>>0,a||(a=0),"number"==typeof a)for(d=b;d<c;++d)this[d]=a;else for(a=k.isBuffer(a)?a:U((new k(a,d)).toString()),f=a.length,d=0;d<c-b;++d)this[d+b]=a[d%f];return this};var x=/[^+\/0-9A-Za-z-_]/g}).call(b,e(2))},function(a,b){b.read=function(a,b,c,l,h){var e=8*h-l-1;var k=(1<<e)-1,r=k>>1,H=-7;h=c?h-1:0;var q=c?-1:1,d=a[b+h];h+=q;c=d&(1<<-H)-1;d>>=-H;for(H+=e;0<H;c=256*c+a[b+h],h+=q,H-=8);e=c&(1<<-H)-1;c>>=-H;for(H+=l;0<H;e=256*e+a[b+h],h+=q,H-=8);if(0===c)c=1-r;else{if(c===k)return e?NaN:1/0*(d?-1:
1);e+=Math.pow(2,l);c-=r}return(d?-1:1)*e*Math.pow(2,c-l)};b.write=function(a,b,c,l,h,v){var e,k,r,q=8*v-h-1,d=(1<<q)-1,f=d>>1,C=23===h?Math.pow(2,-24)-Math.pow(2,-77):0;v=l?0:v-1;l=l?1:-1;var g=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);for(isNaN(b)||b===1/0?(k=isNaN(b)?1:0,e=d):(e=Math.floor(Math.log(b)/Math.LN2),1>b*(r=Math.pow(2,-e))&&(e--,r*=2),2<=(b+=1<=e+f?C/r:C*Math.pow(2,1-f))*r&&(e++,r/=2),e+f>=d?(k=0,e=d):1<=e+f?(k=(b*r-1)*Math.pow(2,h),e+=f):(k=b*Math.pow(2,f-1)*Math.pow(2,h),e=0));8<=h;a[c+
v]=255&k,v+=l,k/=256,h-=8);e=e<<h|k;for(q+=h;0<q;a[c+v]=255&e,v+=l,e/=256,q-=8);a[c+v-l]|=128*g}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,e){(function(a,b){var c;!function(e){function h(a){for(var b,c,d=[],f=0,g=a.length;f<g;)55296<=(b=a.charCodeAt(f++))&&56319>=b&&f<g?56320==(64512&(c=a.charCodeAt(f++)))?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),f--):d.push(b);return d}function k(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+
a.toString(16).toUpperCase()+" is not a scalar value");}function l(){if(f>=d)throw Error("Invalid byte index");var a=255&q[f];if(f++,128==(192&a))return 63&a;throw Error("Invalid continuation byte");}function r(){var a,b;if(f>d)throw Error("Invalid byte index");if(f==d)return!1;if(a=255&q[f],f++,0==(128&a))return a;if(192==(224&a)){if(128<=(b=(31&a)<<6|l()))return b;throw Error("Invalid continuation byte");}if(224==(240&a)){if(2048<=(b=(15&a)<<12|l()<<6|l()))return k(b),b;throw Error("Invalid continuation byte");
}if(240==(248&a)&&65536<=(b=(7&a)<<18|l()<<12|l()<<6|l())&&1114111>=b)return b;throw Error("Invalid UTF-8 detected");}e=("object"==typeof a&&a&&a.exports,"object"==typeof b&&b);e.global!==e&&e.window;var q,d,f,C=String.fromCharCode;void 0===(c={version:"2.1.2",encode:function(a){a=h(a);for(var b=a.length,c=-1,d="";++c<b;){var f=a[c];if(0==(4294967168&f))f=C(f);else{var g="";f=(0==(4294965248&f)?g=C(f>>6&31|192):0==(4294901760&f)?(k(f),g=C(f>>12&15|224),g+=C(f>>6&63|128)):0==(4292870144&f)&&(g=C(f>>
18&7|240),g+=C(f>>12&63|128),g+=C(f>>6&63|128)),g+C(63&f|128))}d+=f}return d},decode:function(a){q=h(a);d=q.length;f=0;var b;for(a=[];!1!==(b=r());)a.push(b);var c;b=a.length;for(var g=-1,e="";++g<b;)65535<(c=a[g])&&(e+=C((c-=65536)>>>10&1023|55296),c=56320|1023&c),e+=C(c);return e}})||(a.exports=c)}()}).call(b,e(12)(a),e(2))},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,
get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}}])});b=F||{};"object"==typeof x.exports&&(x.exports=b);String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.lastIndexOf(a,0)});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});l.ajaxTransport("+binary",function(a,b,e){if(window.FormData&&(a.dataType&&"binary"==a.dataType||a.data&&
(window.ArrayBuffer&&a.data instanceof ArrayBuffer||window.Blob&&a.data instanceof Blob)))return{send:function(b,c){var e=new XMLHttpRequest,h=a.url,k=a.type,l=a.async||!0,H=a.responseType||"blob",A=a.data||null,q=a.username||null,d=a.password||null,f=function(){var b={};b[a.dataType]=e.response;c(e.status,e.statusText,b,e.getAllResponseHeaders())},C;for(C in e.addEventListener("load",f),e.addEventListener("error",f),e.addEventListener("abort",f),e.open(k,h,l,q,d),b)e.setRequestHeader(C,b[C]);e.responseType=
H;e.send(A)},abort:function(){e.abort()}}});b.createViewer=function(a,c){if("string"===l.type(a)&&(a=l("#"+a)),a){c=c||{};try{return new b.GLViewer(a,c)}catch(e){throw"error creating viewer: "+e;}}};b.createViewerGrid=function(a,c,e){if("string"===l.type(a)&&(a=l("#"+a)),a){c=c||{};e=e||{};var k=[],H=document.createElement("canvas");e.rows=c.rows;e.cols=c.cols;e.control_all=null!=c.control_all&&c.control_all;l(a).append(l(H));try{for(var r=0;r<c.rows;r++){for(var h=[],v=0;v<c.cols;v++){e.row=r;e.col=
v;e.canvas=H;e.viewers=k;e.control_all=c.control_all;var w=b.createViewer(a,e);h.push(w)}k.unshift(h)}}catch(E){throw"error creating viewer grid: "+E;}return k}};b.viewers={};b.getbin=function(a,b,e,k){var c=new Promise(function(b,c){e=null==e?"GET":e;l.ajax({url:a,dataType:"binary",method:e,data:k,responseType:"arraybuffer",processData:!1}).done(function(a){b(a)}).fail(function(a,b){console.log(b);c()})});return b?c.then(b):c};b.base64ToArray=function(a){a=window.atob(a);for(var b=a.length,e=new Uint8Array(b),
k=0;k<b;k++)e[k]=a.charCodeAt(k);return e};b.download=function(a,c,e,k){var H="",r="",h="",v="",w=null,E=c.addModel();if("mmtf:"===a.substr(0,5))r=e&&e.pdbUri?e.pdbUri:"https://mmtf.rcsb.org/v1.0/full/",a=a.substr(5).toUpperCase(),v=r+a,e&&void 0===e.noComputeSecondaryStructure&&(e.noComputeSecondaryStructure=!0),w=new Promise(function(a){b.getbin(v).then(function(b){E.addMolData(b,"mmtf",e);c.zoomTo();c.render();a(E)})});else{if("pdb:"===a.substr(0,4)){if(H="mmtf",e&&e.format&&(H=e.format),e&&void 0===
e.noComputeSecondaryStructure&&(e.noComputeSecondaryStructure=!0),!(a=a.substr(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==H?(h=e&&e.mmtfUri?e.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",v=h+a.toUpperCase()):(r=e&&e.pdbUri?e.pdbUri:"https://files.rcsb.org/view/",v=r+a+"."+H)}else if("cid:"==a.substr(0,4)){if(H="sdf",!(a=a.substr(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");v="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+a+"/SDF?record_type=3d"}else"url:"==
a.substr(0,4)&&(v=a.substr(4),H=v);var A=function(a){E.addMolData(a,H,e);c.zoomTo();c.render()};w=new Promise(function(a){"mmtf"==H?b.getbin(v).then(function(b){A(b);a(E)}):l.get(v,function(b){A(b);a(E)}).fail(function(a){console.log("fetch of "+v+" failed: "+a.statusText)})})}return k?(w.then(function(a){k(a)}),E):w};b.SurfaceType={VDW:1,MS:2,SAS:3,SES:4};b.mergeGeos=function(a,b){b=b.geometry;void 0!==b&&a.geometryGroups.push(b.geometryGroups[0])};b.multiLineString=function(a){return a.toString().replace(/^[^\/]+\/\*!?/,
"").replace(/\*\/[^\/]+$/,"")};b.syncSurface=!1;(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))&&(b.syncSurface=!0);b.specStringToObject=function(a){if("object"==typeof a||void 0===a||null==a)return a;var b=function(a){return l.isNumeric(a)?Math.floor(parseFloat(a))==parseInt(a)?parseFloat(a):0<=a.indexOf(".")?parseFloat(a):parseInt(a):"true"===a||"false"!==a&&a},e={};if("all"===(a=a.replace(/%7E/,"~")))return e;a=a.split(";");for(var k=0;k<a.length;k++){var H=
a[k].split(":"),r=H[0],h={};if(H=H[1])if(-1!==(H=H.replace(/~/g,"=")).indexOf("=")){H=H.split(",");for(var v=0;v<H.length;v++){var w=H[v].split("=",2);h[w[0]]=b(w[1])}}else h=-1!==H.indexOf(",")?H.split(","):b(H);e[r]=h}return e};b.getExtent=function(a,b){var c,k,l,r,h,v,w,E,A,q=!b;if(b=c=k=9999,l=r=h=-9999,v=w=E=A=0,0===a.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var d=0;d<a.length;d++){var f=a[d];if(void 0!==f&&isFinite(f.x)&&isFinite(f.y)&&isFinite(f.z)&&(A++,v+=f.x,w+=f.y,E+=f.z,b=b<f.x?b:f.x,
c=c<f.y?c:f.y,k=k<f.z?k:f.z,l=l>f.x?l:f.x,r=r>f.y?r:f.y,h=h>f.z?h:f.z,f.symmetries&&q))for(var C=0;C<f.symmetries.length;C++)A++,v+=f.symmetries[C].x,w+=f.symmetries[C].y,E+=f.symmetries[C].z,b=b<f.symmetries[C].x?b:f.symmetries[C].x,c=c<f.symmetries[C].y?c:f.symmetries[C].y,k=k<f.symmetries[C].z?k:f.symmetries[C].z,l=l>f.symmetries[C].x?l:f.symmetries[C].x,r=r>f.symmetries[C].y?r:f.symmetries[C].y,h=h>f.symmetries[C].z?h:f.symmetries[C].z}return[[b,c,k],[l,r,h],[v/A,w/A,E/A]]};b.getAtomProperty=
function(a,b){var c=null;return a.properties&&void 0!==a.properties[b]?c=a.properties[b]:void 0!==a[b]&&(c=a[b]),c};b.getPropertyRange=function(a,c){for(var e=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,l=0,r=a.length;l<r;l++){var h=b.getAtomProperty(a[l],c);null!=h&&(h<e&&(e=h),h>k&&(k=h))}return isFinite(e)||isFinite(k)?isFinite(e)?isFinite(k)||(k=e):e=k:e=k=0,[e,k]};!(ha=[],La=function(){return b}.apply(da,ha),void 0!==La&&(x.exports=La));b.createStereoViewer=function(a){var c=this;if("string"===
l.type(a)&&(a=l("#"+a)),a){a=b.createViewerGrid(a,{rows:1,cols:2,control_all:!0});this.glviewer1=a[0][0];this.glviewer2=a[0][1];this.glviewer1.setAutoEyeSeparation(!1);this.glviewer2.setAutoEyeSeparation(!0);this.glviewer1.linkViewer(this.glviewer2);this.glviewer2.linkViewer(this.glviewer1);a=Object.getOwnPropertyNames(this.glviewer1).filter(function(a){return"function"==typeof c.glviewer1[a]});for(var e=0;e<a.length;e++)this[a[e]]=function(a){return function(){var b=this.glviewer1[a].apply(this.glviewer1,
arguments),c=this.glviewer2[a].apply(this.glviewer2,arguments);return[b,c]}}(a[e]);this.setCoordinates=function(a,b,c){for(var e=0;e<a.length;e++)a[e].setCoordinates(b,c)};this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()};this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()};this.render=function(a){this.glviewer1.render();this.glviewer2.render();a&&a(this)};this.getCanvas=function(){return this.glviewer1.getCanvas()}}};
var b=b||{};b.Math={clamp:function(a,b,e){return Math.min(Math.max(a,b),e)},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}()};b.Quaternion=function(a,b,e,k){this.x=a||0;this.y=b||0;this.z=e||0;this.w=void 0!==k?k:1};b.Quaternion.prototype={constructor:b.Quaternion,set:function(a,b,e,k){return this.x=a,this.y=b,this.z=e,this.w=k,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=a.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},
length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthxyz:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var a=this.length();return 0===a?(this.x=0,this.y=0,this.z=0,this.w=1):(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a),this},multiply:function(a){return this.multiplyQuaternions(this,a)},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},multiplyQuaternions:function(a,b){var c=
a.x,k=a.y,l=a.z;a=a.w;var r=b.x,h=b.y,v=b.z;b=b.w;return this.x=c*b+a*r+k*v-l*h,this.y=k*b+a*h+l*r-c*v,this.z=l*b+a*v+c*h-k*r,this.w=a*b-c*r-k*h-l*v,this},sub:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this},clone:function(){return new b.Quaternion(this.x,this.y,this.z,this.w)},setFromEuler:function(a){var b=Math.cos(a.x/2),e=Math.cos(a.y/2),k=Math.cos(a.z/2),l=Math.sin(a.x/2),r=Math.sin(a.y/2);a=Math.sin(a.z/2);return this.x=l*e*k+b*r*a,this.y=b*r*k-l*e*a,this.z=b*e*a+l*r*
k,this.w=b*e*k-l*r*a,this}};b.Vector2=function(a,b){this.x=a||0;this.y=b||0};b.Vector2.prototype={constructor:b.Vector2,set:function(a,b){return this.x=a,this.y=b,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},copy:function(a){return this.x=a.x,this.y=a.y,this},clone:function(){return new b.Vector2(this.x,this.y)}};b.Vector3=function(a,b,e){this.x=a||0;this.y=b||0;this.z=e||0};b.Vector3.prototype={constructor:b.Vector3,set:function(a,b,e){return this.x=a,this.y=b,this.z=
e,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},sub:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},divideScalar:function(a){return 0!==a?(this.x/=a,this.y/=a,this.z/=
a):(this.x=0,this.y=0,this.z=0),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,e=this.y-a.y;a=this.z-a.z;return b*b+e*e+a*a},applyMatrix4:function(a){var b=this.x,e=this.y,k=this.z;a=a.elements;return this.x=
a[0]*b+a[4]*e+a[8]*k+a[12],this.y=a[1]*b+a[5]*e+a[9]*k+a[13],this.z=a[2]*b+a[6]*e+a[10]*k+a[14],this},applyProjection:function(a){var b=this.x,e=this.y,k=this.z;a=a.elements;var l=a[3]*b+a[7]*e+a[11]*k+a[15];return this.x=(a[0]*b+a[4]*e+a[8]*k+a[12])/l,this.y=(a[1]*b+a[5]*e+a[9]*k+a[13])/l,this.z=(a[2]*b+a[6]*e+a[10]*k+a[14])/l,this},applyQuaternion:function(a){var b=this.x,e=this.y,k=this.z,l=a.x,r=a.y,h=a.z;a=a.w;var v=2*(e*h-k*r);var w=2*(k*l-b*h);var E=2*(b*r-e*l);var A,q,d;return A=w*h-E*r,q=
E*l-v*h,d=v*r-w*l,this.x=b+a*v+A,this.y=e+a*w+q,this.z=k+a*E+d,this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(a){var b=this.x,e=this.y,k=this.z;return this.x=e*a.z-k*a.y,this.y=k*a.x-b*a.z,this.z=b*a.y-e*a.x,this},
crossVectors:function(a,b){return this.x=a.y*b.z-a.z*b.y,this.y=a.z*b.x-a.x*b.z,this.z=a.x*b.y-a.y*b.x,this},getPositionFromMatrix:function(a){return this.x=a.elements[12],this.y=a.elements[13],this.z=a.elements[14],this},setEulerFromRotationMatrix:function(a,c){var e=a.elements;a=e[0];var k=e[4],l=e[8],r=e[5],h=e[9],v=e[6];e=e[10];return void 0===c||"XYZ"===c?(this.y=Math.asin(b.Math.clamp(l,-1,1)),.99999>Math.abs(l)?(this.x=Math.atan2(-h,e),this.z=Math.atan2(-k,a)):(this.x=Math.atan2(v,r),this.z=
0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+c),this},rotateAboutVector:function(a,b){a.normalize();var c=Math.cos(b),k=Math.sin(b);b=this.clone().multiplyScalar(c);k=a.clone().cross(this).multiplyScalar(k);a=a.clone().multiplyScalar(a.clone().dot(this)).multiplyScalar(1-c);a=b.add(k).add(a);return this.x=a.x,this.y=a.y,this.z=a.z,this},setFromMatrixPosition:function(a){a=a.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this},transformDirection:function(a){var b=
this.x,e=this.y,k=this.z;a=a.elements;return this.x=a[0]*b+a[4]*e+a[8]*k,this.y=a[1]*b+a[5]*e+a[9]*k,this.z=a[2]*b+a[6]*e+a[10]*k,this.normalize()},clone:function(){return new b.Vector3(this.x,this.y,this.z)}};b.Matrix3=function(a,b,e,k,l,r,h,v,w){this.elements=new Float32Array(9);this.set(void 0!==a?a:1,b||0,e||0,k||0,void 0!==l?l:1,r||0,h||0,v||0,void 0!==w?w:1)};b.Matrix3.prototype={constructor:b.Matrix3,set:function(a,b,e,k,l,r,h,v,w){var c=this.elements;return c[0]=a,c[3]=b,c[6]=e,c[1]=k,c[4]=
l,c[7]=r,c[2]=h,c[5]=v,c[8]=w,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[3]*=a,b[6]*=a,b[1]*=a,b[4]*=a,b[7]*=a,b[2]*=a,b[5]*=a,b[8]*=a,this},getInverse:function(a,b){a=a.elements;var c=this.elements;c[0]=a[10]*a[5]-a[6]*a[9];c[1]=-a[10]*a[1]+a[2]*a[9];c[2]=a[6]*a[1]-a[2]*a[5];c[3]=-a[10]*a[4]+a[6]*a[8];c[4]=a[10]*a[0]-a[2]*a[8];
c[5]=-a[6]*a[0]+a[2]*a[4];c[6]=a[9]*a[4]-a[5]*a[8];c[7]=-a[9]*a[0]+a[1]*a[8];c[8]=a[5]*a[0]-a[1]*a[4];a=a[0]*c[0]+a[1]*c[3]+a[2]*c[6];if(0===a){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/a),this},getDeterminant:function(){var a=this.elements;return a[0]*a[4]*a[8]+a[1]*a[5]*a[6]+a[2]*a[3]*a[7]-a[2]*a[4]*a[6]-a[1]*a[3]*a[8]-a[0]*a[5]*
a[7]},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[3],b[3]=a,a=b[2],b[2]=b[6],b[6]=a,a=b[5],b[5]=b[7],b[7]=a,this},clone:function(){var a=this.elements;return new b.Matrix3(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8])}};b.Matrix4=function(a,b,e,k,l,r,h,v,w,E,A,q,d,f,C,g){if(void 0===b&&void 0!==a)this.elements=new Float32Array(a);else{var c=this.elements=new Float32Array(16);c[0]=void 0!==a?a:1;c[4]=b||0;c[8]=e||0;c[12]=k||0;c[1]=l||0;c[5]=void 0!==r?r:1;c[9]=h||0;c[13]=v||0;c[2]=
w||0;c[6]=E||0;c[10]=void 0!==A?A:1;c[14]=q||0;c[3]=d||0;c[7]=f||0;c[11]=C||0;c[15]=void 0!==g?g:1}};b.Matrix4.prototype={constructor:b.Matrix4,set:function(a,b,e,k,l,r,h,v,w,E,A,q,d,f,C,g){var c=this.elements;return c[0]=a,c[4]=b,c[8]=e,c[12]=k,c[1]=l,c[5]=r,c[9]=h,c[13]=v,c[2]=w,c[6]=E,c[10]=A,c[14]=q,c[3]=d,c[7]=f,c[11]=C,c[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(a){a=a.elements;return this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],
a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]),this},matrix3FromTopLeft:function(){var a=this.elements;return new b.Matrix3(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10])},setRotationFromEuler:function(a,b){var c=this.elements,k=a.x,l=a.y,r=a.z;a=Math.cos(k);k=Math.sin(k);var h=Math.cos(l);l=Math.sin(l);var v=Math.cos(r);r=Math.sin(r);if(void 0===b||"XYZ"===b){b=a*v;var w=a*r,E=k*v,A=k*r;c[0]=h*v;c[4]=-h*r;c[8]=l;c[1]=w+E*l;c[5]=b-A*l;c[9]=-k*h;c[2]=A-b*l;c[6]=E+w*l;c[10]=a*h}else console.error("Error with matrix4 setRotationFromEuler. Order: "+
b);return this},setRotationFromQuaternion:function(a){var b=this.elements,e=a.x,k=a.y,l=a.z,r=a.w,h=e+e,v=k+k,w=l+l;a=e*h;var E=e*v;e*=w;var A=k*v;k*=w;l*=w;h*=r;v*=r;r*=w;return b[0]=1-(A+l),b[4]=E-r,b[8]=e+v,b[1]=E+r,b[5]=1-(a+l),b[9]=k-h,b[2]=e-v,b[6]=k+h,b[10]=1-(a+A),this},lookAt:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(b,l,r){var h=this.elements;return e.subVectors(b,l).normalize(),0===e.length()&&(e.z=1),a.crossVectors(r,e).normalize(),0===a.length()&&
(e.x+=1E-4,a.crossVectors(r,e).normalize()),c.crossVectors(e,a),h[0]=a.x,h[4]=c.x,h[8]=e.x,h[1]=a.y,h[5]=c.y,h[9]=e.y,h[2]=a.z,h[6]=c.z,h[10]=e.z,this}}(),multiplyMatrices:function(a,b){var c=a.elements,k=b.elements;b=this.elements;a=c[0];var l=c[4],r=c[8],h=c[12],v=c[1],w=c[5],E=c[9],A=c[13],q=c[2],d=c[6],f=c[10],C=c[14],g=c[3],L=c[7],K=c[11];c=c[15];var B=k[0],G=k[4],z=k[8],m=k[12],V=k[1],U=k[5],Y=k[9],Z=k[13],R=k[2],Q=k[6],I=k[10],ca=k[14],x=k[3],P=k[7],T=k[11];k=k[15];return b[0]=a*B+l*V+r*R+
h*x,b[4]=a*G+l*U+r*Q+h*P,b[8]=a*z+l*Y+r*I+h*T,b[12]=a*m+l*Z+r*ca+h*k,b[1]=v*B+w*V+E*R+A*x,b[5]=v*G+w*U+E*Q+A*P,b[9]=v*z+w*Y+E*I+A*T,b[13]=v*m+w*Z+E*ca+A*k,b[2]=q*B+d*V+f*R+C*x,b[6]=q*G+d*U+f*Q+C*P,b[10]=q*z+d*Y+f*I+C*T,b[14]=q*m+d*Z+f*ca+C*k,b[3]=g*B+L*V+K*R+c*x,b[7]=g*G+L*U+K*Q+c*P,b[11]=g*z+L*Y+K*I+c*T,b[15]=g*m+L*Z+K*ca+c*k,this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[4]*=a,b[8]*=a,b[12]*=a,b[1]*=a,b[5]*=a,b[9]*=a,b[13]*=a,b[2]*=a,b[6]*=a,b[10]*=a,b[14]*=a,b[3]*=a,b[7]*=
a,b[11]*=a,b[15]*=a,this},makeTranslation:function(a,b,e){return this.set(1,0,0,a,0,1,0,b,0,0,1,e,0,0,0,1),this},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[4],b[4]=a,a=b[2],b[2]=b[8],b[8]=a,a=b[6],b[6]=b[9],b[9]=a,a=b[3],b[3]=b[12],b[12]=a,a=b[7],b[7]=b[13],b[13]=a,a=b[11],b[11]=b[14],b[14]=a,this},getPosition:function(){var a=new b.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");
var b=this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;return b[12]=a.x,b[13]=a.y,b[14]=a.z,this},getInverse:function(a,b){var c=this.elements;a=a.elements;var k=a[0],l=a[4],r=a[8],h=a[12],v=a[1],w=a[5],E=a[9],A=a[13],q=a[2],d=a[6],f=a[10],C=a[14],g=a[3],L=a[7],K=a[11],B=a[15];c[0]=E*C*L-A*f*L+A*d*K-w*C*K-E*d*B+w*f*B;c[4]=h*f*L-r*C*L-h*d*K+l*C*K+r*d*B-l*f*B;c[8]=r*A*L-h*E*L+h*w*K-l*A*K-r*w*B+l*E*B;c[12]=h*E*d-r*A*d-h*w*f+l*A*f+r*w*C-l*E*C;c[1]=A*f*g-E*
C*g-A*q*K+v*C*K+E*q*B-v*f*B;c[5]=r*C*g-h*f*g+h*q*K-k*C*K-r*q*B+k*f*B;c[9]=h*E*g-r*A*g-h*v*K+k*A*K+r*v*B-k*E*B;c[13]=r*A*q-h*E*q+h*v*f-k*A*f-r*v*C+k*E*C;c[2]=w*C*g-A*d*g+A*q*L-v*C*L-w*q*B+v*d*B;c[6]=h*d*g-l*C*g-h*q*L+k*C*L+l*q*B-k*d*B;c[10]=l*A*g-h*w*g+h*v*L-k*A*L-l*v*B+k*w*B;c[14]=h*w*q-l*A*q-h*v*d+k*A*d+l*v*C-k*w*C;c[3]=E*d*g-w*f*g-E*q*L+v*f*L+w*q*K-v*d*K;c[7]=l*f*g-r*d*g+r*q*L-k*f*L-l*q*K+k*d*K;c[11]=r*w*g-l*E*g-r*v*L+k*E*L+l*v*K-k*w*K;c[15]=l*E*q-r*w*q+r*v*d-k*E*d-l*v*f+k*w*f;c=a[0]*c[0]+a[1]*
c[4]+a[2]*c[8]+a[3]*c[12];if(0===c){if(b)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/c),this},isReflected:function(){return 0>this.matrix3FromTopLeft().getDeterminant()},compose:function(){var a=new b.Matrix4,c=new b.Matrix4;return function(b,k,l){var e=this.elements;return a.identity(),a.setRotationFromQuaternion(k),c.makeScale(l.x,l.y,
l.z),this.multiplyMatrices(a,c),e[12]=b.x,e[13]=b.y,e[14]=b.z,this}}(),decompose:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3,k=new b.Matrix4;return function(l,r,h){var v=this.elements;return a.set(v[0],v[1],v[2]),c.set(v[4],v[5],v[6]),e.set(v[8],v[9],v[10]),l=l instanceof b.Vector3?l:new b.Vector3,r=r instanceof b.Quaternion?r:new b.Quaternion,(h=h instanceof b.Vector3?h:new b.Vector3).x=a.length(),h.y=c.length(),h.z=e.length(),l.x=v[12],l.y=v[13],l.z=v[14],k.copy(this),k.elements[0]/=
h.x,k.elements[1]/=h.x,k.elements[2]/=h.x,k.elements[4]/=h.y,k.elements[5]/=h.y,k.elements[6]/=h.y,k.elements[8]/=h.z,k.elements[9]/=h.z,k.elements[10]/=h.z,r.setFromRotationMatrix(k),[l,r,h]}}(),scale:function(a){var b=this.elements,e=a.x,k=a.y;a=a.z;return b[0]*=e,b[4]*=k,b[8]*=a,b[1]*=e,b[5]*=k,b[9]*=a,b[2]*=e,b[6]*=k,b[10]*=a,b[3]*=e,b[7]*=k,b[11]*=a,this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*
a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeFrustum:function(a,b,e,k,l,r){var c=this.elements;return c[0]=2*l/(b-a),c[4]=0,c[8]=(b+a)/(b-a),c[12]=0,c[1]=0,c[5]=2*l/(k-e),c[9]=(k+e)/(k-e),c[13]=0,c[2]=0,c[6]=0,c[10]=-(r+l)/(r-l),c[14]=-2*r*l/(r-l),c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this},makePerspective:function(a,c,e,k){a=e*Math.tan(b.Math.degToRad(.5*a));var l=-a;return this.makeFrustum(l*c,a*c,l,a,e,k)},makeOrthographic:function(a,b,e,k,l,r){var c=this.elements,v=1/(b-a),w=1/(e-k),H=1/(r-l);return c[0]=
2*v,c[4]=0,c[8]=0,c[12]=-((b+a)*v),c[1]=0,c[5]=2*w,c[9]=0,c[13]=-((e+k)*w),c[2]=0,c[6]=0,c[10]=-2*H,c[14]=-((r+l)*H),c[3]=0,c[7]=0,c[11]=0,c[15]=1,this},isEqual:function(a){a=a.elements;var b=this.elements;return b[0]==a[0]&&b[4]==a[4]&&b[8]==a[8]&&b[12]==a[12]&&b[1]==a[1]&&b[5]==a[5]&&b[9]==a[9]&&b[13]==a[13]&&b[2]==a[2]&&b[6]==a[6]&&b[10]==a[10]&&b[14]==a[14]&&b[3]==a[3]&&b[7]==a[7]&&b[11]==a[11]&&b[15]==a[15]},clone:function(){var a=this.elements;return new b.Matrix4(a[0],a[4],a[8],a[12],a[1],
a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])},isIdentity:function(){var a=this.elements;return 1==a[0]&&0==a[4]&&0==a[8]&&0==a[12]&&0==a[1]&&1==a[5]&&0==a[9]&&0==a[13]&&0==a[2]&&0==a[6]&&1==a[10]&&0==a[14]&&0==a[3]&&0==a[7]&&0==a[11]&&1==a[15]}};b.Vector3.prototype.unproject=function(){var a=new b.Matrix4;return function(b){return a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix)),this.applyMatrix4(a)}}();b.Ray=function(a,c){this.origin=void 0!==a?a:new b.Vector3;this.direction=
void 0!==c?c:new b.Vector3};b.Ray.prototype={constructor:b.Ray,set:function(a,b){return this.origin.copy(a),this.direction.copy(b),this},copy:function(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this},at:function(a,c){return(c||new b.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new b.Vector3;return function(b){return this.origin.copy(this.at(b,a)),this}}(),closestPointToPoint:function(a,c){c=c||new b.Vector3;c.subVectors(a,this.origin);
a=c.dot(this.direction);return c.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(){var a=new b.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);return a.copy(this.direction).multiplyScalar(c).add(this.origin),a.distanceTo(b)}}(),isIntersectionCylinder:function(){},isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},isIntersectionPlane:function(a){return 0!==a.normal.dot(this.direction)||0===a.distanceToPoint(this.origin)},
distanceToPlane:function(a){var b=a.normal.dot(this.direction);return 0===b?0===a.distanceToPoint(this.origin)?0:void 0:-(this.origin.dot(a.normal)+a.constant)/b},intersectPlane:function(a,b){a=this.distanceToPlane(a);if(void 0!==a)return this.at(a,b)},applyMatrix4:function(a){return this.direction.add(this.origin).applyMatrix4(a),this.origin.applyMatrix4(a),this.direction.sub(this.origin),this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},clone:function(){return(new b.Ray).copy(this)}};
b.Sphere=function(a,c){this.center=void 0!==a?a:new b.Vector3;this.radius=void 0!==c?c:0};b.Sphere.prototype={constructor:b.Sphere,set:function(a,b){return this.center.copy(a),this.radius=b,this},copy:function(a){return this.center.copy(a.center),this.radius=a.radius,this},applyMatrix4:function(a){return this.center.applyMatrix4(a),this.radius*=a.getMaxScaleOnAxis(),this},translate:function(a){return this.center.add(a),this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},
clone:function(){return(new b.Sphere).copy(this)}};b.Cylinder=function(a,c,e){this.c1=void 0!==a?a:new b.Vector3;this.c2=void 0!==c?c:new b.Vector3;this.direction=(new b.Vector3).subVectors(this.c2,this.c1).normalize();this.radius=void 0!==e?e:0};b.Cylinder.prototype={constructor:b.Cylinder,copy:function(a){return this.c1.copy(a.c1),this.c2.copy(a.c2),this.direction.copy(a.direction),this.radius=a.radius,this},lengthSq:function(){var a=new b.Vector3;return function(){return a.subVectors(this.c2,this.c1).lengthSq()}}(),
applyMatrix4:function(a){return this.direction.add(this.c1).applyMatrix4(a),this.c1.applyMatrix4(a),this.c2.applyMatrix4(a),this.direction.sub(this.c1).normalize(),this.radius*=a.getMaxScaleOnAxis(),this}};b.Triangle=function(a,c,e){this.a=void 0!==a?a:new b.Vector3;this.b=void 0!==c?c:new b.Vector3;this.c=void 0!==e?e:new b.Vector3};b.Triangle.prototype={constructor:b.Triangle,copy:function(a){return this.a.copy(a.a),this.b.copy(a.b),this.c.copy(a.c),this},applyMatrix4:function(a){return this.a.applyMatrix4(a),
this.b.applyMatrix4(a),this.c.applyMatrix4(a),this},getNormal:function(){var a=new b.Vector3;return function(){var b=this.a.clone();return b.sub(this.b),a.subVectors(this.c,this.b),b.cross(a),b.normalize(),b}}()};b.EventDispatcher=function(){var a={};this.addEventListener=function(b,e){void 0===a[b]&&(a[b]=[]);-1===a[b].indexOf(e)&&a[b].push(e)};this.removeEventListener=function(b,e){e=a[b].indexOf(e);-1!==e&&a[b].splice(e,1)};this.dispatchEvent=function(b){var c=a[b.type];if(void 0!==c){b.target=
this;for(var k=0,l=c.length;k<l;k++)c[k].call(this,b)}}};b.Color=function(a){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(a)};b.Color.prototype={constructor:b.Color,r:0,g:0,b:0,set:function(a){if(a instanceof b.Color)return a.clone();"number"==typeof a?this.setHex(a):"object"==typeof a&&"r"in a&&"g"in a&&"b"in a&&(this.r=a.r,this.g=a.g,this.b=a.b)},setHex:function(a){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,
this.b=(255&a)/255,this},getHex:function(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)},clone:function(){return new b.Color(this.r,this.g,this.b)},copy:function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this},scaled:function(){var a={};return a.r=Math.round(255*this.r),a.g=Math.round(255*this.g),a.b=Math.round(255*this.b),a.a=1,a}};b.Object3D=function(){this.id=b.Object3DIDCount++;this.name="";this.parent=void 0;this.children=[];this.position=new b.Vector3;
this.rotation=new b.Vector3;this.matrix=new b.Matrix4;this.matrixWorld=new b.Matrix4;this.quaternion=new b.Quaternion;this.eulerOrder="XYZ";this.up=new b.Vector3(0,1,0);this.scale=new b.Vector3(1,1,1);this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.useQuaternion=!1;this.visible=!0};b.Object3D.prototype={constructor:b.Object3D,lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):
this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(a){if(a!==this){a.parent=this;this.children.push(a);for(var c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof b.Scene&&c.__addObject(a)}else console.error("Can't add $3Dmol.Object3D to itself")},remove:function(a){var c=this.children.indexOf(a);if(-1!==c){a.parent=void 0;this.children.splice(c,1);for(c=this;void 0!==c.parent;)c=c.parent;void 0!==c&&c instanceof b.Scene&&c.__removeObject(a)}},vrml:function(a){a||
(a=" ");var b=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),e=0,k=0,l=0;0!=b&&(l=Math.sin(b/2),e=this.quaternion.x/l,k=this.quaternion.y/l,l=this.quaternion.z/l);b=a+"Transform {\n"+a+" center "+this.position.x+" "+this.position.y+" "+this.position.z+"\n"+a+" rotation "+e+" "+k+" "+l+" "+b+"\n"+a+" children [\n";this.geometry&&(b+=this.geometry.vrml(a,this.material));for(e=0;e<this.children.length;e++)b+=this.children[e].vrml(a+" ")+",\n";return b+=" ]\n",b+"}"},updateMatrix:function(){this.matrix.setPosition(this.position);
!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion);1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();!0!==this.matrixWorldNeedsUpdate&&!0!==a||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix));
this.matrixWorldNeedsUpdate=!1;for(a=0;a<this.children.length;a++)this.children[a].updateMatrixWorld(!0)},clone:function(a){void 0===a&&(a=new b.Object3D);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.rotation.copy(this.rotation);a.eulerOrder=this.eulerOrder;a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);a.matrixWorld.copy(this.matrixWorld);a.quaternion.copy(this.quaternion);a.matrixAutoUpdate=this.matrixAutoUpdate;a.matrixWorldNeedsUpdate=
this.matrixWorldNeedsUpdate;a.useQuaternion=this.useQuaternion;a.visible=this.visible;for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a},setVisible:function(a){this.visible=a;for(var b=0;b<this.children.length;b++)this.children[b].setVisible(a)}};b.Object3DIDCount=0;b.Geometry=function(){var a=function(a){this.id=a||0;this.lineArray=this.radiusArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null;this.lineidx=this.faceidx=this.vertices=0};a.prototype.setColors=
function(a){var c=this.vertexArray,e=this.colorArray;if(c.length==e.length)for(var h=0;h<c.length;h+=3){var k=a(c[h],c[h+1],c[h+2]);k instanceof b.Color||(k=b.CC.color(k));e[h]=k.r;e[h+1]=k.g;e[h+2]=k.b}else console.log("Cannot re-color geometry group due to mismatched lengths.")};a.prototype.getNumVertices=function(){return this.vertices};a.prototype.getVertices=function(){return this.vertexArray};a.prototype.getCentroid=function(){for(var a,c,e,h=new b.Vector3,l=0;l<this.vertices;++l)a=3*l,c=this.vertexArray[a],
e=this.vertexArray[a+1],a=this.vertexArray[a+2],h.x+=c,h.y+=e,h.z+=a;return h.divideScalar(this.vertices),h};a.prototype.setNormals=function(){var a=this.faceArray,c=this.vertexArray,e=this.normalArray;if(this.vertices&&this.faceidx)for(var h,l,w,E,A,q,d=0;d<a.length/3;++d)h=3*a[3*d],l=3*a[3*d+1],w=3*a[3*d+2],E=new b.Vector3(c[h],c[h+1],c[h+2]),A=new b.Vector3(c[l],c[l+1],c[l+2]),q=new b.Vector3(c[w],c[w+1],c[w+2]),E.subVectors(E,A),q.subVectors(q,A),q.cross(E),(E=q).normalize(),e[h]+=E.x,e[l]+=E.x,
e[w]+=E.x,e[h+1]+=E.y,e[l+1]+=E.y,e[w+1]+=E.y,e[h+2]+=E.z,e[l+2]+=E.z,e[w+2]+=E.z};a.prototype.setLineIndices=function(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var a=this.faceArray,b=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var c=0;c<this.faceidx/3;++c){var e=3*c,l=2*e,w=a[e],E=a[e+1];e=a[e+2];b[l]=w;b[l+1]=E;b[l+2]=w;b[l+3]=e;b[l+4]=E;b[l+5]=e}}};a.prototype.vrml=function(a,c){var e=a+"Shape {\n"+
a+" appearance Appearance {\n"+a+"  material Material {\n"+a+"   diffuseColor "+c.color.r+" "+c.color.g+" "+c.color.b+"\n";c.transparent&&(e+=a+"   transparency "+(1-c.opacity)+"\n");e=e+(a+"  }\n")+(a+" }\n");var h=a;if(a+=" ",c instanceof b.LineBasicMaterial){e+=a+"geometry IndexedLineSet {\n"+a+" colorPerVertex TRUE\n"+a+" coord Coordinate {\n"+a+"  point [\n";for(c=0;c<this.vertices;++c){var k=3*c;e+=a+"   "+this.vertexArray[k]+" "+this.vertexArray[k+1]+" "+this.vertexArray[k+2]+",\n"}if(e+=a+
"  ]\n",e+=a+" }\n",this.colorArray){e+=a+" color Color {\n"+a+"  color [\n";for(c=0;c<this.vertices;++c)k=3*c,e+=a+"   "+this.colorArray[k]+" "+this.colorArray[k+1]+" "+this.colorArray[k+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")}e+=a+" coordIndex [\n";for(c=0;c<this.vertices;c+=2)e+=a+"  "+c+", "+(c+1)+", -1,\n"}else{e=e+(a+"geometry IndexedFaceSet {\n"+a+" colorPerVertex TRUE\n"+a+" normalPerVertex TRUE\n"+a+" solid FALSE\n")+(a+" coord Coordinate {\n"+a+"  point [\n");for(c=0;c<this.vertices;++c)k=3*
c,e+=a+"   "+this.vertexArray[k]+" "+this.vertexArray[k+1]+" "+this.vertexArray[k+2]+",\n";e=e+(a+"  ]\n")+(a+" }\n")+(a+" normal Normal {\n"+a+"  vector [\n");for(c=0;c<this.vertices;++c)k=3*c,e+=a+"   "+this.normalArray[k]+" "+this.normalArray[k+1]+" "+this.normalArray[k+2]+",\n";if(e+=a+"  ]\n",e+=a+" }\n",this.colorArray){e+=a+" color Color {\n"+a+"  color [\n";for(c=0;c<this.vertices;++c)k=3*c,e+=a+"   "+this.colorArray[k]+" "+this.colorArray[k+1]+" "+this.colorArray[k+2]+",\n";e=e+(a+"  ]\n")+
(a+" }\n")}e+=a+" coordIndex [\n";for(c=0;c<this.faceidx;c+=3)e+=a+"  "+this.faceArray[c]+", "+this.faceArray[c+1]+", "+this.faceArray[c+2]+", -1,\n"}return e+(a+" ]\n")+(a+"}\n")+(h+"}")};a.prototype.truncateArrayBuffers=function(a,b){a=!0===a;var c=this.colorArray,e=this.normalArray,k=this.faceArray,l=this.lineArray,H=this.radiusArray;this.vertexArray=this.vertexArray.subarray(0,3*this.vertices);this.colorArray=c.subarray(0,3*this.vertices);a?(this.normalArray=e.subarray(0,3*this.vertices),this.faceArray=
k.subarray(0,this.faceidx),0<this.lineidx?this.lineArray=l.subarray(0,this.lineidx):this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0));H&&(this.radiusArray=H.subarray(0,this.vertices));b&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=
new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray)));this.__inittedArrays=!0};var c=function(b){var c=new a(b.geometryGroups.length);return b.geometryGroups.push(c),b.groups=b.geometryGroups.length,c.vertexArray=new Float32Array(196605),c.colorArray=new Float32Array(196605),b.mesh&&(c.normalArray=new Float32Array(196605),c.faceArray=new Uint16Array(393210),c.lineArray=new Uint16Array(393210)),
b.radii&&(c.radiusArray=new Float32Array(65535)),c.useOffset=b.offset,c},e=function(a,c,e){b.EventDispatcher.call(this);this.id=b.GeometryIDCount++;this.name="";this.hasTangents=!1;this.dynamic=!0;this.mesh=!0===a;this.radii=c||!1;this.offset=e||!1;this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1;this.geometryGroups=[];this.groups=0};return e.prototype={constructor:e,updateGeoGroup:function(a){var b=0<this.groups?this.geometryGroups[this.groups-
1]:null;return(!b||b.vertices+(a||0)>b.vertexArray.length/3)&&(b=c(this)),b},vrml:function(a,b){for(var c="",e=this.geometryGroups.length,k=0;k<e;k++)c+=this.geometryGroups[k].vrml(a,b)+",\n";return c},addGeoGroup:function(){return c(this)},setUpNormals:function(a){a=a||!1;for(var b=0;b<this.groups;b++)this.geometryGroups[b].setNormals(a)},setColors:function(a){for(var b=this.geometryGroups.length,c=0;c<b;c++)this.geometryGroups[c].setColors(a)},setUpWireframe:function(){for(var a=0;a<this.groups;a++)this.geometryGroups[a].setLineIndices()},
initTypedArrays:function(){for(var a=0;a<this.groups;a++){var b=this.geometryGroups[a];!0!==b.__inittedArrays&&b.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},e}();Object.defineProperty(b.Geometry.prototype,"vertices",{get:function(){for(var a=0,b=0;b<this.groups;b++)a+=this.geometryGroups[b].vertices;return a}});b.GeometryIDCount=0;b.Raycaster=function(){var a,c=function(a,c,f,e){this.ray=new b.Ray(a,c);0<this.ray.direction.lengthSq()&&this.ray.direction.normalize();
this.near=e||0;this.far=f||1/0},e=new b.Sphere,k=new b.Cylinder,l=new b.Triangle,r=new b.Vector3,h=new b.Vector3,v=new b.Vector3,w=new b.Vector3,E=new b.Vector3,A=function(a,b){return a.distance-b.distance};return c.prototype.precision=1E-4,c.prototype.linePrecision=.2,c.prototype.set=function(a,b){this.ray.set(a,b)},c.prototype.setFromCamera=(a=new b.Matrix4,function(b,c){c.ortho?(this.ray.origin.set(b.x,b.y,(c.near+c.far)/(c.near-c.far)).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld)):
(this.ray.origin.setFromMatrixPosition(c.matrixWorld),this.ray.direction.set(b.x,b.y,b.z),c.projectionMatrixInverse.getInverse(c.projectionMatrix),a.multiplyMatrices(c.matrixWorld,c.projectionMatrixInverse),this.ray.direction.applyProjection(a),this.ray.direction.sub(this.ray.origin).normalize())}),c.prototype.intersectObjects=function(a,c){for(var d=[],q=0,g=c.length;q<g;q++)a:{var L=void 0,K=void 0,B=void 0,G=void 0,z=void 0,m=void 0,V=void 0,U=void 0,Y,Z=void 0;var R=void 0;var Q=a,I=c[q],H=d;
if(E.getPositionFromMatrix(Q.matrixWorld),void 0!==I.intersectionShape){var x=I.intersectionShape;var P=this.linePrecision;var T=(P*=Q.matrixWorld.getMaxScaleOnAxis())*P;if(!(void 0!==I.boundingSphere&&I.boundingSphere instanceof b.Sphere)||(e.copy(I.boundingSphere),e.applyMatrix4(Q.matrixWorld),this.ray.isIntersectionSphere(e))){var S=0;for(P=x.triangle.length;S<P;S++)if(x.triangle[S]instanceof b.Triangle&&!(l.copy(x.triangle[S]),l.applyMatrix4(Q.matrixWorld),R=l.getNormal(),0<=(Z=this.ray.direction.dot(R)))&&
!(r.subVectors(l.a,this.ray.origin),0>(V=R.dot(r)/Z))){h.copy(this.ray.direction).multiplyScalar(V).add(this.ray.origin);h.sub(l.a);v.copy(l.b).sub(l.a);w.copy(l.c).sub(l.a);var J=v.dot(w),p=v.lengthSq(),D=w.lengthSq();0>(B=(p*h.dot(w)-J*h.dot(v))/(p*D-J*J))||1<B||0>(G=(h.dot(v)-B*J)/p)||1<G||1<G+B||H.push({clickable:I,distance:V})}S=0;for(P=x.cylinder.length;S<P;S++)x.cylinder[S]instanceof b.Cylinder&&(k.copy(x.cylinder[S]),k.applyMatrix4(Q.matrixWorld),r.subVectors(k.c1,this.ray.origin),Y=r.dot(k.direction),
U=r.dot(this.ray.direction),0!==(m=1-(Z=Math.min(Math.max(this.ray.direction.dot(k.direction),-1),1))*Z))&&(K=(Z*U-Y)/m,L=(U-Z*Y)/m,h.copy(k.direction).multiplyScalar(K).add(k.c1),v.copy(this.ray.direction).multiplyScalar(L).add(this.ray.origin),R=w.subVectors(h,v).lengthSq(),J=k.radius*k.radius,R<=J&&!(0>(G=Z*(B=V=0>=(z=(Z*Y-U)*(Z*Y-U)-m*(r.lengthSq()-Y*Y-J))?Math.sqrt(R):(U-Z*Y-Math.sqrt(z))/m)-Y)||G*G>k.lengthSq()||0>B)&&H.push({clickable:I,distance:V}));S=0;for(P=x.line.length;S<P;S+=2)h.copy(x.line[S]),
h.applyMatrix4(Q.matrixWorld),v.copy(x.line[S+1]),v.applyMatrix4(Q.matrixWorld),w.subVectors(v,h),z=w.lengthSq(),w.normalize(),r.subVectors(h,this.ray.origin),B=r.dot(w),U=r.dot(this.ray.direction),0!==(m=1-(Z=Math.min(Math.max(this.ray.direction.dot(w),-1),1))*Z)&&(K=(Z*U-B)/m,L=(U-Z*B)/m,h.add(w.multiplyScalar(K)),v.copy(this.ray.direction).multiplyScalar(L).add(this.ray.origin),w.subVectors(v,h).lengthSq()<T&&K*K<z&&H.push({clickable:I,distance:L}));S=0;for(P=x.sphere.length;S<P;S++)if(x.sphere[S]instanceof
b.Sphere&&(e.copy(x.sphere[S]),e.applyMatrix4(Q.matrixWorld),this.ray.isIntersectionSphere(e))){h.subVectors(e.center,this.ray.origin);L=h.dot(this.ray.direction);z=L*L-(h.lengthSq()-e.radius*e.radius);0>L||(V=0>=z?L:L-Math.sqrt(z),H.push({clickable:I,distance:V}));break a}}}}return d.sort(A),d},c}();b.Projector=function(){var a=new b.Matrix4;this.projectVector=function(b,e){return e.matrixWorldInverse.getInverse(e.matrixWorld),a.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),b.applyProjection(a)};
this.unprojectVector=function(b,e){return e.projectionMatrixInverse.getInverse(e.projectionMatrix),a.multiplyMatrices(e.matrixWorld,e.projectionMatrixInverse),b.applyProjection(a)}};b.Camera=function(a,c,e,k,l){b.Object3D.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==c?c:1;this.near=void 0!==e?e:.1;this.far=void 0!==k?k:2E3;this.projectionMatrix=new b.Matrix4;this.projectionMatrixInverse=new b.Matrix4;this.matrixWorldInverse=new b.Matrix4;this.right=this.position.z*Math.tan(Math.PI/180*
a);this.left=-this.right;this.top=this.right/this.aspect;this.bottom=-this.top;this.ortho=!!l;this.updateProjectionMatrix()};b.Camera.prototype=Object.create(b.Object3D.prototype);b.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))};b.Camera.prototype.updateProjectionMatrix=function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,
this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far);this.projectionMatrixInverse.getInverse(this.projectionMatrix)};b.SpritePlugin=function(){function a(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var c,e,k,l,r,h,v,w,E,A;this.init=function(a){c=a.context;e=a;k=a.getPrecision();l=new Float32Array(16);r=new Uint16Array(6);a=0;l[a++]=-1;l[a++]=-1;l[a++]=0;l[a++]=0;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;l[a++]=1;l[a++]=
1;l[a++]=1;l[a++]=-1;l[a++]=1;l[a++]=0;l[a++]=1;a=0;r[a++]=0;r[a++]=1;r[a++]=2;r[a++]=0;r[a++]=2;r[a++]=3;h=c.createBuffer();v=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,h);c.bufferData(c.ARRAY_BUFFER,l,c.STATIC_DRAW);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,v);c.bufferData(c.ELEMENT_ARRAY_BUFFER,r,c.STATIC_DRAW);a=b.ShaderLib.sprite;var d=k,f=c.createProgram(),q=c.createShader(c.FRAGMENT_SHADER),g=c.createShader(c.VERTEX_SHADER);d="precision "+d+" float;\n";(c.shaderSource(q,d+a.fragmentShader),c.shaderSource(g,
d+a.vertexShader),c.compileShader(q),c.compileShader(g),c.getShaderParameter(q,c.COMPILE_STATUS)&&c.getShaderParameter(g,c.COMPILE_STATUS))?(c.attachShader(f,q),c.attachShader(f,g),c.linkProgram(f),c.getProgramParameter(f,c.LINK_STATUS)||console.error("Could not initialize shader"),a=f):a=(console.error(c.getShaderInfoLog(q)),console.error("could not initialize shader"),null);w=a;E={};A={};E.position=c.getAttribLocation(w,"position");E.uv=c.getAttribLocation(w,"uv");A.uvOffset=c.getUniformLocation(w,
"uvOffset");A.uvScale=c.getUniformLocation(w,"uvScale");A.rotation=c.getUniformLocation(w,"rotation");A.scale=c.getUniformLocation(w,"scale");A.alignment=c.getUniformLocation(w,"alignment");A.color=c.getUniformLocation(w,"color");A.map=c.getUniformLocation(w,"map");A.opacity=c.getUniformLocation(w,"opacity");A.useScreenCoordinates=c.getUniformLocation(w,"useScreenCoordinates");A.screenPosition=c.getUniformLocation(w,"screenPosition");A.modelViewMatrix=c.getUniformLocation(w,"modelViewMatrix");A.projectionMatrix=
c.getUniformLocation(w,"projectionMatrix");A.fogType=c.getUniformLocation(w,"fogType");A.fogDensity=c.getUniformLocation(w,"fogDensity");A.fogNear=c.getUniformLocation(w,"fogNear");A.fogFar=c.getUniformLocation(w,"fogFar");A.fogColor=c.getUniformLocation(w,"fogColor");A.alphaTest=c.getUniformLocation(w,"alphaTest")};this.render=function(b,d,f,k){var g=b.__webglSprites,l=g.length;if(l){var q=E,C=A,r=.5*f,z=.5*k;c.useProgram(w);c.enableVertexAttribArray(q.position);c.enableVertexAttribArray(q.uv);c.disable(c.CULL_FACE);
c.enable(c.BLEND);c.bindBuffer(c.ARRAY_BUFFER,h);c.vertexAttribPointer(q.position,2,c.FLOAT,!1,16,0);c.vertexAttribPointer(q.uv,2,c.FLOAT,!1,16,8);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,v);c.uniformMatrix4fv(C.projectionMatrix,!1,d.projectionMatrix.elements);c.activeTexture(c.TEXTURE0);c.uniform1i(C.map,0);var m=q=0,V=b.fog;V?(c.uniform3f(C.fogColor,V.color.r,V.color.g,V.color.b),c.uniform1f(C.fogNear,V.near),c.uniform1f(C.fogFar,V.far),c.uniform1i(C.fogType,1),q=1,m=1):(c.uniform1i(C.fogType,0),q=0,
m=0);var U,Y,Z=[];for(V=0;V<l;V++){var R=(U=g[V]).material;U.visible&&0!==R.opacity&&(R.useScreenCoordinates?U.z=-U.position.z:(U._modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,U.matrixWorld),U.z=-U._modelViewMatrix.elements[14]))}g.sort(a);for(V=0;V<l;V++)if(R=(U=g[V]).material,U.visible&&0!==R.opacity&&R.map&&R.map.image&&R.map.image.width)c.uniform1f(C.alphaTest,R.alphaTest),d=R.map.image.height,Z[0]=R.map.image.width*e.devicePixelRatio/f,Z[1]=d*e.devicePixelRatio/k,!0===R.useScreenCoordinates?
(c.uniform1i(C.useScreenCoordinates,1),c.uniform3f(C.screenPosition,(U.position.x*e.devicePixelRatio-r)/r,(z-U.position.y*e.devicePixelRatio)/z,Math.max(0,Math.min(1,U.position.z)))):(c.uniform1i(C.useScreenCoordinates,0),c.uniformMatrix4fv(C.modelViewMatrix,!1,U._modelViewMatrix.elements)),q!==(Y=b.fog&&R.fog?m:0)&&(c.uniform1i(C.fogType,Y),q=Y),d=1/(R.scaleByViewport?k:1),Z[0]=Z[0]*d*U.scale.x,Z[1]=Z[1]*d*U.scale.y,c.uniform2f(C.uvScale,R.uvScale.x,R.uvScale.y),c.uniform2f(C.uvOffset,R.uvOffset.x,
R.uvOffset.y),c.uniform2f(C.alignment,R.alignment.x,R.alignment.y),c.uniform1f(C.opacity,R.opacity),c.uniform3f(C.color,R.color.r,R.color.g,R.color.b),c.uniform1f(C.rotation,U.rotation),c.uniform2fv(C.scale,Z),e.setDepthTest(R.depthTest),e.setDepthWrite(R.depthWrite),e.setTexture(R.map,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0);c.enable(c.CULL_FACE)}}};b.Light=function(a,c){b.Object3D.call(this);this.color=new b.Color(a);this.position=new b.Vector3(0,1,0);this.target=new b.Object3D;this.intensity=
void 0!==c?c:1;this.onlyShadow=this.castShadow=!1};b.Light.prototype=Object.create(b.Object3D.prototype);b.Material=function(){b.EventDispatcher.call(this);this.id=b.MaterialIdCount++;this.name="";this.side=b.FrontSide;this.opacity=1;this.transparent=!1;this.stencilTest=this.depthWrite=this.depthTest=!0;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.needsUpdate=this.visible=!0};b.Material.prototype.setValues=function(a){if(void 0!==a)for(var c in a){var e=
a[c];if(void 0!==e){if(c in this){var k=this[c];k instanceof b.Color&&e instanceof b.Color?k.copy(e):k instanceof b.Color?k.set(e):k instanceof b.Vector3&&e instanceof b.Vector3?k.copy(e):this[c]=e}}else console.warn("$3Dmol.Material: '"+c+"' parameter is undefined.")}};b.Material.prototype.clone=function(a){return void 0===a&&(a=new b.Material),a.name=this.name,a.side=this.side,a.opacity=this.opacity,a.transparent=this.transparent,a.depthTest=this.depthTest,a.depthWrite=this.depthWrite,a.stencilTest=
this.stencilTest,a.polygonOffset=this.polygonOffset,a.polygonOffsetFactor=this.polygonOffsetFactor,a.polygonOffsetUnits=this.polygonOffsetUnits,a.alphaTest=this.alphaTest,a.overdraw=this.overdraw,a.visible=this.visible,a};b.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})};b.MaterialIdCount=0;b.LineBasicMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=!1;this.fog=!0;this.shaderID=
"basic";this.setValues(a)};b.LineBasicMaterial.prototype=Object.create(b.Material.prototype);b.LineBasicMaterial.prototype.clone=function(){var a=new b.LineBasicMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a};b.MeshLambertMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=
null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID="lambert";this.vertexColors=b.NoColors;this.skinning=!1;this.setValues(a)};b.MeshLambertMaterial.prototype=Object.create(b.Material.prototype);b.MeshLambertMaterial.prototype.clone=function(a){return void 0===a&&(a=new b.MeshLambertMaterial),b.Material.prototype.clone.call(this,a),a.color.copy(this.color),
a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a};b.MeshDoubleLambertMaterial=
function(a){b.MeshLambertMaterial.call(this,a);this.shaderID="lambertdouble";this.side=b.DoubleSide};b.MeshDoubleLambertMaterial.prototype=Object.create(b.MeshLambertMaterial.prototype);b.MeshDoubleLambertMaterial.prototype.clone=function(){var a=new b.MeshDoubleLambertMaterial;return b.MeshLambertMaterial.prototype.clone.call(this,a),a};b.MeshOutlineMaterial=function(a){b.Material.call(this);a=a||{};this.fog=!0;this.shaderID="outline";this.wireframe=!1;this.outlineColor=a.color||new b.Color(0,0,
0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1};b.MeshOutlineMaterial.prototype=Object.create(b.Material.prototype);b.MeshOutlineMaterial.prototype.clone=function(a){return void 0===a&&(a=new b.MeshOutlineMaterial),b.Material.prototype.clone.call(this,a),a.fog=this.fog,a.shaderID=this.shaderID,a.wireframe=this.wireframe,a};b.ImposterMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=new b.Color(1048575);this.emissive=new b.Color(0);this.imposter=
!0;this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID=null;this.vertexColors=b.NoColors;this.skinning=!1;this.setValues(a)};b.ImposterMaterial.prototype=Object.create(b.Material.prototype);b.ImposterMaterial.prototype.clone=function(){var a=new b.ImposterMaterial;
return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=
this.morphTargets,a.morphNormals=this.morphNormals,a};b.SphereImposterMaterial=function(a){b.ImposterMaterial.call(this);this.shaderID="sphereimposter";this.setValues(a)};b.SphereImposterMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.SphereImposterMaterial.prototype.clone=function(){var a=new b.SphereImposterMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a};b.SphereImposterOutlineMaterial=function(a){b.ImposterMaterial.call(this);a=a||{};this.shaderID="sphereimposteroutline";
this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||.1;this.outlinePushback=a.pushback||1;this.setValues(a)};b.SphereImposterOutlineMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.SphereImposterOutlineMaterial.prototype.clone=function(){var a=new b.SphereImposterOutlineMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a.outlineColor=this.outlineColor,a.outlineWidth=this.outlineWidth,a.outlinePushback=this.outlinePushback,a};b.StickImposterMaterial=
function(a){b.ImposterMaterial.call(this);this.shaderID="stickimposter";this.setValues(a)};b.StickImposterMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.StickImposterMaterial.prototype.clone=function(){var a=new b.StickImposterMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a};b.StickImposterOutlineMaterial=function(a){b.ImposterMaterial.call(this);a=a||{};this.shaderID="stickimposteroutline";this.outlineColor=a.color||new b.Color(0,0,0);this.outlineWidth=a.width||
.1;this.outlinePushback=a.pushback||1;this.setValues(a)};b.StickImposterOutlineMaterial.prototype=Object.create(b.ImposterMaterial.prototype);b.StickImposterOutlineMaterial.prototype.clone=function(){var a=new b.StickImposterOutlineMaterial;return b.ImposterMaterial.prototype.clone.call(this,a),a.outlineColor=this.outlineColor,a.outlineWidth=this.outlineWidth,a.outlinePushback=this.outlinePushback,a};b.InstancedMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.ambient=
new b.Color(1048575);this.emissive=new b.Color(0);this.wrapAround=!1;this.wrapRGB=new b.Vector3(1,1,1);this.envMap=this.specularMap=this.lightMap=this.map=null;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.shading=b.SmoothShading;this.shaderID="instanced";this.vertexColors=b.NoColors;this.skinning=!1;this.sphere=null;this.setValues(a)};b.InstancedMaterial.prototype=Object.create(b.Material.prototype);
b.InstancedMaterial.prototype.clone=function(){var a=new b.InstancedMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),a.ambient.copy(this.ambient),a.emissive.copy(this.emissive),a.wrapAround=this.wrapAround,a.wrapRGB.copy(this.wrapRGB),a.map=this.map,a.lightMap=this.lightMap,a.specularMap=this.specularMap,a.envMap=this.envMap,a.combine=this.combine,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,a.fog=this.fog,a.shading=this.shading,a.shaderID=
this.shaderID,a.vertexColors=this.vertexColors,a.skinning=this.skinning,a.morphTargets=this.morphTargets,a.morphNormals=this.morphNormals,a.sphere=this.sphere,a};b.SpriteMaterial=function(a){b.Material.call(this);this.color=new b.Color(16777215);this.map=new b.Texture;this.useScreenCoordinates=!0;this.depthTest=!this.useScreenCoordinates;this.sizeAttenuation=!this.useScreenCoordinates;this.scaleByViewPort=!this.sizeAttenuation;this.alignment=b.SpriteAlignment.center.clone();this.fog=!1;this.uvOffset=
new b.Vector2(0,0);this.uvScale=new b.Vector2(1,1);this.setValues(a);void 0===(a=a||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates);void 0===a.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates);void 0===a.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)};b.SpriteMaterial.prototype=Object.create(b.Material.prototype);b.SpriteMaterial.prototype.clone=function(){var a=new b.SpriteMaterial;return b.Material.prototype.clone.call(this,a),a.color.copy(this.color),
a.map=this.map,a.useScreenCoordinates=this.useScreenCoordinates,a.sizeAttenuation=this.sizeAttenuation,a.scaleByViewport=this.scaleByViewPort,a.alignment.copy(this.alignment),a.uvOffset.copy(this.uvOffset),a};b.SpriteAlignment={};b.SpriteAlignment.topLeft=new b.Vector2(1,-1);b.SpriteAlignment.topCenter=new b.Vector2(0,-1);b.SpriteAlignment.topRight=new b.Vector2(-1,-1);b.SpriteAlignment.centerLeft=new b.Vector2(1,0);b.SpriteAlignment.center=new b.Vector2(0,0);b.SpriteAlignment.centerRight=new b.Vector2(-1,
0);b.SpriteAlignment.bottomLeft=new b.Vector2(1,1);b.SpriteAlignment.bottomCenter=new b.Vector2(0,1);b.SpriteAlignment.bottomRight=new b.Vector2(-1,1);b.Texture=function(a){b.EventDispatcher.call(this);this.id=b.TextureIdCount++;this.name="";this.image=a;this.mipmaps=[];this.mapping=new b.UVMapping;this.wrapT=this.wrapS=b.ClampToEdgeWrapping;this.magFilter=b.LinearFilter;this.minFilter=b.LinearMipMapLinearFilter;this.anisotropy=1;this.format=b.RGBAFormat;this.type=b.UnsignedByteType;this.offset=new b.Vector2(0,
0);this.repeat=new b.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.needsUpdate=!1;this.onUpdate=null};b.Texture.prototype={constructor:b.Texture,clone:function(a){return void 0===a&&(a=new b.Texture),a.image=this.image,a.mipmaps=this.mipmaps.slice(0),a.mapping=this.mapping,a.wrapS=this.wrapS,a.wrapT=this.wrapT,a.magFilter=this.magFilter,a.minFilter=this.minFilter,a.anisotropy=this.anisotropy,a.format=this.format,a.type=this.type,a.offset.copy(this.offset),
a.repeat.copy(this.repeat),a.generateMipmaps=this.generateMipmaps,a.premultiplyAlpha=this.premultiplyAlpha,a.flipY=this.flipY,a.unpackAlignment=this.unpackAlignment,a},dispose:function(){this.dispatchEvent({type:"dispose"})}};b.TextureIdCount=0;b.FrontSide=0;b.BackSide=1;b.DoubleSide=2;b.NoShading=0;b.FlatShading=1;b.SmoothShading=2;b.NoColors=0;b.FaceColors=1;b.VertexColors=2;b.MultiplyOperation=0;b.MixOperation=1;b.AddOperation=2;b.UVMapping=function(){};b.ClampToEdgeWrapping=1001;b.LinearFilter=
1006;b.LinearMipMapLinearFilter=1008;b.UnsignedByteType=1009;b.RGBAFormat=1021;b.Line=function(a,c,e){b.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new b.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==e?e:b.LineStrip};b.LineStrip=0;b.LinePieces=1;b.Line.prototype=Object.create(b.Object3D.prototype);b.Line.prototype.clone=function(a){return void 0===a&&(a=new b.Line(this.geometry,this.material,this.type)),b.Object3D.prototype.clone.call(this,a),a};b.Mesh=function(a,
c){b.Object3D.call(this);this.geometry=a;this.material=void 0!==c?c:new b.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})};b.Mesh.prototype=Object.create(b.Object3D.prototype);b.Mesh.prototype.clone=function(a){return void 0===a&&(a=new b.Mesh(this.geometry,this.material)),b.Object3D.prototype.clone.call(this,a),a};b.Sprite=function(a){b.Object3D.call(this);this.material=void 0!==a?a:new b.SpriteMaterial;this.rotation3d=this.rotation;this.rotation=0};b.Sprite.prototype=Object.create(b.Object3D.prototype);
b.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale);this.matrixWorldNeedsUpdate=!0};b.Sprite.prototype.clone=function(a){return void 0===a&&(a=new b.Sprite(this.material)),b.Object3D.prototype.clone.call(this,a),a};b.Renderer=function(a){function c(a){ta[a]||(m.enableVertexAttribArray(a),ta[a]=!0)}function e(a,b){var c;
return"fragment"===a?c=m.createShader(m.FRAGMENT_SHADER):"vertex"===a&&(c=m.createShader(m.VERTEX_SHADER)),m.shaderSource(c,b),m.compileShader(c),m.getShaderParameter(c,m.COMPILE_STATUS)?c:(console.error(m.getShaderInfoLog(c)),console.error("could not initialize shader"),null)}function k(a,c,d,f,g){f.needsUpdate&&(f.program&&ea(f),V.initMaterial(f,c,d,g),f.needsUpdate=!1);var e=!1,h=f.program,p=h.uniforms,k=f.uniforms;return h!=Z&&(m.useProgram(h),Z=h,e=!0),f.id!=R&&(R=f.id,e=!0),a!=I&&(I=a,e=!0),
m.uniformMatrix4fv(p.projectionMatrix,!1,a.projectionMatrix.elements),m.uniformMatrix4fv(p.modelViewMatrix,!1,g._modelViewMatrix.elements),m.uniformMatrix3fv(p.normalMatrix,!1,g._normalMatrix.elements),e&&(k.fogColor.value=d.color,k.fogNear.value=d.near,k.fogFar.value=d.far,f.shaderID.startsWith("lambert")||"instanced"===f.shaderID||f.shaderID.endsWith("imposter")?(m.uniformMatrix4fv(p.viewMatrix,!1,a.matrixWorldInverse.elements),na&&(!function(a,c){var d,f,g,e,h=ka,p=h.directional.colors,m=h.directional.positions,
k=0,l=0;a=0;for(d=c.length;a<d;a++)(f=c[a],g=f.color,e=f.intensity,f.distance,f instanceof b.Light)&&(0,W.getPositionFromMatrix(f.matrixWorld),X.getPositionFromMatrix(f.target.matrixWorld),W.sub(X),W.normalize(),0!==W.x||0!==W.y||0!==W.z)&&(m[l]=W.x,m[l+1]=W.y,m[l+2]=W.z,p[l]=g.r*e,p[l+1]=g.g*e,p[l+2]=g.b*e,l+=3,k++);h.ambient[0]=0;h.ambient[1]=0;h.ambient[2]=0;h.directional.length=k}(0,c),na=!1),k.directionalLightColor.value=ka.directional.colors,k.directionalLightDirection.value=ka.directional.positions):
f.shaderID.endsWith("outline")?(k.outlineColor.value=f.outlineColor,k.outlineWidth.value=f.outlineWidth,k.outlinePushback.value=f.outlinePushback):"sphereimposter"===f.shaderID&&(m.uniformMatrix4fv(p.viewMatrix,!1,a.matrixWorldInverse.elements),m.uniformMatrix3fv(p.normalMatrix,!1,g._normalMatrix.elements),k.directionalLightColor.value=ka.directional.colors,k.directionalLightDirection.value=ka.directional.positions),k.opacity.value=f.opacity,function(a,b){var c,d,f,g;for(c in b)a[c]&&(d=b[c].type,
f=b[c].value,g=a[c],"f"===d?m.uniform1f(g,f):"fv"===d?m.uniform3fv(g,f):"c"===d?m.uniform3f(g,f.r,f.g,f.b):"f4"===d&&m.uniform4f(g,f[0],f[1],f[2],f[3]))}(p,k)),h}function l(a,b,c,d,f,g,e){var h,p,k,l,q,C,D;b?(q=a.length-1,C=-1,D=-1):(q=0,C=a.length,D=1);for(b=q;b!==C;b+=D)(h=a[b]).render&&(p=h.object,k=h.buffer,l=h[c])&&(e&&V.setBlending(!0),V.setDepthTest(l.depthTest),V.setDepthWrite(l.depthWrite),q=l.polygonOffset,l.polygonOffsetFactor,l.polygonOffsetUnits,null!==q&&(q?m.enable(m.POLYGON_OFFSET_FILL):
m.disable(m.POLYGON_OFFSET_FILL)),q=p._modelViewMatrix.isReflected(),V.setMaterialFaces(l,q),V.renderBuffer(d,f,g,l,k,p),(z||l.outline)&&("sphereimposter"==l.shaderID?V.renderBuffer(d,f,g,B,k,p):"stickimposter"==l.shaderID?V.renderBuffer(d,f,g,G,k,p):l.wireframe||"basic"===l.shaderID||0===l.opacity||V.renderBuffer(d,f,g,K,k,p)))}function r(a,c){a instanceof b.Mesh||a instanceof b.Line?function(a,b){for(var c=a.length-1;0<=c;--c)a[c].object===b&&a.splice(c,1)}(c.__webglObjects,a):a instanceof b.Sprite&&
function(a,b){for(var c=a.length-1;0<=c;--c)a[c]===b&&a.splice(c,1)}(c.__webglSprites,a);a.__webglActive=!1}function h(a){return 0==(a&a-1)}function v(a){return a===b.UnsignedByteType?m.UNSIGNED_BYTE:a===b.RGBAFormat?m.RGBA:0}a=a||{};this.row=a.row;this.col=a.col;this.rows=a.rows;this.cols=a.cols;var w=void 0!==a.canvas?a.canvas:document.createElement("canvas"),E=void 0!==a.precision?a.precision:"highp",A=void 0===a.alpha||a.alpha,q=void 0===a.premultipliedAlpha||a.premultipliedAlpha,d=void 0!==a.antialias&&
a.antialias,f=void 0===a.stencil||a.stencil,C=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,g=void 0!==a.clearColor?new b.Color(a.clearColor):new b.Color(0),L=void 0!==a.clearAlpha?a.clearAlpha:0,K=new b.MeshOutlineMaterial(a.outline),B=new b.SphereImposterOutlineMaterial(a.outline),G=new b.StickImposterOutlineMaterial(a.outline),z=!!a.outline;this.domElement=w;this.context=null;this.devicePixelRatio=void 0!==a.devicePixelRatio?a.devicePixelRatio:void 0!==window.devicePixelRatio?window.devicePixelRatio:
1;w.id=a.id;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var m,V=this,U=[],Y=0,Z=null,R=-1,Q=null,I=null,x=0,ba=-1,P=-1,T=-1,S=-1,J=null,p=0,D=0,O=0,N=0,ta={},ia=new b.Matrix4,X=new b.Vector3,W=new b.Vector3,na=!0,ka={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},
point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{if(!(m=w.getContext("experimental-webgl",{alpha:A,premultipliedAlpha:q,antialias:d,stencil:f,preserveDrawingBuffer:C}))&&!(m=w.getContext("webgl",{alpha:A,premultipliedAlpha:q,antialias:d,stencil:f,preserveDrawingBuffer:C})))throw"Error creating WebGL context.";}catch(ya){console.error(ya)}!0;
m.clearColor(0,0,0,1);m.clearDepth(1);m.clearStencil(0);m.enable(m.DEPTH_TEST);m.depthFunc(m.LEQUAL);m.frontFace(m.CCW);m.cullFace(m.BACK);m.enable(m.CULL_FACE);m.enable(m.BLEND);m.blendEquation(m.FUNC_ADD);m.blendFunc(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA);m.clearColor(g.r,g.g,g.b,L);this.context=m;var F=m.getExtension("ANGLE_instanced_arrays"),fa=m.getExtension("EXT_frag_depth");this.supportedExtensions=function(){return{supportsAIA:!!F,supportsImposters:!!fa}};this.getContext=function(){return m};
this.getPrecision=function(){return E};this.setClearColorHex=function(a,b){g.setHex(a);L=b;m.clearColor(g.r,g.g,g.b,L)};this.enableOutline=function(a){K=new b.MeshOutlineMaterial(a);B=new b.SphereImposterOutlineMaterial(a);G=new b.StickImposterOutlineMaterial(a);z=!0};this.disableOutline=function(){z=!1};this.setViewport=function(){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var a=w.width/this.cols,b=w.height/this.rows;p=a*this.devicePixelRatio;D=b*this.devicePixelRatio;m.drawingBufferWidth=
3*p;m.drawingBufferHeight=D;m.enable(m.SCISSOR_TEST);m.scissor(a*this.col,b*this.row,a,b);m.viewport(a*this.col,b*this.row,a,b)}};this.setSize=function(a,b){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var c=a/this.cols,d=b/this.rows;w.width=a*this.devicePixelRatio;w.height=b*this.devicePixelRatio;p=c*this.devicePixelRatio;D=d*this.devicePixelRatio;w.style.width=a+"px";w.style.height=b+"px";this.setViewport()}else p=w.width=a*this.devicePixelRatio,D=w.height=b*this.devicePixelRatio,
w.style.width=a+"px",w.style.height=b+"px",m.viewport(0,0,m.drawingBufferWidth,m.drawingBufferHeight)};this.clear=function(a,b,c){var d=0;(void 0===a||a)&&(d|=m.COLOR_BUFFER_BIT);(void 0===b||b)&&(d|=m.DEPTH_BUFFER_BIT);(void 0===c||c)&&(d|=m.STENCIL_BUFFER_BIT);m.clear(d)};this.clearTarget=function(a,b,c){this.clear(a,b,c)};this.setMaterialFaces=function(a,c){var d=a.side===b.DoubleSide;a=a.side===b.BackSide;a=c?!a:a;ba!==d&&(d?m.disable(m.CULL_FACE):m.enable(m.CULL_FACE),ba=d);P!==a&&(a?m.frontFace(m.CW):
m.frontFace(m.CCW),P=a)};this.setDepthTest=function(a){T!==a&&(a?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),T=a)};this.setDepthWrite=function(a){S!==a&&(m.depthMask(a),S=a)};this.setBlending=function(a){a?(m.enable(m.BLEND),m.blendEquationSeparate(m.FUNC_ADD,m.FUNC_ADD),m.blendFuncSeparate(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA)):m.disable(m.BLEND);a};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};var ea=function(a){var b=a.program;if(void 0!==
b){var c,d;a.program=void 0;var f=!1;a=0;for(c=U.length;a<c;a++)if((d=U[a]).program===b){d.usedTimes--;0===d.usedTimes&&(f=!0);break}if(!0===f){f=[];a=0;for(c=U.length;a<c;a++)(d=U[a]).program!==b&&f.push(d);U=f;m.deleteProgram(b);V.info.memory.programs--}}},aa=function(a){a=a.target;a.removeEventListener("dispose",aa);if(a.__webglInit=void 0,void 0!==a.__webglVertexBuffer&&m.deleteBuffer(a.__webglVertexBuffer),void 0!==a.__webglColorBuffer&&m.deleteBuffer(a.__webglColorBuffer),void 0!==a.geometryGroups)for(var b=
0,c=a.groups;b<c;b++){var d=a.geometryGroups[b];void 0!==d.__webglVertexBuffer&&m.deleteBuffer(d.__webglVertexBuffer);void 0!==d.__webglColorBuffer&&m.deleteBuffer(d.__webglColorBuffer);void 0!==d.__webglNormalBuffer&&m.deleteBuffer(d.__webglNormalBuffer);void 0!==d.__webglFaceBuffer&&m.deleteBuffer(d.__webglFaceBuffer);void 0!==d.__webglLineBuffer&&m.deleteBuffer(d.__webglLineBuffer)}V.info.memory.geometries--},la=function(a){a=a.target;a.removeEventListener("dispose",la);a.image&&a.image.__webglTextureCube?
m.deleteTexture(a.image.__webglTextureCube):a.__webglInit&&(a.__webglInit=!1,m.deleteTexture(a.__webglTexture));V.info.memory.textures--},oa=function(a){a=a.target;a.removeEventListener("dispose",oa);ea(a)};this.initMaterial=function(a){var c;if(a.addEventListener("dispose",oa),c=a.shaderID)c=b.ShaderLib[c],a.vertexShader=c.vertexShader,a.fragmentShader=c.fragmentShader,a.uniforms=b.ShaderUtils.clone(c.uniforms);var d={wireframe:a.wireframe,fragdepth:a.imposter};a:{var f=a.fragmentShader,g=a.vertexShader,
h=a.uniforms,p;c=[];for(k in c.push(f),c.push(g),d)c.push(k),c.push(d[k]);c=c.join();var k=0;for(p=U.length;k<p;k++){var l=U[k];if(l.code===c){c=(l.usedTimes++,l.program);break a}}k=m.createProgram();var q;l="precision "+E+" float;";p=[l].join("\n");d=e("fragment",[d.fragdepth?"#extension GL_EXT_frag_depth: enable":"",d.wireframe?"#define WIREFRAME 1":"",l].join("\n")+f);g=e("vertex",p+g);for(q in m.attachShader(k,g),m.attachShader(k,d),m.linkProgram(k),m.getProgramParameter(k,m.LINK_STATUS)||console.error("Could not initialize shader"),
k.uniforms={},k.attributes={},g=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"],h)g.push(q);for(q=0;q<g.length;q++)h=g[q],k.uniforms[h]=m.getUniformLocation(k,h);g="position normal color lineDistance offset radius".split(" ");for(q=0;q<g.length;q++)h=g[q],k.attributes[h]=m.getAttribLocation(k,h);c=(k.id=Y++,U.push({program:k,code:c,usedTimes:1}),V.info.memory.programs=U.length,k)}a.program=c};this.renderBuffer=function(a,d,f,g,e,h){if(g.visible){d=(f=k(a,d,f,g,h)).attributes;a=
!1;f=16777215*e.id+2*f.id+(g.wireframe?1:0);f!==Q&&(Q=f,a=!0);if(a){for(var p in ta)ta[p]&&(m.disableVertexAttribArray(p),ta[p]=!1);!0;0<=d.position&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglVertexBuffer),c(d.position),m.vertexAttribPointer(d.position,3,m.FLOAT,!1,0,0));0<=d.color&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglColorBuffer),c(d.color),m.vertexAttribPointer(d.color,3,m.FLOAT,!1,0,0));0<=d.normal&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglNormalBuffer),c(d.normal),m.vertexAttribPointer(d.normal,3,
m.FLOAT,!1,0,0));0<=d.offset&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglOffsetBuffer),c(d.offset),m.vertexAttribPointer(d.offset,3,m.FLOAT,!1,0,0));0<=d.radius&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglRadiusBuffer),c(d.radius),m.vertexAttribPointer(d.radius,1,m.FLOAT,!1,0,0))}if(h instanceof b.Mesh){if("instanced"===g.shaderID){var l=g.sphere.geometryGroups[0];a&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglVertexBuffer),m.bufferData(m.ARRAY_BUFFER,l.vertexArray,m.STATIC_DRAW),m.bindBuffer(m.ARRAY_BUFFER,e.__webglNormalBuffer),
m.bufferData(m.ARRAY_BUFFER,l.normalArray,m.STATIC_DRAW),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),m.bufferData(m.ELEMENT_ARRAY_BUFFER,l.faceArray,m.STATIC_DRAW));l=l.faceidx;F.vertexAttribDivisorANGLE(d.offset,1);F.vertexAttribDivisorANGLE(d.radius,1);F.vertexAttribDivisorANGLE(d.color,1);F.drawElementsInstancedANGLE(m.TRIANGLES,l,m.UNSIGNED_SHORT,0,e.radiusArray.length);F.vertexAttribDivisorANGLE(d.offset,0);F.vertexAttribDivisorANGLE(d.radius,0);F.vertexAttribDivisorANGLE(d.color,
0)}else g.wireframe?(h=e.lineidx,g=g.wireframeLinewidth,g!==J&&(m.lineWidth(g),J=g),a&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),m.drawElements(m.LINES,h,m.UNSIGNED_SHORT,0)):(l=e.faceidx,a&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),m.drawElements(m.TRIANGLES,l,m.UNSIGNED_SHORT,0));V.info.render.calls++;V.info.render.vertices+=l;V.info.render.faces+=l/3}else h instanceof b.Line&&(h=e.vertices,e=g.linewidth,e!==J&&(m.lineWidth(e),J=e),m.drawArrays(m.LINES,0,h),V.info.render.calls++)}};
this.render=function(a,c,d){if(0!=c instanceof b.Camera){var f,e,h,k=a.__lights,q=a.fog;R=-1;na=!0;this.autoUpdateScene&&a.updateMatrixWorld();void 0===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);ia.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);this.autoUpdateObjects&&this.initWebGLObjects(a);V.info.render.calls=0;V.info.render.vertices=0;V.info.render.faces=0;V.info.render.points=0;O=p;N=D;this.setViewport();(this.autoClear||d)&&(m.clearColor(g.r,g.g,
g.b,L),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil));d=0;for(f=(h=a.__webglObjects).length;d<f;d++){var u=(e=h[d]).object;e.render=!1;if(u.visible){u._modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,u.matrixWorld);u._normalMatrix.getInverse(u._modelViewMatrix);u._normalMatrix.transpose();u=e;var C=u.object.material;C.transparent?(u.opaque=null,u.transparent=C,C.wireframe)||(C=C.clone(),C.opacity=0,u.blank=C):(u.opaque=C,u.transparent=null);e.render=!0}}this.setBlending(!1);
l(a.__webglObjects,!0,"opaque",c,k,q,!1);l(a.__webglObjects,!0,"blank",c,k,q,!0);l(a.__webglObjects,!1,"transparent",c,k,q,!0);k=this.renderPluginsPost;if(Q=-1,Z=null,I=null,-1,S=-1,T=-1,ba=-1,R=-1,P=-1,k.length)for(q=0,d=k.length;q<d;q++)na=!0,k[q].render(a,c,O,N),Q=-1,I=Z=null,-1,P=R=ba=T=S=-1;this.setDepthTest(!0);this.setDepthWrite(!0)}else console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.")};this.initWebGLObjects=function(a){if(a.__webglObjects||(a.__webglObjects=
[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]),a.__objectsAdded.length){for(;a.__objectsAdded.length;){var c,d,f=a.__objectsAdded[0],g=a;if(!f.__webglInit&&(f.__webglInit=!0,f._modelViewMatrix=new b.Matrix4,f._normalMatrix=new b.Matrix3,void 0!==f.geometry&&void 0===f.geometry.__webglInit&&(f.geometry.__webglInit=!0,f.geometry.addEventListener("dispose",aa)),f instanceof b.Mesh||f instanceof b.Line)){var e=f.geometry;f.material;var h=0;for(d=e.geometryGroups.length;h<d;h++)(c=
e.geometryGroups[h]).id=x++,c.__webglVertexBuffer||(f instanceof b.Mesh?(c.radiusArray&&(c.__webglRadiusBuffer=m.createBuffer()),c.useOffset&&(c.__webglOffsetBuffer=m.createBuffer()),c.__webglVertexBuffer=m.createBuffer(),c.__webglNormalBuffer=m.createBuffer(),c.__webglColorBuffer=m.createBuffer(),c.__webglFaceBuffer=m.createBuffer(),c.__webglLineBuffer=m.createBuffer(),V.info.memory.geometries++,e.elementsNeedUpdate=!0,e.normalsNeedUpdate=!0):f instanceof b.Line&&(c.__webglVertexBuffer=m.createBuffer(),
c.__webglColorBuffer=m.createBuffer(),V.info.memory.geometries++),e.verticesNeedUpdate=!0,e.colorsNeedUpdate=!0)}if(!f.__webglActive){if(f instanceof b.Mesh||f instanceof b.Line)for(h=0,d=(e=f.geometry).geometryGroups.length;h<d;h++)c=e.geometryGroups[h],g.__webglObjects.push({buffer:c,object:f,opaque:null,transparent:null});else f instanceof b.Sprite&&g.__webglSprites.push(f);f.__webglActive=!0}a.__objectsAdded.splice(0,1)}Q=-1}for(;a.__objectsRemoved.length;)r(a.__objectsRemoved[0],a),a.__objectsRemoved.splice(0,
1);e=0;for(d=a.__webglObjects.length;e<d;e++)if(f=a.__webglObjects[e].object,h=f.geometry,f instanceof b.Mesh||f instanceof b.Line){f=0;for(g=h.geometryGroups.length;f<g;f++)if(c=h.geometryGroups[f],h.verticesNeedUpdate||h.elementsNeedUpdate||h.colorsNeedUpdate||h.normalsNeedUpdate){var p=m.STATIC_DRAW,k=c.vertexArray,l=c.colorArray;if(void 0!==c.__webglOffsetBuffer?(m.bindBuffer(m.ARRAY_BUFFER,c.__webglOffsetBuffer),m.bufferData(m.ARRAY_BUFFER,k,p)):(m.bindBuffer(m.ARRAY_BUFFER,c.__webglVertexBuffer),
m.bufferData(m.ARRAY_BUFFER,k,p)),m.bindBuffer(m.ARRAY_BUFFER,c.__webglColorBuffer),m.bufferData(m.ARRAY_BUFFER,l,p),c.normalArray&&void 0!==c.__webglNormalBuffer)k=c.normalArray,m.bindBuffer(m.ARRAY_BUFFER,c.__webglNormalBuffer),m.bufferData(m.ARRAY_BUFFER,k,p);if(c.radiusArray&&void 0!==c.__webglRadiusBuffer&&(m.bindBuffer(m.ARRAY_BUFFER,c.__webglRadiusBuffer),m.bufferData(m.ARRAY_BUFFER,c.radiusArray,p)),c.faceArray&&void 0!==c.__webglFaceBuffer)k=c.faceArray,m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,
c.__webglFaceBuffer),m.bufferData(m.ELEMENT_ARRAY_BUFFER,k,p);c.lineArray&&void 0!==c.__webglLineBuffer&&(k=c.lineArray,m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,c.__webglLineBuffer),m.bufferData(m.ELEMENT_ARRAY_BUFFER,k,p))}h.verticesNeedUpdate=!1;h.elementsNeedUpdate=!1;h.normalsNeedUpdate=!1;h.colorsNeedUpdate=!1;h.buffersNeedUpdate=!1}};this.getXYRatio=function(){return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col?[this.cols,this.rows]:[1,1]};this.getAspect=function(a,b){null!=a&&
null!=b||(a=w.width,b=w.height);var c=a/b;null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col&&(c=a/this.cols/(b/this.rows));return c};this.setTexture=function(a,b){if(a.needsUpdate){a.__webglInit||(a.__webglInit=!0,a.addEventListener("dispose",la),a.__webglTexture=m.createTexture(),V.info.memory.textures++);m.activeTexture(m.TEXTURE0+b);m.bindTexture(m.TEXTURE_2D,a.__webglTexture);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,a.flipY);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha);
m.pixelStorei(m.UNPACK_ALIGNMENT,a.unpackAlignment);b=a.image;b=h(b.width)&&h(b.height);var c=v(a.format),d=v(a.type),f=m.TEXTURE_2D;b?(m.texParameteri(f,m.TEXTURE_WRAP_S,v(a.wrapS)),m.texParameteri(f,m.TEXTURE_WRAP_T,v(a.wrapT)),m.texParameteri(f,m.TEXTURE_MAG_FILTER,v(a.magFilter)),m.texParameteri(f,m.TEXTURE_MIN_FILTER,v(a.minFilter))):(m.texParameteri(f,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(f,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(f,m.TEXTURE_MAG_FILTER,m.LINEAR),m.texParameteri(f,
m.TEXTURE_MIN_FILTER,m.LINEAR));!0;var g=a.mipmaps;if(0<g.length&&b){for(var e=0,p=g.length;e<p;e++)f=g[e],m.texImage2D(m.TEXTURE_2D,e,c,c,d,f);a.generateMipmaps=!1}else m.texImage2D(m.TEXTURE_2D,0,c,c,d,a.image);a.generateMipmaps&&b&&m.generateMipmap(m.TEXTURE_2D);a.needsUpdate=!1;a.onUpdate&&a.onUpdate()}else m.activeTexture(m.TEXTURE0+b),m.bindTexture(m.TEXTURE_2D,a.__webglTexture)};this.addPostPlugin(new b.SpritePlugin)};b.Scene=function(){b.Object3D.call(this);this.overrideMaterial=this.fog=
null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};b.Scene.prototype=Object.create(b.Object3D.prototype);b.Scene.prototype.__addObject=function(a){if(a instanceof b.Light)-1===this.__lights.indexOf(a)&&this.__lights.push(a),a.target&&void 0===a.target.parent&&this.add(a.target);else if(-1===this.__objects.indexOf(a)){this.__objects.push(a);this.__objectsAdded.push(a);var c=this.__objectsRemoved.indexOf(a);-1!==c&&this.__objectsRemoved.splice(c,
1)}for(c=0;c<a.children.length;c++)this.__addObject(a.children[c])};b.Scene.prototype.__removeObject=function(a){var c;a instanceof b.Light?-1!==(c=this.__lights.indexOf(a))&&this.__lights.splice(c,1):-1!==(c=this.__objects.indexOf(a))&&(this.__objects.splice(c,1),this.__objectsRemoved.push(a),-1!==this.__objectsAdded.indexOf(a)&&this.__objectsAdded.splice(c,1));for(c=0;c<a.children.length;c++)this.__removeObject(a.children[c])};b.Fog=function(a,c,e){this.name="";this.color=new b.Color(a);this.near=
void 0!==c?c:1;this.far=void 0!==e?e:1E3};b.Fog.prototype.clone=function(){return new b.Fog(this.color.getHex(),this.near,this.far)};b.ShaderUtils={clone:function(a){var c,e={};for(c in a){e[c]={};e[c].type=a[c].type;var k=a[c].value;k instanceof b.Color?e[c].value=k.clone():"number"==typeof k?e[c].value=k:k instanceof Array?e[c].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return e},stickimposterFragmentShader:"uniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos;\n    vec3 v = normalize(pos);\n    vec3 pa = p1;\n    vec3 va = normalize(p2-p1);\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) {\n       vec3 cp;\n       if( dotp1 < 0.0) {        cp = p1;\n       } else {\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t;\n       norm = normalize(qi-cp);\n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"};
b.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_FragColor = vec4(vLight*vColor, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvoid main() {\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    gl_Position = projectionMatrix * mvPosition;\n    mvPosition.z -= outlinePushback;\n    vec4 pushpos = projectionMatrix*mvPosition;\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}",
uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new b.Color(0,0,0)},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nuniform float outlinePushback;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+adjust;\n}",
uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new b.Color(0,0,0)},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[b.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    gl_FragColor = vec4(light*color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"].join("\n"),
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = color; vColor.z = abs(vColor.z);\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0];\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:b.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    to.xyz += normalize(to.xyz)*outlinePushback;\n    pt.xyz += normalize(pt.xyz)*outlinePushback;\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},outlineColor:{type:"c",value:new b.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",
vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    gl_Position = projectionMatrix * mvPosition;\n}",
uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new b.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",
vertexShader:"uniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n    gl_Position = finalPosition;\n}",
uniforms:{}}};"undefined"==typeof console&&(console={log:function(){}});b.ProteinSurface=function(){var a,c,e=0,k=0,l=0,r=2,h=0,v=0,w=0,E=0,A=null,q=null,d=null,f=0,C=0,g=0,L=0,K=0,B=0,G={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},z={},m={},V=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,
-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(b){for(var f=
{},g=0,h=b.length;g<h;g++)f[b[g]]=!0;b=c;g=0;for(h=b.length;g<h;g++)b[g].x=b[g].x/r-e,b[g].y=b[g].y/r-k,b[g].z=b[g].z/r-l;g=[];h=0;for(var m=a.length;h<m;h+=3){var C=a[h],B=a[h+1],v=a[h+2],z=b[B].atomid,K=b[v].atomid,J=b[C].atomid;z<J&&(J=z);K<J&&(J=K);f[J]&&C!==B&&B!==v&&C!==v&&(g.push(C),g.push(B),g.push(v))}return A=null,q=null,d=null,{vertices:b,faces:g}};this.initparm=function(a,b,c){1E6<c&&(r=1);c=1/r*5.5;f=a[0][0];L=a[1][0];C=a[0][1];K=a[1][1];g=a[0][2];B=a[1][2];b?(f-=1.4+c,C-=1.4+c,g-=1.4+
c,L+=1.4+c,K+=1.4+c,B+=1.4+c):(f-=c,C-=c,g-=c,L+=c,K+=c,B+=c);f=Math.floor(f*r)/r;C=Math.floor(C*r)/r;g=Math.floor(g*r)/r;L=Math.ceil(L*r)/r;K=Math.ceil(K*r)/r;B=Math.ceil(B*r)/r;e=-f;k=-C;l=-g;w=Math.ceil(r*(L-f))+1;v=Math.ceil(r*(K-C))+1;h=Math.ceil(r*(B-g))+1;this.boundingatom(b);E=1.4*r;A=new Uint8Array(w*v*h);q=new Float64Array(w*v*h);d=new Int32Array(w*v*h)};this.boundingatom=function(a){var b,c,d=[],f;for(f in G)if(G.hasOwnProperty(f)){var g=G[f];d[f]=a?(g+1.4)*r+.5:g*r+.5;g=d[f]*d[f];m[f]=
Math.floor(d[f])+1;z[f]=new Int32Array(m[f]*m[f]);for(var e=0,h=0;h<m[f];h++)for(var k=0;k<m[f];k++)(b=h*h+k*k)>g?z[f][e]=-1:(c=Math.sqrt(g-b),z[f][e]=Math.floor(c)),e++}};this.fillvoxels=function(a,b){for(var c=0,f=A.length;c<f;c++)A[c]=0,q[c]=-1,d[c]=-1;for(var g in b)c=a[b[g]],void 0!==c&&this.fillAtom(c,a);a=0;for(b=A.length;a<b;a++)1&A[a]&&(A[a]|=2)};this.fillAtom=function(a,b){var c,f,g,q,C,B,K,L,J,p,D,Z,Y;var U=Math.floor(.5+r*(a.x+e));var V=Math.floor(.5+r*(a.y+k));var E=Math.floor(.5+r*(a.z+
l));var W=a.elem&&void 0!==G[a.elem]?a.elem:"X",H=0,x=v*h;var F=0;for(Y=m[W];F<Y;F++)for(C=0;C<Y;C++){if(-1!=z[W][H])for(p=-1;2>p;p++)for(D=-1;2>D;D++)for(Z=-1;2>Z;Z++)if(0!==p&&0!==D&&0!==Z){var fa=p*F;var ea=Z*C;for(B=0;B<=z[W][H];B++)if(L=V+(q=B*D),J=E+ea,!(0>(K=U+fa)||0>L||0>J||K>=w||L>=v||J>=h)){var aa=K*x+L*h+J;if(1&A[aa]){var la=b[d[aa]];la.serial!=a.serial&&fa*fa+q*q+ea*ea<(c=U+fa-Math.floor(.5+r*(la.x+e)))*c+(f=V+q-Math.floor(.5+r*(la.y+k)))*f+(g=E+ea-Math.floor(.5+r*(la.z+l)))*g&&(d[aa]=
a.serial)}else A[aa]|=1,d[aa]=a.serial}}H++}};this.fillvoxelswaals=function(a,b){for(var c=0,d=A.length;c<d;c++)A[c]&=-3;for(var f in b)c=a[b[f]],void 0!==c&&this.fillAtomWaals(c,a)};this.fillAtomWaals=function(a,b){var c,f,g,q,C,B,K,L,J,p,D,Z,Y,U=0;var V=Math.floor(.5+r*(a.x+e));var E=Math.floor(.5+r*(a.y+k));var W=Math.floor(.5+r*(a.z+l));var H=a.elem&&void 0!==G[a.elem]?a.elem:"X",x=v*h;var F=0;for(Y=m[H];F<Y;F++)for(L=0;L<Y;L++){if(-1!=z[H][U])for(p=-1;2>p;p++)for(D=-1;2>D;D++)for(Z=-1;2>Z;Z++)if(0!==
p&&0!==D&&0!==Z){var fa=p*F;var ea=Z*L;for(J=0;J<=z[H][U];J++)if(B=E+(q=J*D),K=W+ea,!(0>(C=V+fa)||0>B||0>K||C>=w||B>=v||K>=h)){var aa=C*x+B*h+K;if(2&A[aa]){var la=b[d[aa]];la.serial!=a.serial&&fa*fa+q*q+ea*ea<(c=V+fa-Math.floor(.5+r*(la.x+e)))*c+(f=E+q-Math.floor(.5+r*(la.y+k)))*f+(g=W+ea-Math.floor(.5+r*(la.z+l)))*g&&(d[aa]=a.serial)}else A[aa]|=2,d[aa]=a.serial}}U++}};this.buildboundary=function(){for(var a=v*h,b=0;b<w;b++)for(var c=0;c<h;c++)for(var d=0;d<v;d++){var f=b*a+d*h+c;if(1&A[f])for(var g=
0;26>g;){var e=b+V[g][0],m=c+V[g][2],k=d+V[g][1];if(-1<e&&e<w&&-1<k&&k<v&&-1<m&&m<h&&!(1&A[e*a+k*h+m])){A[f]|=4;break}g++}}};var U=function(a,b,c){var d=new Int32Array(a*b*c*3);this.set=function(a,f,g,e){a=3*((a*b+f)*c+g);d[a]=e.ix;d[a+1]=e.iy;d[a+2]=e.iz};this.get=function(a,f,g){a=3*((a*b+f)*c+g);return{ix:d[a],iy:d[a+1],iz:d[a+2]}}};this.fastdistancemap=function(){var a,b,c,d,f=new U(w,v,h),g=v*h,e=E*E,m=[];for(a=0;a<w;a++)for(b=0;b<v;b++)for(c=0;c<h;c++)if(A[d=a*g+b*h+c]&=-3,1&A[d]&&4&A[d]){var k=
{ix:a,iy:b,iz:c};f.set(a,b,c,k);m.push(k);q[d]=0;A[d]|=2;A[d]&=-5}do for(c=this.fastoneshell(m,f),m=[],a=0,b=c.length;a<b;a++)d=g*c[a].ix+h*c[a].iy+c[a].iz,A[d]&=-5,q[d]<=1.0404*e&&m.push({ix:c[a].ix,iy:c[a].iy,iz:c[a].iz});while(0!==m.length);a=r-.5;0>a&&(a=0);e-=.5/(.1+a);for(a=0;a<w;a++)for(b=0;b<v;b++)for(c=0;c<h;c++)A[d=a*g+b*h+c]&=-5,1&A[d]&&(2&A[d]&&!(2&A[d]&&q[d]>=e)||(A[d]|=4))};this.fastoneshell=function(a,b){var c,d,f,g,e,m,k,l=[];if(0===a.length)return l;var C=v*h;var p=0;for(e=a.length;p<
e;p++){var B=a[p].ix;var K=a[p].iy;var z=a[p].iz;var L=b.get(B,K,z);for(g=0;6>g;g++){var r=B+V[g][0];var G=K+V[g][1];var U=z+V[g][2];r<w&&-1<r&&G<v&&-1<G&&U<h&&-1<U&&(k=r*C+h*G+U,1&A[k]&&!(2&A[k])?(b.set(r,G,z+V[g][2],L),m=(c=r-L.ix)*c+(d=G-L.iy)*d+(f=U-L.iz)*f,q[k]=m,A[k]|=2,A[k]|=4,l.push({ix:r,iy:G,iz:U})):1&A[k]&&2&A[k]&&(m=(c=r-L.ix)*c+(d=G-L.iy)*d+(f=U-L.iz)*f)<q[k]&&(b.set(r,G,U,L),q[k]=m,4&A[k]||(A[k]|=4,l.push({ix:r,iy:G,iz:U}))))}}p=0;for(e=a.length;p<e;p++)for(B=a[p].ix,K=a[p].iy,z=a[p].iz,
L=b.get(B,K,z),g=6;18>g;g++)r=B+V[g][0],G=K+V[g][1],U=z+V[g][2],r<w&&-1<r&&G<v&&-1<G&&U<h&&-1<U&&(k=r*C+h*G+U,1&A[k]&&!(2&A[k])?(b.set(r,G,z+V[g][2],L),m=(c=r-L.ix)*c+(d=G-L.iy)*d+(f=U-L.iz)*f,q[k]=m,A[k]|=2,A[k]|=4,l.push({ix:r,iy:G,iz:U})):1&A[k]&&2&A[k]&&(m=(c=r-L.ix)*c+(d=G-L.iy)*d+(f=U-L.iz)*f)<q[k]&&(b.set(r,G,U,L),q[k]=m,4&A[k]||(A[k]|=4,l.push({ix:r,iy:G,iz:U}))));p=0;for(e=a.length;p<e;p++)for(B=a[p].ix,K=a[p].iy,z=a[p].iz,L=b.get(B,K,z),g=18;26>g;g++)r=B+V[g][0],G=K+V[g][1],U=z+V[g][2],
r<w&&-1<r&&G<v&&-1<G&&U<h&&-1<U&&(k=r*C+h*G+U,1&A[k]&&!(2&A[k])?(b.set(r,G,z+V[g][2],L),m=(c=r-L.ix)*c+(d=G-L.iy)*d+(f=U-L.iz)*f,q[k]=m,A[k]|=2,A[k]|=4,l.push({ix:r,iy:G,iz:U})):1&A[k]&&2&A[k]&&(m=(c=r-L.ix)*c+(d=G-L.iy)*d+(f=U-L.iz)*f)<q[k]&&(b.set(r,G,U,L),q[k]=m,4&A[k]||(A[k]|=4,l.push({ix:r,iy:G,iz:U}))));return l};this.marchingcubeinit=function(a){for(var b=0,c=A.length;b<c;b++)1==a?A[b]&=-5:4==a?(A[b]&=-3,4&A[b]&&(A[b]|=2),A[b]&=-5):2==a?4&A[b]&&2&A[b]?A[b]&=-5:4&A[b]&&!(2&A[b])&&(A[b]|=2):
3==a&&(A[b]&=-5)};this.marchingcube=function(f){this.marchingcubeinit(f);c=[];a=[];b.MarchingCube.march(A,c,a,{smooth:1,nX:w,nY:v,nZ:h});f=v*h;for(var g=0,e=c.length;g<e;g++)c[g].atomid=d[c[g].x*f+h*c[g].y+c[g].z];b.MarchingCube.laplacianSmooth(1,c,a)}};b.autoload=function(a,c){var e,k,H;if(void 0!==l(".viewer_3Dmoljs")[0]&&(b.autoinit=!0),b.autoinit){a=null!=a?a:null;b.viewers={};var r=0;l(".viewer_3Dmoljs").each(function(){var h=l(this),v=[],w=[],E="";"static"==h.css("position")&&h.css("position",
"relative");H=null;h.data("pdb")?(v.push("https://files.rcsb.org/view/"+h.data("pdb")+".pdb"),w.push("pdb")):h.data("cid")?(w.push("sdf"),v.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+h.data("cid")+"/SDF?record_type=3d")):(h.data("href")||h.data("url"))&&(E=h.data("href"),v.push(E),H=E.substr(E.lastIndexOf(".")+1),w.push(H));var A=h.data();for(e in A)"pdb"===e.substring(0,3)&&"pdb"!==e?(v.push("https://files.rcsb.org/view/"+A[e]+".pdb"),w.push("pdb")):"href"===e.substring(0,4)&&
"href"!==e?(E=A[e],v.push(E),w.push(E.substr(E.lastIndexOf(".")+1))):"cid"===e.substring(0,3)&&"cid"!==e&&(v.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+A[e]+"/SDF?record_type=3d"),w.push("sdf"));var q={};h.data("options")&&(q=b.specStringToObject(h.data("options")));A=b.CC.color(h.data("backgroundcolor"));var d={line:{}};h.data("style")&&(d=b.specStringToObject(h.data("style")));var f={};h.data("select")&&(f=b.specStringToObject(h.data("select")));var C=[],g=[],L=[],K={},B=h.data(),
G=/style(.+)/,z=/surface(.*)/,m=/labelres(.*)/,V=[];for(k in B)B.hasOwnProperty(k)&&V.push(k);V.sort();for(e=0;e<V.length;e++){k=V[e];var U=G.exec(k),Y,Z,R;U&&(Y="select"+U[1],Z=b.specStringToObject(B[Y]),R=b.specStringToObject(B[k]),C.push([Z,R]));(U=z.exec(k))&&(Y="select"+U[1],Z=b.specStringToObject(B[Y]),R=b.specStringToObject(B[k]),g.push([Z,R]));(U=m.exec(k))&&(Y="select"+U[1],Z=b.specStringToObject(B[Y]),R=b.specStringToObject(B[k]),L.push([Z,R]));"zoomto"==k&&(K=b.specStringToObject(B[k]))}var x=
function(a){a.setStyle(f,d);for(e=0;e<C.length;e++){var c=C[e][0]||{};var h=C[e][1]||{line:{}};a.setStyle(c,h)}for(e=0;e<g.length;e++)c=g[e][0]||{},h=g[e][1]||{},a.addSurface(b.SurfaceType.VDW,h,c,c);for(e=0;e<L.length;e++)c=L[e][0]||{},h=L[e][1]||{},a.addResLabels(c,h);a.zoomTo(K);a.render()},I=a;try{null==I&&(I=b.viewers[this.id||r++]=b.createViewer(h,{defaultcolors:b.rasmolElementColors})),I.setBackgroundColor(A)}catch(ba){console.log(ba),window.location="http://get.webgl.org"}if(0!=v.length){e=
0;var ca=function(a){E=v[e];var b=h.data("type")||h.data("datatype")||w[e];if(I.addModel(a,b,q),e+=1,e<v.length)l.get(v[e],ca,"text");else{if(x(I),h.data("callback"))a=eval(h.data("callback")),"function"==typeof a&&a(I);c&&c(I)}};l.get(v[0],ca,"text")}else{h.data("element")&&(Y=l("#"+h.data("element")).val()||"",(H=h.data("type")||h.data("datatype"))||(console.log("Warning: No type specified for embedded viewer with moldata from "+h.data("element")+"\n assuming type 'pdb'"),H="pdb"),I.addModel(Y,
H,q));if(x(I),h.data("callback"))Y=eval(h.data("callback")),"function"==typeof Y&&Y(I);c&&c(I)}})}};l(document).ready(function(){b.autoload()});var Ca=b.htmlColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,
cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,
forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,
lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,
navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,
silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b.CC={cache:{0:new b.Color(0)},color:function e(c){if(!c)return this.cache[0];if(void 0!==this.cache[c])return this.cache[c];if(c&&c.constructor===Array)return c.map(e,this);if("number"==
typeof(c=this.getHex(c))){var k=new b.Color(c);return this.cache[c]=k,k}return c},getHex:function(b){return isNaN(parseInt(b))?"string"==typeof b?(4==(b=b.trim()).length&&"#"==b[0]&&(b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+b[3]),7==b.length&&"#"==b[0]?parseInt(b.substring(1),16):Ca[b.toLowerCase()]||0):b:parseInt(b)}};b.CC=b.CC;b.CC.color=b.CC.color;b.ssColors=b.ssColors||{};b.ssColors.pyMol={h:16711680,s:16776960,c:65280};b.ssColors.Jmol={h:16711808,s:16762880,c:16777215};b.elementColors=b.elementColors||
{};b.elementColors.defaultColor=16716947;b.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578E4,SI:1578E4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,
MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,
CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366E3,XE:4366E3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,
HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32E3,RA:32E3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,
Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998};b.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,
Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120};b.elementColors.defaultColors=b.elementColors.rasmol;b.elementColors.greenCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.greenCarbon.C=
65280;b.elementColors.cyanCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.cyanCarbon.C=65535;b.elementColors.magentaCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.magentaCarbon.C=16711935;b.elementColors.yellowCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.yellowCarbon.C=16776960;b.elementColors.whiteCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.whiteCarbon.C=16777215;b.elementColors.orangeCarbon=l.extend({},b.elementColors.defaultColors);
b.elementColors.orangeCarbon.C=16753920;b.elementColors.purpleCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.purpleCarbon.C=8388736;b.elementColors.blueCarbon=l.extend({},b.elementColors.defaultColors);b.elementColors.blueCarbon.C=255;b.residues={};b.residues.amino={ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,
TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740};b.residues.shapely={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935};b.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576};b.chains={};b.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,
F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146};b.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834};b.builtinColorSchemes=
{ssPyMol:{prop:"ss",map:b.ssColors.pyMol},ssJmol:{prop:"ss",map:b.ssColors.Jmol},Jmol:{prop:"elem",map:b.elementColors.Jmol},greenCarbon:{prop:"elem",map:b.elementColors.greenCarbon},default:{prop:"elem",map:b.elementColors.defaultColors},amino:{prop:"resn",map:b.residues.amino},shapely:{prop:"resn",map:b.residues.shapely},nucleic:{prop:"resn",map:b.residues.nucleic},chain:{prop:"chain",map:b.chains.atom},chainHetatm:{prop:"chain",map:b.chains.hetatm}};b.getColorFromStyle=function(c,e){var k=e.colorscheme;
if(void 0!==b.builtinColorSchemes[k])k=b.builtinColorSchemes[k];else if("string"==typeof k&&k.endsWith("Carbon")){var H=k.substring(0,k.lastIndexOf("Carbon")).toLowerCase();if(void 0!==Ca[H]){var r=l.extend({},b.elementColors.defaultColors);r.C=Ca[H];b.builtinColorSchemes[k]={prop:"elem",map:r};k=b.builtinColorSchemes[k]}}var h;H=c.color;if(void 0!==e.color&&"spectrum"!=e.color&&(H=e.color),void 0!==k)if(void 0!==b.elementColors[k])void 0!==(k=b.elementColors[k])[c[k.prop]]&&(H=k.map[c[k.prop]]);
else if(void 0!==k[c[k.prop]])H=k.map[c[k.prop]];else if(void 0!==k.prop&&void 0!==k.gradient){var v=k.prop;e=k.gradient;void 0!==b.Gradient.builtinGradients[e]&&(e=new b.Gradient.builtinGradients[e](k.min,k.max,k.mid));k=e.range()||[-1,1];null!=(h=b.getAtomProperty(c,v))&&(H=e.valueToHex(h,k))}else void 0!==k.prop&&void 0!==k.map?(v=k.prop,h=b.getAtomProperty(c,v),void 0!==k.map[h]&&(H=k.map[h])):void 0!==e.colorscheme[c.elem]?H=e.colorscheme[c.elem]:console.log("Could not interpret colorscheme "+
k);else void 0!==e.colorfunc&&(H=e.colorfunc(c));return b.CC.color(H)};b=b||{};b.subdivide_spline=function(c,e){var k,l,r,h,v,w=[],E;(E=[]).push(c[0]);var A=1;for(k=c.length-1;A<k;A++)if(r=c[A],h=c[A+1],r.smoothen){var q=new b.Vector3((r.x+h.x)/2,(r.y+h.y)/2,(r.z+h.z)/2);q.atom=r.atom;E.push(q)}else E.push(r);E.push(c[c.length-1]);A=-1;for(c=E.length;A<=c-3;A++)if(l=E[-1===A?0:A],r=E[A+1],h=E[A+2],v=E[A===c-3?c-1:A+3],k=(new b.Vector3).subVectors(h,l).multiplyScalar(.5),q=(new b.Vector3).subVectors(v,
r).multiplyScalar(.5),!h.skip)for(var d=0;d<e;d++){var f=1/e*d;f=new b.Vector3(r.x+f*k.x+f*f*(-3*r.x+3*h.x-2*k.x-q.x)+f*f*f*(2*r.x-2*h.x+k.x+q.x),r.y+f*k.y+f*f*(-3*r.y+3*h.y-2*k.y-q.y)+f*f*f*(2*r.y-2*h.y+k.y+q.y),r.z+f*k.z+f*f*(-3*r.z+3*h.z-2*k.z-q.z)+f*f*f*(2*r.z-2*h.z+k.z+q.z));f.atom=d<e/2?r.atom:h.atom;w.push(f)}return w.push(E[E.length-1]),w};b.drawCartoon=function(){var c=function(c,d,f,e){for(var g,h,k,l,q=0,C=d.length;q<C;q++){l=Math.round(q*(e.length-1)/C);k=b.CC.color(e[l]);l=c.updateGeoGroup(2);
var m=l.vertexArray,v=l.colorArray,r=l.faceArray;m[h=3*(g=l.vertices)]=d[q].x;m[h+1]=d[q].y;m[h+2]=d[q].z;m[h+3]=f[q].x;m[h+4]=f[q].y;m[h+5]=f[q].z;for(m=0;6>m;++m)v[h+3*m]=k.r,v[h+1+3*m]=k.g,v[h+2+3*m]=k.b;0<q&&(g=[g,g+1,g-1,g-2],h=l.faceidx,r[h]=g[0],r[h+1]=g[1],r[h+2]=g[3],r[h+3]=g[1],r[h+4]=g[2],r[h+5]=g[3],l.faceidx+=6);l.vertices+=2}},e=function(c,d,f,e,g){0!==d.length&&(d=new b.Geometry,f=new b.LineBasicMaterial({linewidth:f}),f.vertexColors=!0,f=new b.Line(d,f),f.type=b.LineStrip,c.add(f))},
k=function(e,d,f,h,g,k,l){l&&"default"!==l||(l="rectangle");"edged"===l?function(d,f,g,e,h,k){if(!(2>f.length)){var m,l;if(m=f[0],l=f[f.length-1],m=b.subdivide_spline(m,e),l=b.subdivide_spline(l,e),!h)return c(d,m,l,g);var q,C,v,B,r,K,z,L,J,p,D,G,w,A;e=[];var U=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];f=0;for(p=m.length;f<p;f++){if(L=Math.round(f*(g.length-1)/p),z=b.CC.color(g[L]),e.push(q=m[f]),e.push(q),e.push(C=l[f]),e.push(C),f<p-1){var V=m[f+1].clone().sub(m[f]);V=l[f].clone().sub(m[f]).cross(V).normalize().multiplyScalar(h)}e.push(v=
m[f].clone().add(V));e.push(v);e.push(B=l[f].clone().add(V));e.push(B);void 0!==q.atom&&(J=q.atom);var E=(A=d.updateGeoGroup(8)).vertexArray;var H=A.colorArray;var x=A.faceArray;E[r=3*(k=A.vertices)]=q.x;E[r+1]=q.y;E[r+2]=q.z;E[r+3]=q.x;E[r+4]=q.y;E[r+5]=q.z;E[r+6]=C.x;E[r+7]=C.y;E[r+8]=C.z;E[r+9]=C.x;E[r+10]=C.y;E[r+11]=C.z;E[r+12]=v.x;E[r+13]=v.y;E[r+14]=v.z;E[r+15]=v.x;E[r+16]=v.y;E[r+17]=v.z;E[r+18]=B.x;E[r+19]=B.y;E[r+20]=B.z;E[r+21]=B.x;E[r+22]=B.y;E[r+23]=B.z;for(E=0;8>E;++E)H[r+3*E]=z.r,H[r+
1+3*E]=z.g,H[r+2+3*E]=z.b;if(0<f)for(r=void 0!==la&&void 0!==J&&la.serial!==J.serial,E=0;4>E;E++){var F=[k+U[E][0],k+U[E][1],k+U[E][2],k+U[E][3]];if(x[K=A.faceidx]=F[0],x[K+1]=F[1],x[K+2]=F[3],x[K+3]=F[1],x[K+4]=F[2],x[K+5]=F[3],A.faceidx+=6,J.clickable||la.clickable||J.hoverable||la.hoverable){H=e[F[3]].clone();v=e[F[0]].clone();B=e[F[2]].clone();var fa=e[F[1]].clone();if(H.atom=e[F[3]].atom||null,B.atom=e[F[2]].atom||null,v.atom=e[F[0]].atom||null,fa.atom=e[F[1]].atom||null,r){F=H.clone().add(v).multiplyScalar(.5);
var ea=B.clone().add(fa).multiplyScalar(.5),aa=H.clone().add(fa).multiplyScalar(.5);0==E%2?((la.clickable||la.hoverable)&&(D=new b.Triangle(F,aa,H),G=new b.Triangle(ea,B,aa),w=new b.Triangle(aa,B,H),la.intersectionShape.triangle.push(D),la.intersectionShape.triangle.push(G),la.intersectionShape.triangle.push(w)),(J.clickable||J.hoverable)&&(D=new b.Triangle(v,fa,aa),G=new b.Triangle(fa,ea,aa),w=new b.Triangle(v,aa,F),J.intersectionShape.triangle.push(D),J.intersectionShape.triangle.push(G),J.intersectionShape.triangle.push(w))):
((J.clickable||J.hoverable)&&(D=new b.Triangle(F,aa,H),G=new b.Triangle(ea,B,aa),w=new b.Triangle(aa,B,H),J.intersectionShape.triangle.push(D),J.intersectionShape.triangle.push(G),J.intersectionShape.triangle.push(w)),(la.clickable||la.hoverable)&&(D=new b.Triangle(v,fa,aa),G=new b.Triangle(fa,ea,aa),w=new b.Triangle(v,aa,F),la.intersectionShape.triangle.push(D),la.intersectionShape.triangle.push(G),la.intersectionShape.triangle.push(w)))}else(J.clickable||J.hoverable)&&(D=new b.Triangle(v,fa,H),
G=new b.Triangle(fa,B,H),J.intersectionShape.triangle.push(D),J.intersectionShape.triangle.push(G))}}A.vertices+=8;var la=J}g=e.length-8;E=(A=d.updateGeoGroup(8)).vertexArray;H=A.colorArray;x=A.faceArray;r=3*(k=A.vertices);K=A.faceidx;for(f=0;4>f;f++)e.push(e[2*f]),e.push(e[g+2*f]),d=e[2*f],h=e[g+2*f],E[r+6*f]=d.x,E[r+1+6*f]=d.y,E[r+2+6*f]=d.z,E[r+3+6*f]=h.x,E[r+4+6*f]=h.y,E[r+5+6*f]=h.z,H[r+6*f]=z.r,H[r+1+6*f]=z.g,H[r+2+6*f]=z.b,H[r+3+6*f]=z.r,H[r+4+6*f]=z.g,H[r+5+6*f]=z.b;D=[k,k+2,k+6,k+4];G=[k+
1,k+5,k+7,k+3];x[K]=D[0];x[K+1]=D[1];x[K+2]=D[3];x[K+3]=D[1];x[K+4]=D[2];x[K+5]=D[3];x[K+6]=G[0];x[K+7]=G[1];x[K+8]=G[3];x[K+9]=G[1];x[K+10]=G[2];x[K+11]=G[3];A.faceidx+=12;A.vertices+=8}}(e,d,f,h,g):"rectangle"!==l&&"oval"!==l&&"parabola"!==l||function(d,f,g,e,h,k,l){var m,q;if(!(2>(q=f.length)||2>f[0].length)){for(k=0;k<q;k++)f[k]=b.subdivide_spline(f[k],e);if(e=f[0].length,!h)return c(d,f[0],f[q-1],g);var C,r=[],v=[],K=[];for(m=0;m<q;m++)r.push(.25+1.5*Math.sqrt((q-1)*m-Math.pow(m,2))/(q-1)),v.push(.5),
K.push(2*(Math.pow(m/q,2)-m/q)+.6);var B,z=[];for(m=0;m<2*q-1;m++)z[m]=[m,m+1,m+1-2*q,m-2*q];z[2*q-1]=[m,m+1-2*q,m+1-4*q,m-2*q];d=d.updateGeoGroup(2*q*e);for(k=0;k<e;k++){m=Math.round(k*(g.length-1)/e);var L=b.CC.color(g[m]);var J=D;var p=G;var D=[];var G=[];var w=[];void 0!==f[0][k].atom&&(B=f[0][k].atom,"oval"===l?C=r:"rectangle"===l?C=v:"parabola"===l&&(C=K));C||(C=v);for(m=0;m<q;m++){var A=k<e-1?f[m][k+1].clone().sub(f[m][k]):f[m][k-1].clone().sub(f[m][k]).negate();var U=m<q-1?f[m+1][k].clone().sub(f[m][k]):
f[m-1][k].clone().sub(f[m][k]).negate();w[m]=U.cross(A).normalize().multiplyScalar(h*C[m])}for(m=0;m<q;m++)D[m]=f[m][k].clone().add(w[m].clone().negate());for(m=0;m<q;m++)G[m]=f[m][k].clone().add(w[m]);var E=d.vertexArray;var V=d.colorArray;A=d.faceArray;U=3*(w=d.vertices);for(m=0;m<q;m++)E[U+3*m+0]=D[m].x,E[U+3*m+1]=D[m].y,E[U+3*m+2]=D[m].z;for(m=0;m<q;m++)E[U+3*m+0+3*q]=G[q-1-m].x,E[U+3*m+1+3*q]=G[q-1-m].y,E[U+3*m+2+3*q]=G[q-1-m].z;for(m=0;m<2*q;++m)V[U+3*m+0]=L.r,V[U+3*m+1]=L.g,V[U+3*m+2]=L.b;
if(0<k){for(m=0;m<2*q;m++)U=[w+z[m][0],w+z[m][1],w+z[m][2],w+z[m][3]],A[L=d.faceidx]=U[0],A[L+1]=U[1],A[L+2]=U[3],A[L+3]=U[1],A[L+4]=U[2],A[L+5]=U[3],d.faceidx+=6;if(B.clickable||B.hoverable)for(m in L=[],L.push(new b.Triangle(J[0],D[0],D[q-1])),L.push(new b.Triangle(J[0],D[q-1],J[q-1])),L.push(new b.Triangle(J[q-1],D[q-1],G[q-1])),L.push(new b.Triangle(J[q-1],G[q-1],p[q-1])),L.push(new b.Triangle(G[0],p[0],p[q-1])),L.push(new b.Triangle(G[q-1],G[0],p[q-1])),L.push(new b.Triangle(D[0],J[0],p[0])),
L.push(new b.Triangle(G[0],D[0],p[0])),L)B.intersectionShape.triangle.push(L[m])}d.vertices+=2*q}A=d.faceArray;w=d.vertices;for(k=0;k<q-1;k++)U=[k,k+1,2*q-2-k,2*q-1-k],A[L=d.faceidx]=U[0],A[L+1]=U[1],A[L+2]=U[3],A[L+3]=U[1],A[L+4]=U[2],A[L+5]=U[3],d.faceidx+=6;for(k=0;k<q-1;k++)U=[w-1-k,w-2-k,w-2*q+k+1,w-2*q+k],A[L=d.faceidx]=U[0],A[L+1]=U[1],A[L+2]=U[3],A[L+3]=U[1],A[L+4]=U[2],A[L+5]=U[3],d.faceidx+=6}}(e,d,f,h,g,0,l)},H=function(b,c){if(b&&c&&b.chain===c.chain){if(b.reschain===c.reschain&&(b.resi===
c.resi||b.resi===c.resi-1))return!0;if(b.resi<c.resi){var d=b.x-c.x,e=b.y-c.y;b=b.z-c.z;if(16>d*d+e*e+b*b)return!0}}return!1},r=function(c,d,f,e,g){null!=d&&0!=d.vertices&&(g&&(d.initTypedArrays(),d.setUpNormals()),g=new b.MeshDoubleLambertMaterial,g.vertexColors=b.FaceColors,"number"==typeof f&&0<=f&&1>f&&(g.transparent=!0,g.opacity=f),g.outline=e,d=new b.Mesh(d,g),c.add(d))},h=function(c,d,f,e,g,h,k,l,r){var q,m,C;if(e&&g&&k){var v=g.sub(e);v.normalize();var B=l[r];for(r+=1;r<l.length&&(B=l[r]).atom!=
k.atom;r++);if((B=B?new b.Vector3(B.x,B.y,B.z):new b.Vector3(0,0,0)).sub(e),"arrow start"===k.ss)r=B.clone().multiplyScalar(.3).cross(g),e.add(r),r=B.clone().cross(v).normalize(),v.rotateAboutVector(r,.43);k.style.cartoon.ribbon?q=k.style.cartoon.thickness||.4:k.style.cartoon.width?q=k.style.cartoon.width:"c"===k.ss?q="P"===k.atom?.8:.5:"arrow start"===k.ss?(q=1.3,m=!0):q="arrow end"===k.ss?.5:"h"===k.ss&&k.style.cartoon.tubes||"tube start"===k.ss?.5:1.3;null!=h&&0>v.dot(h)&&v.negate();v.multiplyScalar(q);
for(r=0;r<d;r++)h=2*r/(d-1)-1,(h=new b.Vector3(e.x+h*v.x,e.y+h*v.y,e.z+h*v.z)).atom=k,f&&"s"===k.ss&&(h.smoothen=!0),c[r].push(h);if(m)for(v.multiplyScalar(2),r=0;r<d;r++)h=2*r/(d-1)-1,(h=new b.Vector3(e.x+h*v.x,e.y+h*v.y,e.z+h*v.z)).atom=k,h.smoothen=!1,h.skip=!0,c[r].push(h);return C=k.style.cartoon.style||"default",c.style?c.style!=C&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),c.style="default"):c.style=C,"arrow start"!==k.ss&&"arrow end"!==k.ss||(k.ss="s"),m}},v={C:!0,
CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},w={DA:!0,DG:!0,A:!0,G:!0},E={DT:!0,DC:!0,U:!0,C:!0,T:!0},A={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};return function(c,d,f,C){!function(c,d,f,q,C,z,m){var g,B,K,L,G,x,I,F,ba,P,T,S,J;z=z||5;m=m||5;var p=new b.Geometry(!0),D=new b.Geometry(!0),O=[],N=[],ta=1,ia=!1,X={};for(W in b.Gradient.builtinGradients)b.Gradient.builtinGradients.hasOwnProperty(W)&&(X[W]=new b.Gradient.builtinGradients[W](f[1],
f[0]));var W=function(c,d){return f&&"spectrum"===d.color?d.colorscheme in X?X[d.colorscheme].valueToHex(c.resi):X.sinebow.valueToHex(c.resi):b.getColorFromStyle(c,d).getHex()};for(G=0;G<z;G++)N[G]=[];var na=!1,ka=!1,xa=[];for(G in d){if("C"===(B=d[G]).elem&&"CA"===B.atom){var fa=H(aa,B);fa&&"s"===B.ss?na=!0:na&&(aa&&ea&&aa.style.cartoon.arrows&&ea.style.cartoon.arrows&&(aa.ss="arrow end",ea.ss="arrow start"),na=!1);fa&&("h"===aa.ss||"tube start"==aa.ss)&&aa.style.cartoon.tubes?!ka&&"tube start"!=
aa.ss&&B.style.cartoon.tubes&&(B.ss="tube start",ka=!0):ka&&("tube start"===aa.ss?aa.ss="tube end":ea&&ea.style.cartoon.tubes&&(ea.ss="tube end"),ka=!1);var ea=aa;var aa=B}B&&B.atom in v&&xa.push(B)}ka&&aa.style.cartoon.tubes&&(aa.ss="tube end",ka=!1);d=function(d){for(var f=0;!L&&f<z;f++)e(c,N[f],1,0,m);q&&0<N[0].length&&k(D,N,O,m,L,0,N.style);var g=[],h=null;if(d){for(f=0;f<z;f++)g[f]=N[f][N[f].length-1];h=O[O.length-1]}N=[];for(f=0;f<z;f++)N[f]=[];if(O=[],d){for(f=0;f<z;f++)N[f].push(g[f]);O.push(h)}r(c,
D,ta,ia,!0);r(c,p,ta,ia,!1);D=new b.Geometry(!0);p=new b.Geometry(!0)};aa=void 0;for(ea=0;ea<xa.length;ea++)if(G=(B=xa[ea]).resn.trim(),na=G in A,ta=1,g=B.style.cartoon,aa&&aa.style.cartoon&&(ta=aa.style.cartoon.opacity),aa&&aa.style.cartoon&&aa.style.cartoon.outline&&(ia=aa.style.cartoon.outline),!aa||!aa.style.cartoon||B.style.cartoon&&aa.style.cartoon.opacity==B.style.cartoon.opacity||d(aa.chain==B.chain),N.length&&N[0].length>3E4/z/m/2&&d(!0),"trace"===g.style){if(!B.hetflag&&("C"===B.elem&&"CA"===
B.atom||na&&"P"===B.atom)){if(K=W(B,g),L=l.isNumeric(g.thickness)?g.thickness:.4,H(aa,B))if(K==la){var la=b.CC.color(K);b.GLDraw.drawCylinder(p,aa,B,L,la,2,2)}else G=(new b.Vector3).addVectors(aa,B).multiplyScalar(.5),la=b.CC.color(la),na=b.CC.color(K),b.GLDraw.drawCylinder(p,aa,G,L,la,2,0),b.GLDraw.drawCylinder(p,G,B,L,na,0,2);aa=B;la=K}}else{if(B&&"C"===B.elem&&"CA"===B.atom||na&&("P"===B.atom||0==B.atom.indexOf("O5"))){if(oa)if("tube end"===B.ss){var oa=!1;G=new b.Vector3(B.x,B.y,B.z);b.GLDraw.drawCylinder(p,
J,G,2,b.CC.color(la),1,1);B.ss="h"}else{if(aa.chain==B.chain&&"tube end"!==aa.ss)continue;oa=!1;aa.ss="h";G=new b.Vector3(aa.x,aa.y,aa.z);b.GLDraw.drawCylinder(p,J,G,2,b.CC.color(la),1,1)}if(aa&&(!H(aa,B)||"tube start"===aa.ss)){"tube start"===aa.ss&&(oa=!0,J=new b.Vector3(aa.x,aa.y,aa.z),aa.ss="h");S&&(T=ba?(new b.Vector3).addVectors(aa,ba).multiplyScalar(.5):new b.Vector3(aa.x,aa.y,aa.z),b.GLDraw.drawCylinder(p,T,S,.4,b.CC.color(S.color),0,2),h(N,z,!C,ba,P,F,aa,xa,ea),O.push(K),T=null,S=null);for(G=
0;!L&&G<z;G++)e(c,N[G],1,0,m);q&&0<N[0].length&&k(D,N,O,m,L,0,N.style);N=[];for(G=0;G<z;G++)N[G]=[];O=[]}if(void 0===aa||aa.rescode!=B.rescode||aa.resi!=B.resi)S&&(aa=(T=(new b.Vector3).addVectors(aa,B).multiplyScalar(.5)).clone().sub(S).multiplyScalar(.02),T.add(aa),b.GLDraw.drawCylinder(p,T,S,.4,b.CC.color(S.color),0,2),S=T=null),K=W(B,g),O.push(K),L=l.isNumeric(g.thickness)?g.thickness:.4,aa=B,(x=new b.Vector3(aa.x,aa.y,aa.z)).resi=aa.resi,la=K;!0!==B.clickable&&!0!==B.hoverable||void 0!==B.intersectionShape&&
void 0!==B.intersectionShape.triangle||(B.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else aa&&"C"===aa.elem&&"CA"===aa.atom&&"O"===B.atom||na&&"P"===aa.atom&&("OP2"===B.atom||"O2P"===B.atom)||na&&0==aa.atom.indexOf("O5")&&0==B.atom.indexOf("C5")?((I=new b.Vector3(B.x,B.y,B.z)).resi=B.resi,"OP2"!==B.atom&&"O2P"!==B.atom||(P=new b.Vector3(B.x,B.y,B.z))):na&&0==B.atom.indexOf("O3")?ba=new b.Vector3(B.x,B.y,B.z):("N1"===B.atom&&G in w||"N3"===B.atom&&G in E)&&((S=new b.Vector3(B.x,
B.y,B.z)).color=b.getColorFromStyle(B,g).getHex());I&&x&&I.resi===x.resi&&(h(N,z,!C,x,I,F,aa,xa,ea),F=I,x=null,I=null,O.push(K))}S&&(T=ba?(new b.Vector3).addVectors(aa,ba).multiplyScalar(.5):new b.Vector3(aa.x,aa.y,aa.z),b.GLDraw.drawCylinder(p,T,S,.4,b.CC.color(S.color),0,2),h(N,z,!C,ba,P,F,aa,xa,ea),O.push(K));d()}(c,d,f,!0,!1,C=C||5,C)}}();b=b||{};b.CAP={NONE:0,FLAT:1,ROUND:2};b.GLDraw=function(){var c,e={},k=(c=new b.Vector3,function(b){c.set(b[0],b[1],b[2]);var e,h,k,l,d;b=c.x;var f=c.y,C=c.z,
g=Math.sqrt(b*b+f*f);1E-4>g?(h=0,k=1):(h=-b/g,k=f/g);f=-h*b+k*f;1E-4>(e=Math.sqrt(f*f+C*C))?(l=0,d=1):(l=C/e,d=f/e);e=new Float32Array(9);return e[0]=k,e[1]=h,e[2]=0,e[3]=-h*d,e[4]=k*d,e[5]=l,e[6]=h*l,e[7]=-k*l,e[8]=d,e}),l=function(){var c,e=[],h=Math.pow(2,4),k,l=Math.pow(2,2),d=h/l;e[0]=new b.Vector3(-1,0,0);e[d]=new b.Vector3(0,0,1);e[2*d]=new b.Vector3(1,0,0);e[3*d]=new b.Vector3(0,0,-1);for(k=3;4>=k;k++){d=h/(l=Math.pow(2,k-1));for(c=0;c<l-1;c++)e[d/2+c*d]=e[c*d].clone().add(e[(c+1)*d]).normalize();
e[d/2+(c=l-1)*d]=e[c*d].clone().add(e[0]).normalize()}return e}(),r={cache:{},getVerticesForRadius:function(c,e,h){if(void 0!==this.cache[c]&&void 0!==this.cache[c][e+h])return this.cache[c][e+h];for(var k,q=l.length,d=[],f=[],C=0;C<q;C++)d.push(l[C].clone().multiplyScalar(c)),d.push(l[C].clone().multiplyScalar(c)),k=l[C].clone().normalize(),f.push(k),f.push(k);C=[];var g,r,v=2*Math.PI,B=Math.PI;for(r=0;10>=r;r++){var G=0===r||10===r;var z=5===r;var m=[],w=[];for(g=0;g<=q;g++)if(z){var E=g<q?2*g:
0;w.push(E+1);m.push(E)}else{E=g/q;var Y=r/10;if(G&&0!==g)G&&m.push(d.length-1);else if(g<q){var x=new b.Vector3;x.x=-c*Math.cos(E*v)*Math.sin(Y*B);x.y=1==e?0:c*Math.cos(Y*B);x.z=c*Math.sin(E*v)*Math.sin(Y*B);1E-5>Math.abs(x.x)&&(x.x=0);1E-5>Math.abs(x.y)&&(x.y=0);1E-5>Math.abs(x.z)&&(x.z=0);e==b.CAP.FLAT?(k=new b.Vector3(0,Math.cos(Y*B),0)).normalize():(k=new b.Vector3(x.x,x.y,x.z)).normalize();d.push(x);f.push(k);m.push(d.length-1)}else m.push(d.length-q)}z&&C.push(w);C.push(m)}k={vertices:d,normals:f,
verticesRows:C,w:q,h:10};return c in this.cache||(this.cache[c]={}),this.cache[c][e+h]=k,k}};e.drawCylinder=function(b,c,e,h,l,d,f){if(c&&e){0;var q=f||d;l=l||{r:0,g:0,b:0};var g=[e.x,e.y,e.z];g[0]-=c.x;g[1]-=c.y;g[2]-=c.z;var v;g=k(g);var K=r.getVerticesForRadius(h,f,"to");var B=K.w,G=K.h,z=q?G*B+2:2*B;b=b.updateGeoGroup(z);var m=K.vertices,w=K.normals,A=K.verticesRows,E=A[G/2],x=A[G/2+1],R=b.vertices,H=b.vertexArray,I=b.normalArray,F=b.colorArray,ba=b.faceArray;for(v=0;v<B;++v){var P=2*v;var T=
g[0]*m[P].x+g[3]*m[P].y+g[6]*m[P].z;K=g[1]*m[P].x+g[4]*m[P].y+g[7]*m[P].z;var S=g[5]*m[P].y+g[8]*m[P].z;var J=3*(R+P);P=b.faceidx;H[J]=T+c.x;H[J+1]=K+c.y;H[J+2]=S+c.z;H[J+3]=T+e.x;H[J+4]=K+e.y;H[J+5]=S+e.z;I[J]=T;I[J+3]=T;I[J+1]=K;I[J+4]=K;I[J+2]=S;I[J+5]=S;F[J]=l.r;F[J+3]=l.r;F[J+1]=l.g;F[J+4]=l.g;F[J+2]=l.b;F[J+5]=l.b;ba[P]=x[v]+R;ba[P+1]=x[v+1]+R;ba[P+2]=E[v]+R;ba[P+3]=E[v]+R;ba[P+4]=x[v+1]+R;ba[P+5]=E[v+1]+R;b.faceidx+=6}if(q)for(q=d?G+1:G/2+1,K=f?0:G/2;K<q;K++)if(K!==G/2)for(v=K<=G/2?e:c,T=r.getVerticesForRadius(h,
f,"to"),P=r.getVerticesForRadius(h,d,"from"),v===e?(m=T.vertices,w=T.normals,A=T.verticesRows):v==c&&(m=P.vertices,w=P.normals,A=P.verticesRows),T=0;T<B;T++){P=b.faceidx;var p=3*((S=A[K][T+1])+R);var D=3*((E=A[K][T])+R);var O=3*((x=A[K+1][T])+R);var N=3*((J=A[K+1][T+1])+R);var ta=g[0]*m[S].x+g[3]*m[S].y+g[6]*m[S].z;var ia=g[0]*m[E].x+g[3]*m[E].y+g[6]*m[E].z;var X=g[0]*m[x].x+g[3]*m[x].y+g[6]*m[x].z;var W=g[0]*m[J].x+g[3]*m[J].y+g[6]*m[J].z;var na=g[1]*m[S].x+g[4]*m[S].y+g[7]*m[S].z;var ka=g[1]*m[E].x+
g[4]*m[E].y+g[7]*m[E].z;var xa=g[1]*m[x].x+g[4]*m[x].y+g[7]*m[x].z;var fa=g[1]*m[J].x+g[4]*m[J].y+g[7]*m[J].z;var ea=g[5]*m[S].y+g[8]*m[S].z;var aa=g[5]*m[E].y+g[8]*m[E].z;var la=g[5]*m[x].y+g[8]*m[x].z;var oa=g[5]*m[J].y+g[8]*m[J].z;H[p]=ta+v.x;H[D]=ia+v.x;H[O]=X+v.x;H[N]=W+v.x;H[p+1]=na+v.y;H[D+1]=ka+v.y;H[O+1]=xa+v.y;H[N+1]=fa+v.y;H[p+2]=ea+v.z;H[D+2]=aa+v.z;H[O+2]=la+v.z;H[N+2]=oa+v.z;F[p]=l.r;F[D]=l.r;F[O]=l.r;F[N]=l.r;F[p+1]=l.g;F[D+1]=l.g;F[O+1]=l.g;F[N+1]=l.g;F[p+2]=l.b;F[D+2]=l.b;F[O+2]=
l.b;F[N+2]=l.b;ta=g[0]*w[S].x+g[3]*w[S].y+g[6]*w[S].z;ia=g[0]*w[E].x+g[3]*w[E].y+g[6]*w[E].z;X=g[0]*w[x].x+g[3]*w[x].y+g[6]*w[x].z;W=g[0]*w[J].x+g[3]*w[J].y+g[6]*w[J].z;na=g[1]*w[S].x+g[4]*w[S].y+g[7]*w[S].z;ka=g[1]*w[E].x+g[4]*w[E].y+g[7]*w[E].z;xa=g[1]*w[x].x+g[4]*w[x].y+g[7]*w[x].z;fa=g[1]*w[J].x+g[4]*w[J].y+g[7]*w[J].z;ea=g[5]*w[S].y+g[8]*w[S].z;aa=g[5]*w[E].y+g[8]*w[E].z;la=g[5]*w[x].y+g[8]*w[x].z;oa=g[5]*w[J].y+g[8]*w[J].z;0===K?(I[p]=ta,I[O]=X,I[N]=W,I[p+1]=na,I[O+1]=xa,I[N+1]=fa,I[p+2]=ea,
I[O+2]=la,I[N+2]=oa,ba[P]=S+R,ba[P+1]=x+R,ba[P+2]=J+R,b.faceidx+=3):K===q-1?(I[p]=ta,I[D]=ia,I[O]=X,I[p+1]=na,I[D+1]=ka,I[O+1]=xa,I[p+2]=ea,I[D+2]=aa,I[O+2]=la,ba[P]=S+R,ba[P+1]=E+R,ba[P+2]=x+R,b.faceidx+=3):(I[p]=ta,I[D]=ia,I[N]=W,I[p+1]=na,I[D+1]=ka,I[N+1]=fa,I[p+2]=ea,I[D+2]=aa,I[N+2]=oa,I[D]=ia,I[O]=X,I[N]=W,I[D+1]=ka,I[O+1]=xa,I[N+1]=fa,I[D+2]=aa,I[O+2]=la,I[N+2]=oa,ba[P]=S+R,ba[P+1]=E+R,ba[P+2]=J+R,ba[P+3]=E+R,ba[P+4]=x+R,ba[P+5]=J+R,b.faceidx+=6)}b.vertices+=z}};e.drawCone=function(c,e,h,r,
q){if(e&&h){q=q||{r:0,g:0,b:0};var d=[h.x,h.y,h.z];d.x-=e.x;d.y-=e.y;d.z-=e.z;var f=k(d),C=l.length;c=c.updateGeoGroup(C+2);var g=c.vertices,v=c.vertexArray,K=c.normalArray,B=c.colorArray,G=c.faceArray;var z=3*g;d=(new b.Vector3(d[0],d[1],d[2])).normalize();v[z]=e.x;v[z+1]=e.y;v[z+2]=e.z;K[z]=-d.x;K[z+1]=-d.y;K[z+2]=-d.z;B[z]=q.r;B[z+1]=q.g;B[z+2]=q.b;v[z+3]=h.x;v[z+4]=h.y;v[z+5]=h.z;K[z+3]=d.x;K[z+4]=d.y;K[z+5]=d.z;B[z+3]=q.r;B[z+4]=q.g;B[z+5]=q.b;z+=6;for(h=0;h<C;++h){var m=l[h].clone();m.multiplyScalar(r);
d=f[0]*m.x+f[3]*m.y+f[6]*m.z;var w=f[1]*m.x+f[4]*m.y+f[7]*m.z;m=f[5]*m.y+f[8]*m.z;v[z]=d+e.x;v[z+1]=w+e.y;v[z+2]=m+e.z;K[z]=d;K[z+1]=w;K[z+2]=m;B[z]=q.r;B[z+1]=q.g;B[z+2]=q.b;z+=3}c.vertices+=C+2;e=c.faceidx;for(h=0;h<C;h++)r=g+2+h,q=g+2+(h+1)%C,G[e]=r,G[e+1]=q,G[e+2]=g,G[e+=3]=r,G[e+1]=q,G[e+2]=g+1,e+=3;c.faceidx+=6*C}};var h={cache:{},getVerticesForRadius:function(c){if(void 0!==this.cache[c])return this.cache[c];var e={vertices:[],verticesRows:[],normals:[]},h=16,k=10;1>c&&(h=10,k=8);var l,d,f=
2*Math.PI,C=Math.PI;for(d=0;d<=k;d++){var g=[];for(l=0;l<=h;l++){var r=l/h,v=d/k,B={};B.x=-c*Math.cos(r*f)*Math.sin(v*C);B.y=c*Math.cos(v*C);B.z=c*Math.sin(r*f)*Math.sin(v*C);r=new b.Vector3(B.x,B.y,B.z);r.normalize();e.vertices.push(B);e.normals.push(r);g.push(e.vertices.length-1)}e.verticesRows.push(g)}return this.cache[c]=e,e}};return e.drawSphere=function(b,c,e,k){var l=h.getVerticesForRadius(e),d=l.vertices,f=l.normals;b=b.updateGeoGroup(d.length);for(var C=b.vertices,g=b.vertexArray,r=b.colorArray,
v=b.faceArray,B=b.lineArray,G=b.normalArray,z=0,m=d.length;z<m;++z){var w=3*(C+z),A=d[z];g[w]=A.x+c.x;g[w+1]=A.y+c.y;g[w+2]=A.z+c.z;r[w]=k.r;r[w+1]=k.g;r[w+2]=k.b}b.vertices+=d.length;l=l.verticesRows;g=l.length-1;for(k=0;k<g;k++)for(r=l[k].length-1,c=0;c<r;c++){z=b.faceidx;m=b.lineidx;w=l[k][c+1]+C;A=3*w;var E=l[k][c]+C,x=3*E,H=l[k+1][c]+C,Q=3*H,I=l[k+1][c+1]+C,F=3*I,ba=f[w-C],P=f[E-C],T=f[H-C],S=f[I-C];Math.abs(d[w-C].y)===e?(G[A]=ba.x,G[Q]=T.x,G[F]=S.x,G[A+1]=ba.y,G[Q+1]=T.y,G[F+1]=S.y,G[A+2]=
ba.z,G[Q+2]=T.z,G[F+2]=S.z,v[z]=w,v[z+1]=H,v[z+2]=I,B[m]=w,B[m+1]=H,B[m+2]=w,B[m+3]=I,B[m+4]=H,B[m+5]=I,b.faceidx+=3,b.lineidx+=6):Math.abs(d[H-C].y)===e?(G[A]=ba.x,G[x]=P.x,G[Q]=T.x,G[A+1]=ba.y,G[x+1]=P.y,G[Q+1]=T.y,G[A+2]=ba.z,G[x+2]=P.z,G[Q+2]=T.z,v[z]=w,v[z+1]=E,v[z+2]=H,B[m]=w,B[m+1]=E,B[m+2]=w,B[m+3]=H,B[m+4]=E,B[m+5]=H,b.faceidx+=3,b.lineidx+=6):(G[A]=ba.x,G[x]=P.x,G[F]=S.x,G[A+1]=ba.y,G[x+1]=P.y,G[F+1]=S.y,G[A+2]=ba.z,G[x+2]=P.z,G[F+2]=S.z,G[x]=P.x,G[Q]=T.x,G[F]=S.x,G[x+1]=P.y,G[Q+1]=T.y,
G[F+1]=S.y,G[x+2]=P.z,G[Q+2]=T.z,G[F+2]=S.z,v[z]=w,v[z+1]=E,v[z+2]=I,v[z+3]=E,v[z+4]=H,v[z+5]=I,B[m]=w,B[m+1]=E,B[m+2]=w,B[m+3]=I,B[m+4]=E,B[m+5]=H,B[m+6]=H,B[m+7]=I,b.faceidx+=6,b.lineidx+=8)}},e}();b=b||{};b.GLModel=function(){function c(r,h){var v=[],w=[],E=null,A=null,q=!1,d=null,f=null,C=null,g={},L=new b.Matrix4,K=!0,B=b.elementColors.defaultColor,G=(h=h||{}).defaultcolors?h.defaultcolors:b.elementColors.defaultColors,z=h.defaultSphereRadius?h.defaultSphereRadius:1.5,m=h.cartoonQuality?h.cartoonQuality:
5,x=function(b,c){var d=z;return void 0!==c.radius?d=c.radius:k[b.elem]&&(d=k[b.elem]),void 0!==c.scale&&(d*=c.scale),d},H=function(c,d,f){var g,e,h,k,m,p=new b.Vector3(c.x,c.y,c.z),l=(new b.Vector3(d.x,d.y,d.z)).clone(),q=null;l.sub(p);var C=function(c,d){for(var f=null,g=-1,C=0,B=c.bonds.length;C<B;C++)if(c.bonds[C]!=d.index){e=c.bonds[C];h=v[e];k=new b.Vector3(h.x,h.y,h.z);(m=k.clone()).sub(p);(q=m.clone()).cross(l);var r=q.lengthSq();if(r>g&&(f=q,.1<(g=r)))break}return f};1===c.bonds.length?1===
d.bonds.length?(q=l.clone(),1E-4<Math.abs(q.x)?q.y+=1:q.x+=1):(g=(f+1)%d.bonds.length,e=d.bonds[g],h=v[e],k=new b.Vector3(h.x,h.y,h.z),(m=k.clone()).sub(p),(q=m.clone()).cross(l)):.01>(q=C(c,d)).lengthSq()&&(c=C(d,c),null!=c&&(q=c));return.01>q.lengthSq()&&(q=l.clone(),1E-4<Math.abs(q.x)?q.y+=1:q.x+=1),q.cross(l),q.normalize(),q},Y=function(b,c,d,f,g,e){b[d]=f.x;b[d+1]=f.y;b[d+2]=f.z;c[d]=e.r;c[d+1]=e.g;c[d+2]=e.b;b[d+3]=g.x;b[d+4]=g.y;b[d+5]=g.z;c[d+3]=e.r;c[d+4]=e.g;c[d+5]=e.b},Z=function(c,d){if(c.style.sphere){var f=
c.style.sphere;if(!f.hidden){var g=b.getColorFromStyle(c,f);f=x(c,f);if((!0===c.clickable||c.hoverable)&&void 0!==c.intersectionShape){var e=new b.Vector3(c.x,c.y,c.z);c.intersectionShape.sphere.push(new b.Sphere(e,f))}b.GLDraw.drawSphere(d,c,f,g)}}},R=function(c,d){if(c.style.sphere){var f=c.style.sphere;if(!f.hidden){var g=x(c,f);f=b.getColorFromStyle(c,f);d=d.updateGeoGroup(1);var e=d.vertices,h=3*e,k=d.vertexArray,m=d.colorArray,p=d.radiusArray;(k[h]=c.x,k[h+1]=c.y,k[h+2]=c.z,m[h]=f.r,m[h+1]=
f.g,m[h+2]=f.b,p[e]=g,!0!==c.clickable&&!c.hoverable||void 0===c.intersectionShape)||(f=new b.Vector3(c.x,c.y,c.z),c.intersectionShape.sphere.push(new b.Sphere(f,g)));d.vertices+=1}}},Q=function(b,c,d,f){var g;b=b.updateGeoGroup(4);var e=b.vertices,h=3*e,k=b.vertexArray,m=b.colorArray;for(g=0;4>g;g++)k[h+3*g]=c.x,k[h+3*g+1]=c.y,k[h+3*g+2]=c.z;c=b.normalArray;for(g=0;4>g;g++)m[h+3*g]=f.r,m[h+3*g+1]=f.g,m[h+3*g+2]=f.b;c[h+0]=-d;c[h+1]=d;c[h+2]=0;c[h+3]=-d;c[h+4]=-d;c[h+5]=0;c[h+6]=d;c[h+7]=-d;c[h+8]=
0;c[h+9]=d;c[h+10]=d;c[h+11]=0;b.vertices+=4;d=b.faceArray;f=b.faceidx;d[f+0]=e;d[f+1]=e+1;d[f+2]=e+2;d[f+3]=e+2;d[f+4]=e+3;d[f+5]=e;b.faceidx+=6},I=function(c,d){if(c.style.sphere){var f=c.style.sphere;if(!f.hidden){var g=x(c,f);f=b.getColorFromStyle(c,f);if((!0===c.clickable||c.hoverable)&&void 0!==c.intersectionShape){var e=new b.Vector3(c.x,c.y,c.z);c.intersectionShape.sphere.push(new b.Sphere(e,g))}Q(d,c,g,f)}}},F=function(b,c,d,f,g){var e;b=b.updateGeoGroup(4);var h=b.vertices,k=b.vertexArray,
m=b.colorArray,p=b.radiusArray,l=b.normalArray,q=g.r,C=g.g;g=g.b;for(var r=3*h,B=0;4>B;B++)k[r]=c.x,l[r]=d.x,m[r]=q,k[++r]=c.y,l[r]=d.y,m[r]=C,k[++r]=c.z,l[r]=d.z,m[r]=2>B?g:(e=void 0,0==(e=-g)&&(e=-1E-4),e),r++;b.vertices+=4;p[h]=-f;p[h+1]=f;p[h+2]=-f;p[h+3]=f;c=b.faceArray;d=b.faceidx;c[d+0]=h;c[d+1]=h+1;c[d+2]=h+2;c[d+3]=h+2;c[d+4]=h+3;c[d+5]=h;b.faceidx+=6},ba=function(c,d){d=d||{};var f,e,h,k=new b.Object3D,p=[],l={},q={},C=Z,r=null,B=null;d.supportsImposters?(C=I,(r=new b.Geometry(!0)).imposter=
!0,(B=new b.Geometry(!0,!0)).imposter=!0,B.sphereGeometry=new b.Geometry(!0),B.sphereGeometry.imposter=!0,B.drawnCaps={}):d.supportsAIA?(C=R,(r=new b.Geometry(!1,!0,!0)).instanced=!0,B=new b.Geometry(!0)):(r=new b.Geometry(!0),B=new b.Geometry(!0));var v={},z=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];var G=0;for(e=c.length;G<e;G++){var L=c[G];if(L&&L.style){for(f in(L.clickable||L.hoverable)&&void 0===L.intersectionShape&&(L.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),
h={line:void 0,cross:void 0,stick:void 0,sphere:void 0})L.style[f]?L.style[f].opacity?h[f]=parseFloat(L.style[f].opacity):h[f]=1:h[f]=void 0,v[f]?null!=h[f]&&v[f]!=h[f]&&(console.log("Warning: "+f+" opacity is ambiguous"),v[f]=1):v[f]=h[f];C(L,r);var w=L;if(w.style.clicksphere){var J=w.style.clicksphere;if(!J.hidden){var A=x(w,J);if((!0===w.clickable||w.hoverable)&&void 0!==w.intersectionShape){var E=new b.Vector3(w.x,w.y,w.z);w.intersectionShape.sphere.push(new b.Sphere(E,A))}}}var U=L,V=q;if(U.style.cross){var S=
U.style.cross;if(!S.hidden){var P=S.linewidth||1;V[P]||(V[P]=new b.Geometry);var T=V[P].updateGeoGroup(6),u=x(U,S),ca=[[u,0,0],[-u,0,0],[0,u,0],[0,-u,0],[0,0,u],[0,0,-u]],ba=U.clickable||U.hoverable;ba&&void 0===U.intersectionShape&&(U.intersectionShape={sphere:[],cylinder:[],line:[]});for(var da=b.getColorFromStyle(U,S),ha=T.vertexArray,Ca=T.colorArray,y=0;6>y;y++){var za=3*T.vertices;if(T.vertices++,ha[za]=U.x+ca[y][0],ha[za+1]=U.y+ca[y][1],ha[za+2]=U.z+ca[y][2],Ca[za]=da.r,Ca[za+1]=da.g,Ca[za+
2]=da.b,ba){var cb=new b.Vector3(ca[y][0],ca[y][1],ca[y][2]);cb.multiplyScalar(.1);cb.set(cb.x+U.x,cb.y+U.y,cb.z+U.z);U.intersectionShape.line.push(cb)}}}}var La=void 0,Gb=void 0,gb=void 0,ob=void 0,Ia=L,Nb=c,Oa=l;if(Ia.style.line){var Ub=Ia.style.line;if(!Ub.hidden){var Ya=Ub.linewidth||1;Oa[Ya]||(Oa[Ya]=new b.Geometry);for(var Ka=Oa[Ya].updateGeoGroup(6*Ia.bonds.length),Ja=Ka.vertexArray,ja=Ka.colorArray,pa=0;pa<Ia.bonds.length;pa++){var Aa=Nb[Ia.bonds[pa]];if(Aa.style.line&&!(Ia.serial>=Aa.serial)){var Ra=
new b.Vector3(Ia.x,Ia.y,Ia.z),ma=new b.Vector3(Aa.x,Aa.y,Aa.z),Ea=Ra.clone().add(ma).multiplyScalar(.5),mb=!1,$a=Ia.clickable||Ia.hoverable,$b=Aa.clickable||Aa.hoverable;($a||$b)&&($a&&(void 0===Ia.intersectionShape&&(Ia.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Ia.intersectionShape.line.push(Ra),Ia.intersectionShape.line.push(Ea)),$b&&(void 0===Aa.intersectionShape&&(Aa.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Aa.intersectionShape.line.push(Ea),Aa.intersectionShape.line.push(ma)));
var Ba=b.getColorFromStyle(Ia,Ia.style.line),Qa=b.getColorFromStyle(Aa,Aa.style.line);if(Ia.bondStyles&&Ia.bondStyles[pa]){var ub=Ia.bondStyles[pa];if(!ub.iswire)continue;ub.singleBond&&(mb=!0);void 0!==ub.color1&&(Ba=b.CC.color(ub.color1));void 0!==ub.color2&&(Qa=b.CC.color(ub.color2))}var nb,Za,Ma=3*Ka.vertices;if(1<Ia.bondOrder[pa]&&4>Ia.bondOrder[pa]&&!mb){var Ob=H(Ia,Aa,pa),ab=ma.clone();ab.sub(Ra);2==Ia.bondOrder[pa]?(Ob.multiplyScalar(.1),(ob=Ra.clone()).add(Ob),(gb=Ra.clone()).sub(Ob),(Gb=
ob.clone()).add(ab),(La=gb.clone()).add(ab),Ba==Qa?(Ka.vertices+=4,Y(Ja,ja,Ma,ob,Gb,Ba),Y(Ja,ja,Ma+6,gb,La,Ba)):(Ka.vertices+=8,ab.multiplyScalar(.5),(nb=ob.clone()).add(ab),(Za=gb.clone()).add(ab),Y(Ja,ja,Ma,ob,nb,Ba),Y(Ja,ja,Ma+6,nb,Gb,Qa),Y(Ja,ja,Ma+12,gb,Za,Ba),Y(Ja,ja,Ma+18,Za,La,Qa))):3==Ia.bondOrder[pa]&&(Ob.multiplyScalar(.1),(ob=Ra.clone()).add(Ob),(gb=Ra.clone()).sub(Ob),(Gb=ob.clone()).add(ab),(La=gb.clone()).add(ab),Ba==Qa?(Ka.vertices+=6,Y(Ja,ja,Ma,Ra,ma,Ba),Y(Ja,ja,Ma+6,ob,Gb,Ba),Y(Ja,
ja,Ma+12,gb,La,Ba)):(Ka.vertices+=12,ab.multiplyScalar(.5),(nb=ob.clone()).add(ab),(Za=gb.clone()).add(ab),Y(Ja,ja,Ma,Ra,Ea,Ba),Y(Ja,ja,Ma+6,Ea,ma,Qa),Y(Ja,ja,Ma+12,ob,nb,Ba),Y(Ja,ja,Ma+18,nb,Gb,Qa),Y(Ja,ja,Ma+24,gb,Za,Ba),Y(Ja,ja,Ma+30,Za,La,Qa)))}else Ba==Qa?(Ka.vertices+=2,Y(Ja,ja,Ma,Ra,ma,Ba)):(Ka.vertices+=4,Y(Ja,ja,Ma,Ra,Ea,Ba),Y(Ja,ja,Ma+6,Ea,ma,Qa))}}}}var hb=void 0,bb=void 0,Sa=void 0,eb=void 0,Zb=void 0,ac=void 0,lc=void 0,Vb=void 0,bc=void 0,pb=void 0,Kb=void 0,Ta=void 0,tb=void 0,kb=void 0,
wa=L,ec=c,Na=B;if(wa.style.stick){var Sb=wa.style.stick;if(!Sb.hidden){var Ab=Sb.radius||.25,Wa=Ab,mc=Sb.singleBonds||!1,Tb=0,fb=0,Ua=b.getColorFromStyle(wa,Sb);!wa.capDrawn&&4>wa.bonds.length&&(Tb=2);var Xa=b.GLDraw.drawCylinder;Na.imposter&&(Xa=F);for(Ta=0;Ta<wa.bonds.length;Ta++){var Pa=ec[wa.bonds[Ta]];if(wa.serial<Pa.serial){var Pb=Pa.style;if(Pb.stick&&!Pb.stick.hidden){var vb=b.getColorFromStyle(Pa,Pb.stick);if(Wa=Ab,Kb=mc,wa.bondStyles&&wa.bondStyles[Ta]){if((pb=wa.bondStyles[Ta]).iswire)continue;
pb.radius&&(Wa=pb.radius);pb.singleBond&&(Kb=!0);void 0!==pb.color1&&(Ua=b.CC.color(pb.color1));void 0!==pb.color2&&(vb=b.CC.color(pb.color2))}var Va=new b.Vector3(wa.x,wa.y,wa.z),lb=new b.Vector3(Pa.x,Pa.y,Pa.z);if(1===wa.bondOrder[Ta]||Kb){if(!Pa.capDrawn&&4>Pa.bonds.length&&(fb=2),Ua!=vb?(Xa(Na,Va,Sa=(new b.Vector3).addVectors(Va,lb).multiplyScalar(.5),Wa,Ua,Tb,0),Xa(Na,Sa,lb,Wa,vb,0,fb)):Xa(Na,Va,lb,Wa,Ua,Tb,fb),kb=wa.clickable||wa.hoverable,tb=Pa.clickable||Pa.hoverable,kb||tb){if(Sa||(Sa=(new b.Vector3).addVectors(Va,
lb).multiplyScalar(.5)),kb){var hc=new b.Cylinder(Va,Sa,Wa),nc=new b.Sphere(Va,Wa);wa.intersectionShape.cylinder.push(hc);wa.intersectionShape.sphere.push(nc)}if(tb){var ic=new b.Cylinder(lb,Sa,Wa),Wb=new b.Sphere(lb,Wa);Pa.intersectionShape.cylinder.push(ic);Pa.intersectionShape.sphere.push(Wb)}}}else if(1<wa.bondOrder[Ta]){var Bb=0,wb=0;Wa!=Ab&&(Bb=2,wb=2);var Ga,db,ib,qb,rb,Qb=lb.clone(),xb=null;Qb.sub(Va);xb=H(wa,Pa,Ta);2==wa.bondOrder[Ta]?(Ga=Wa/2.5,(xb=H(wa,Pa,Ta)).multiplyScalar(1.5*Ga),(db=
Va.clone()).add(xb),(ib=Va.clone()).sub(xb),(qb=db.clone()).add(Qb),(rb=ib.clone()).add(Qb),Ua!=vb?(Sa=(new b.Vector3).addVectors(db,qb).multiplyScalar(.5),bb=(new b.Vector3).addVectors(ib,rb).multiplyScalar(.5),Xa(Na,db,Sa,Ga,Ua,Bb,0),Xa(Na,Sa,qb,Ga,vb,0,wb),Xa(Na,ib,bb,Ga,Ua,Bb,0),Xa(Na,bb,rb,Ga,vb,0,wb)):(Xa(Na,db,qb,Ga,Ua,Bb,wb),Xa(Na,ib,rb,Ga,Ua,Bb,wb)),kb=wa.clickable||wa.hoverable,tb=Pa.clickable||Pa.hoverable,(kb||tb)&&(Sa||(Sa=(new b.Vector3).addVectors(db,qb).multiplyScalar(.5)),bb||(bb=
(new b.Vector3).addVectors(ib,rb).multiplyScalar(.5)),kb&&(bc=new b.Cylinder(db,Sa,Ga),Vb=new b.Cylinder(ib,bb,Ga),wa.intersectionShape.cylinder.push(bc),wa.intersectionShape.cylinder.push(Vb)),tb&&(ac=new b.Cylinder(qb,Sa,Ga),Zb=new b.Cylinder(rb,bb,Ga),Pa.intersectionShape.cylinder.push(ac),Pa.intersectionShape.cylinder.push(Zb)))):3==wa.bondOrder[Ta]&&(Ga=Wa/4,xb.cross(Qb),xb.normalize(),xb.multiplyScalar(3*Ga),(db=Va.clone()).add(xb),(ib=Va.clone()).sub(xb),(qb=db.clone()).add(Qb),(rb=ib.clone()).add(Qb),
Ua!=vb?(Sa=(new b.Vector3).addVectors(db,qb).multiplyScalar(.5),bb=(new b.Vector3).addVectors(ib,rb).multiplyScalar(.5),hb=(new b.Vector3).addVectors(Va,lb).multiplyScalar(.5),Xa(Na,db,Sa,Ga,Ua,Bb,0),Xa(Na,Sa,qb,Ga,vb,0,wb),Xa(Na,Va,hb,Ga,Ua,Tb,0),Xa(Na,hb,lb,Ga,vb,0,fb),Xa(Na,ib,bb,Ga,Ua,Bb,0),Xa(Na,bb,rb,Ga,vb,0,wb)):(Xa(Na,db,qb,Ga,Ua,Bb,wb),Xa(Na,Va,lb,Ga,Ua,Tb,fb),Xa(Na,ib,rb,Ga,Ua,Bb,wb)),kb=wa.clickable||wa.hoverable,tb=Pa.clickable||Pa.hoverable,(kb||tb)&&(Sa||(Sa=(new b.Vector3).addVectors(db,
qb).multiplyScalar(.5)),bb||(bb=(new b.Vector3).addVectors(ib,rb).multiplyScalar(.5)),hb||(hb=(new b.Vector3).addVectors(Va,lb).multiplyScalar(.5)),kb&&(bc=new b.Cylinder(db.clone(),Sa.clone(),Ga),Vb=new b.Cylinder(ib.clone(),bb.clone(),Ga),lc=new b.Cylinder(Va.clone(),hb.clone(),Ga),wa.intersectionShape.cylinder.push(bc),wa.intersectionShape.cylinder.push(Vb),wa.intersectionShape.cylinder.push(lc)),tb&&(ac=new b.Cylinder(qb.clone(),Sa.clone(),Ga),Zb=new b.Cylinder(rb.clone(),bb.clone(),Ga),eb=new b.Cylinder(lb.clone(),
hb.clone(),Ga),Pa.intersectionShape.cylinder.push(ac),Pa.intersectionShape.cylinder.push(Zb),Pa.intersectionShape.cylinder.push(eb))))}}}}var cc=!1,Xb=0,oc=!1;for(Ta=0;Ta<wa.bonds.length;Ta++)Kb=mc,wa.bondStyles&&wa.bondStyles[Ta]&&((pb=wa.bondStyles[Ta]).singleBond&&(Kb=!0),pb.radius&&pb.radius!=Ab&&(oc=!0)),(Kb||1==wa.bondOrder[Ta])&&Xb++;oc?0<Xb&&(cc=!0):0==Xb&&0<wa.bonds.length&&(cc=!0);cc&&(Wa=Ab,Na.imposter?Q(Na.sphereGeometry,wa,Wa,Ua):b.GLDraw.drawSphere(Na,wa,Wa,Ua))}}void 0===L.style.cartoon||
L.style.cartoon.hidden||("spectrum"!==L.style.cartoon.color||"number"!=typeof L.resi||L.hetflag||(L.resi<z[0]&&(z[0]=L.resi),L.resi>z[1]&&(z[1]=L.resi)),p.push(L))}}if(0<p.length&&b.drawCartoon(k,p,z,m),r&&0<r.vertices){r.initTypedArrays();var yb=null,Fb=null;r.imposter?yb=new b.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):r.instanced?(Fb=new b.Geometry(!0),b.GLDraw.drawSphere(Fb,{x:0,y:0,z:0},1,new b.Color(.5,.5,.5)),Fb.initTypedArrays(),yb=new b.InstancedMaterial({sphereMaterial:new b.MeshLambertMaterial({ambient:0,
vertexColors:!0,reflectivity:0}),sphere:Fb})):yb=new b.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});1>v.sphere&&0<=v.sphere&&(yb.transparent=!0,yb.opacity=v.sphere);Fb=new b.Mesh(r,yb);k.add(Fb)}if(0<B.vertices){var Lb=null,Hb=null,Cb=B.sphereGeometry;Cb&&void 0!==Cb.vertices&&0!=Cb.vertices||(Cb=null);B.initTypedArrays();Cb&&Cb.initTypedArrays();var Mb={ambient:0,vertexColors:!0,reflectivity:0};B.imposter?(Lb=new b.StickImposterMaterial(Mb),Hb=new b.SphereImposterMaterial(Mb)):
(Lb=new b.MeshLambertMaterial(Mb),Hb=new b.MeshLambertMaterial(Mb),Lb.wireframe&&(B.setUpWireframe(),Cb&&Cb.setUpWireframe()));1>v.stick&&0<=v.stick&&(Lb.transparent=!0,Lb.opacity=v.stick,Hb.transparent=!0,Hb.opacity=v.stick);var t=new b.Mesh(B,Lb);if(k.add(t),Cb){var qa=new b.Mesh(Cb,Hb);k.add(qa)}}for(G in l)if(l.hasOwnProperty(G)){var sb=G;var Yb=new b.LineBasicMaterial({linewidth:sb,vertexColors:!0});1>v.line&&0<=v.line&&(Yb.transparent=!0,Yb.opacity=v.line);l[G].initTypedArrays();var n=new b.Line(l[G],
Yb,b.LinePieces);k.add(n)}for(G in q)if(q.hasOwnProperty(G)){sb=G;var M=new b.LineBasicMaterial({linewidth:sb,vertexColors:!0});1>v.cross&&0<=v.cross&&(M.transparent=!0,M.opacity=v.cross);q[G].initTypedArrays();var Ha=new b.Line(q[G],M,b.LinePieces);k.add(Ha)}if(K&&g.symmetries&&0<g.symmetries.length){var dc,qc=new b.Object3D;for(dc=0;dc<g.symmetries.length;dc++){var jc=new b.Object3D;(jc=k.clone()).matrix.copy(g.symmetries[dc]);jc.matrixAutoUpdate=!1;qc.add(jc)}return qc}return k};this.getCrystData=
function(){return g.cryst?g.cryst:null};this.getSymmetries=function(){return void 0===g.symmetries&&(g.symmetries=[L]),g.symmetries};this.setSymmetries=function(b){g.symmetries=void 0===b?[L]:b};this.getID=function(){return r};this.getNumFrames=function(){return null!=w.numFrames?w.numFrames:w.length};var P=function(b,c,d,f){b=c-b;return b<-d?c+f:b>d?c-f:c};this.setFrame=function(c){var f=this.getNumFrames();return new Promise(function(g,e){(0==f&&g(),(0>c||c>=f)&&(c=f-1),null!=w.url)?b.getbin(w.url+
"/traj/frame/"+c+"/"+w.path,null,"POST").then(function(b){b=new Float32Array(b,44);for(var c=0,d=0;d<v.length;d++)v[d].x=b[c++],v[d].y=b[c++],v[d].z=b[c++];if(E&&A&&E&&A){b=E[0];c=E[1];d=E[2];for(var f=.9*b,e=.9*c,h=.9*d,k=0;k<A.length;k++)for(var m=A[k],p=1;p<m.length;p++){var l=v[m[p][0]],q=v[m[p][1]];l.x=P(q.x,l.x,f,b);l.y=P(q.y,l.y,e,c);l.z=P(q.z,l.z,h,d)}}g()}).catch(e):(v=w[c],g());d=null})};this.addFrame=function(b){w.push(b)};this.vibrate=function(c,d,f,g,e){d=d||1;var h=0,k=c=c||10;f&&(h=
-c,k=c);h<k&&(w=[]);for(f=h;f<k;f++){h=[];var m=w.length;if(0!=f||e){for(var p=0;p<v.length;p++){var q=b.getAtomProperty(v[p],"dx"),C=b.getAtomProperty(v[p],"dy"),r=b.getAtomProperty(v[p],"dz"),B=new b.Vector3(q,C,r),z=new b.Vector3(v[p].x,v[p].y,v[p].z);B.multiplyScalar(f*d/c);z.add(B);B={};for(var K in v[p])B[K]=v[p][K];if(B.x=z.x,B.y=z.y,B.z=z.z,h.push(B),g&&e){var L=l.extend({},e);q=new b.Vector3(q,C,r);(q.multiplyScalar(d),q.add(z),L.start=z,L.end=q,L.frame=m,L.color)||((z=B.style.sphere)||(z=
B.style.stick),z||(z=B.style.line),L.color=b.getColorFromStyle(B,z));g.addArrow(L)}}w.push(h)}else w.push(v)}};this.setAtomDefaults=function(b){for(var c=0;c<b.length;c++){var d=b[c];d&&(d.style=d.style||l.extend(!0,{},e),d.color=d.color||G[d.elem]||B,d.model=r,(d.clickable||d.hoverable)&&(d.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}};this.addMolData=function(c,d,f){f=f||{};c=b.GLModel.parseMolData(c,d,f);K=!f.duplicateAssemblyAtoms;d=c.modelData;if(d&&(g=Array.isArray(d)?d[0]:
d),E=c.box?c.box:null,0==w.length){for(d=0;d<c.length;d++)0!=c[d].length&&w.push(c[d]);w[0]&&(v=w[0])}else if(f.frames)for(d=0;d<c.length;d++)w.push(c[d]);else for(d=0;d<c.length;d++)this.addAtoms(c[d]);for(c=0;c<w.length;c++)this.setAtomDefaults(w[c],r);f.vibrate&&f.vibrate.frames&&f.vibrate.amplitude&&this.vibrate(f.vibrate.frames,f.vibrate.amplitude);f.style&&this.setStyle({},f.style)};this.setDontDuplicateAtoms=function(b){K=b};this.setModelData=function(b){g=b};var T=function(b,c){if(b==c)return!0;
if("string"==typeof c&&"number"==typeof b&&(c=c.match(/(-?\d+)\s*-\s*(-?\d+)/))){var d=parseInt(c[1]),f=parseInt(c[2]);if(c&&b>=d&&b<=f)return!0}return!1};this.atomIsSelected=function(b,c){if(void 0===c)return!0;var d=!!c.invert,f=!0,g;for(g in c)if("and"==g||"or"==g||"not"==g)if("not"==g){if(this.atomIsSelected(b,c[g])){f=!1;break}}else if("and"==g)for(var e=c[g],h=0;h<e.length;h++){if(!this.atomIsSelected(b,e[h])){f=!1;break}}else{if("or"==g){f=c[g];e=!0;for(h=0;h<f.length;h++){if(this.atomIsSelected(b,
f[h])){e=!0;break}e=!1}f=e}}else if("predicate"===g){if(!c.predicate(b)){f=!1;break}}else if("properties"==g&&b[g])for(var k in c.properties){if(void 0===b.properties[k]){f=!1;break}if(b.properties[k]!=c.properties[k]){f=!1;break}}else if(c.hasOwnProperty(g)&&"props"!=g&&"invert"!=g&&"model"!=g&&"byres"!=g&&"expand"!=g&&"within"!=g&&"and"!=g&&"or"!=g&&"not"!=g){if(void 0===b[g]){f=!1;break}e=!1;if("bonds"===g){if(c[g]!=b.bonds.length){f=!1;break}}else if(l.isArray(c[g])){h=c[g];for(var m=b[g],p=0;p<
h.length;p++)if(T(m,h[p])){e=!0;break}if(!e){f=!1;break}}else if(!T(b[g],c[g])){f=!1;break}}return d?!f:f};var S=function(b,c){return Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2)+Math.pow(c.z-b.z,2)};this.selectedAtoms=function(c,d){var f=[];c=c||{};d||(d=v);for(var g=d.length,e=0;e<g;e++){var h=d[e];h&&this.atomIsSelected(h,c)&&f.push(h)}if(c.hasOwnProperty("expand")){e=parseFloat(c.expand);if(0>=e)d=f;else{d=b.getExtent(f);g=[[],[],[]];for(h=0;3>h;h++)g[0][h]=d[0][h]-e,g[1][h]=d[1][h]+e,g[2][h]=d[2][h];
e=[];for(h=0;h<v.length;h++){var k=v[h].x,m=v[h].y,l=v[h].z;k>=g[0][0]&&k<=g[1][0]&&m>=g[0][1]&&m<=g[1][1]&&l>=g[0][2]&&l<=g[1][2]&&(k>=d[0][0]&&k<=d[1][0]&&m>=d[0][1]&&m<=d[1][1]&&l>=d[0][2]&&l<=d[1][2]||e.push(v[h]))}d=e}g=f.length;for(e=0;e<d.length;e++)for(h=0;h<g;h++)k=S(d[e],f[h]),k<Math.pow(c.expand,2)&&0<k&&f.push(d[e])}if(c.hasOwnProperty("within")&&c.within.hasOwnProperty("sel")&&c.within.hasOwnProperty("distance")){g=this.selectedAtoms(c.within.sel,v);d={};for(e=0;e<g.length;e++)for(h=
0;h<f.length;h++)k=S(g[e],f[h]),k<Math.pow(parseFloat(c.within.distance),2)&&0<k&&(d[h]=1);g=[];if(c.within.invert)for(var p=0;p<f.length;p++)d[p]||g.push(f[p]);else for(p in d)g.push(f[p]);f=g}if(c.hasOwnProperty("byres"))for(c={},p=[],d=[],g=0;g<f.length;g++)if(e=f[g],h=e.chain,k=e.resi,void 0===c[h]&&(c[h]={}),e.hasOwnProperty("resi")&&void 0===c[h][k])for(c[h][k]=!0,d.push(e);0<d.length;)if(h=(e=d.pop()).chain,k=e.resi,void 0===p[e.index])for(p[e.index]=!0,m=0;m<e.bonds.length;m++)l=v[e.bonds[m]],
void 0===p[l.index]&&l.hasOwnProperty("resi")&&l.chain==h&&l.resi==k&&(d.push(l),f.push(l));return f};this.addAtoms=function(b){d=null;var c,f=v.length,g=[];for(c=0;c<b.length;c++)void 0===b[c].index&&(b[c].index=c),void 0===b[c].serial&&(b[c].serial=c),g[b[c].index]=f+c;for(c=0;c<b.length;c++){f=b[c];var h=g[f.index],k=l.extend(!1,{},f);k.index=h;k.bonds=[];k.bondOrder=[];k.model=r;k.style=k.style||l.extend(!0,{},e);void 0===k.color&&(k.color=G[k.elem]||B);h=f.bonds?f.bonds.length:0;for(var m=0;m<
h;m++){var q=g[f.bonds[m]];void 0!==q&&(k.bonds.push(q),k.bondOrder.push(f.bondOrder?f.bondOrder[m]:1))}v.push(k)}};this.removeAtoms=function(b){d=null;var c,f=[];for(c=0;c<b.length;c++)f[b[c].index]=!0;b=[];for(c=0;c<v.length;c++){var g=v[c];f[g.index]||b.push(g)}v=[];this.addAtoms(b)};this.setStyle=function(b,f,g){for(var e in void 0===f&&void 0===g&&(f=b,b={}),b)c.validAtomSelectionSpecs.hasOwnProperty(e)||console.log("Unknown selector "+e);for(e in f)c.validAtomStyleSpecs.hasOwnProperty(e)||console.log("Unknown style "+
e);var h=!1,k=this;e=function(c){for(var d=k.selectedAtoms(b,c),e=0;e<c.length;e++)c[e]&&(c[e].capDrawn=!1);for(c=0;c<d.length;c++){h=!0;(d[c].clickable||d[c].hoverable)&&(d[c].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});g||(d[c].style={});for(var m in f)f.hasOwnProperty(m)&&(d[c].style[m]=d[c].style[m]||{},Object.assign(d[c].style[m],f[m]))}};e(v);for(var m=0;m<w.length;m++)w[m]!==v&&e(w[m]);h&&(d=null)};this.setClickable=function(b,f,g){for(var e in b)c.validAtomSelectionSpecs.hasOwnProperty(e)||
console.log("Unknown selector "+e);if(f=!!f,g&&"function"!=typeof g)console.log("Callback is not a function");else{e=this.selectedAtoms(b,v);var h=e.length;for(b=0;b<h;b++)e[b].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},e[b].clickable=f,g&&(e[b].callback=g);0<h&&(d=null)}};this.setHoverable=function(b,f,g,e){for(var h in b)c.validAtomSelectionSpecs.hasOwnProperty(h)||console.log("Unknown selector "+h);if(f=!!f,g&&"function"!=typeof g)console.log("Hover_callback is not a function");
else if(e&&"function"!=typeof e)console.log("Unhover_callback is not a function");else{h=this.selectedAtoms(b,v);var k=h.length;for(b=0;b<k;b++)h[b].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},h[b].hoverable=f,g&&(h[b].hover_callback=g),e&&(h[b].unhover_callback=e);0<k&&(d=null)}};this.setColorByElement=function(b,c){var f;(f=null===d)||(f=C,f=!(c&&f?JSON.stringify(c)==JSON.stringify(f):c==f));if(f){C=c;var g=this.selectedAtoms(b,g);0<g.length&&(d=null);for(b=0;b<g.length;b++)f=
g[b],void 0!==c[f.elem]&&(f.color=c[f.elem])}};this.setColorByProperty=function(c,f,g,e){var h=this.selectedAtoms(c,h);C=null;0<h.length&&(d=null);void 0!==b.Gradient.builtinGradients[g]&&(g=new b.Gradient.builtinGradients[g]);e||(e=g.range());e||(e=b.getPropertyRange(h,f));for(c=0;c<h.length;c++){var k=h[c];null!=b.getAtomProperty(k,f)&&(k.color=g.valueToHex(parseFloat(k.properties[f]),e))}};this.setColorByFunction=function(b,c){var f=this.selectedAtoms(b,f);if("function"==typeof c)for(C=null,0<
f.length&&(d=null),b=0;b<f.length;b++){var g=f[b];g.color=c(g)}};this.toCDObject=function(b){var c={a:[],b:[]};b&&(c.s=[]);for(var d=0;d<v.length;d++){var f={},g=v[d];if(f.x=g.x,f.y=g.y,f.z=g.z,"C"!=g.elem&&(f.l=g.elem),b){for(var e=0;e<c.s.length&&JSON.stringify(g.style)!==JSON.stringify(c.s[e]);)e++;e===c.s.length&&c.s.push(g.style);0!==e&&(f.s=e)}c.a.push(f);for(f=0;f<g.bonds.length;f++){e=d;var h=g.bonds[f];e>=h||(e={b:e,e:h},h=g.bondOrder[f],1!=h&&(e.o=h),c.b.push(e))}}return c};this.globj=function(b,
c){(null===d||c.regen)&&(d=ba(v,c),f&&(b.remove(f),f=null),f=d.clone(),q&&(f.setVisible(!1),d.setVisible(!1)),b.add(f))};this.exportVRML=function(){return ba(v,{supportsImposters:!1,supportsAIA:!1}).vrml()};this.removegl=function(b){f&&(void 0!==f.geometry&&f.geometry.dispose(),void 0!==f.material&&f.material.dispose(),b.remove(f),f=null);d=null};this.hide=function(){q=!0;f&&f.setVisible(!1);d&&d.setVisible(!1)};this.show=function(){q=!1;f&&f.setVisible(!0);d&&d.setVisible(!0)};this.addPropertyLabels=
function(b,c,d,f){var g=this.selectedAtoms(c,g);c=l.extend(!0,{},f);for(f=0;f<g.length;f++){var e=g[f],h=null;void 0!==e[b]?h=String(e[b]):(e.properties[b],h=String(e.properties[b]));null!=h&&(c.position=e,d.addLabel(h,c))}};this.addResLabels=function(c,d,f,g){var e=[],h=function(g,h){var k=g.selectedAtoms(c,k);g={};for(var m=0;m<k.length;m++){var p=k[m],q=p.chain,C=p.resn+""+p.resi;g[q]||(g[q]={});g[q][C]||(g[q][C]=[]);g[q][C].push(p)}k=l.extend(!0,{},f);for(var B in g)if(g.hasOwnProperty(B)){m=
g[B];for(var r in m)if(m.hasOwnProperty(r)){p=m[r];q=new b.Vector3(0,0,0);for(C=0;C<p.length;C++){var v=p[C];q.x+=v.x;q.y+=v.y;q.z+=v.z}q.divideScalar(p.length);k.position=q;k.frame=h;p=d.addLabel(r,k,void 0,!0);e.push(p)}}};if(g){g=this.getNumFrames();for(var k=v,m=0;m<g;m++)w[m]&&(v=w[m],h(this,m));v=k}else h(this);return e};this.setCoordinatesFromURL=function(b,c){w=[];var d=this;return E&&function(){A=[];var b=new Int8Array(v.length);b.fill(0);for(var c=function(d,f,g){g.push([d,f]);f=v[d];b[d]=
1;for(var e=0;e<f.bonds.length;e++){var h=f.bonds[e];v[h]&&!b[h]&&c(h,d,g)}},d=0;d<v.length;d++)if(v[d]&&!b[d]){var f=[];c(d,-1,f);A.push(f)}}(),new Promise(function(f,g){b.startsWith("http://")||(b="http://"+b);l.get(b+"/traj/numframes/"+c,function(e){isNaN(parseInt(e))||(w.push(v),w.numFrames=e,w.url=b,w.path=c,d.setFrame(0).then(function(){f()}).catch(g))})})};this.setCoordinates=function(b,d){if(!b)return[];if(/\.gz$/.test(d=d||"")){d=d.replace(/\.gz$/,"");try{b=pako.inflate(b,{to:"string"})}catch(X){console.log(X)}}if({mdcrd:"",
inpcrd:"",pdb:"",netcdf:""}.hasOwnProperty(d)){w=[];var f=v.length;b=c.parseCrd(b,d);for(d=0;d<b.length;){for(var g=[],e=0;e<f;e++){var h={},k;for(k in v[e])h[k]=v[e][k];g[e]=h;g[e].x=b[d++];g[e].y=b[d++];g[e].z=b[d++]}w.push(g)}return v=w[0],w}return[]};this.addAtomSpecs=function(b){for(var d=0;d<b.length;d++)c.validAtomSelectionSpecs.hasOwnProperty(b[d])&&c.validAtomSelectionSpecs.push(b[d])}}var e={line:{}},k={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,
CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63};c.validElements="H Li LI Na NA K C N O F P S CL Cl BR Br SE Se ZN Zn CU Cu NI Ni".split(" ");c.validAtomSpecs={resn:{type:"string",valid:!0},x:{type:"number",valid:!1,step:.1},y:{type:"number",valid:!1,step:.1},z:{type:"number",valid:!1,step:.1},color:{type:"color",gui:!0},surfaceColor:{type:"color",gui:!0},elem:{type:"element",gui:!0},hetflag:{type:"boolean",valid:!1},chain:{type:"string",gui:!0},resi:{type:"number",
gui:!0},icode:{type:"number",valid:!1,step:.1},rescode:{type:"number",valid:!1,step:.1},serial:{type:"number",valid:!1,step:.1},atom:{type:"string",valid:!1},bonds:{type:"array",valid:!1},ss:{type:"string",valid:!1},singleBonds:{type:"boolean",valid:!1},bondOrder:{type:"array",valid:!1},properties:{type:"properties",valid:!1},b:{type:"number",valid:!1,step:.1},pdbline:{type:"string",valid:!1},clickable:{type:"boolean",valid:!1},callback:{type:"function",valid:!1},invert:{type:"boolean",valid:!1},
reflectivity:{type:"number",gui:!0,step:.1},altLoc:{type:"invalid",valid:!1}};c.validAtomSelectionSpecs=function(b,c){for(var e in c)c.hasOwnProperty(e)&&(b[e]=c[e]);return b}(c.validAtomSpecs,{model:{type:"string",valid:!1},bonds:{type:"string",valid:!1},predicate:{type:"string",valid:!1},invert:{type:"string",valid:!1},byres:{type:"string",valid:!1},expand:{type:"string",valid:!1},within:{type:"string",valid:!1},and:{type:"string",valid:!1},or:{type:"string",valid:!1},not:{type:"string",valid:!1}});
var x={hidden:{type:"boolean",gui:!0},singleBonds:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1.5,min:0}};c.validAtomStyleSpecs={line:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!0,step:.1,default:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0}},gui:!0},cross:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!1,step:.1,default:1,min:0},
colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1,min:.1},scale:{type:"number",gui:!0,step:.1,default:1,min:0}},gui:!0},stick:{validItems:{hidden:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:.25,min:.1},singleBonds:{type:"boolean",gui:!0}},gui:!0},sphere:{validItems:x,gui:!0},cartoon:{validItems:{style:{validItems:["trace","oval","rectangle",
"parabola","edged"],gui:!0},color:{type:"color",gui:!0},arrows:{type:"boolean",gui:!0},ribbon:{type:"boolean",gui:!0},hidden:{type:"boolean",gui:!0},tubes:{type:"boolean",gui:!0},thickness:{type:"number",gui:!0,step:.1,default:1,min:0},width:{type:"number",gui:!0,step:.1,default:1,min:0},opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1}},gui:!0},colorfunc:{validItems:null,valid:!1},clicksphere:{validItems:x}};c.validSurfaceSpecs={opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},
colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},voldata:{type:"number",gui:!1},volscheme:{type:"number",gui:!1},map:{type:"number",gui:!1}};c.validLabelResSpecs={font:{type:"string",gui:!0},fontSize:{type:"number",gui:!0,step:1,default:12,min:1},fontColor:{type:"color",gui:!0},fontOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},borderThickness:{type:"number",gui:!0,step:.1,default:1,min:0},borderColor:{type:"color",gui:!0},borderOpacity:{type:"number",gui:!0,step:.1,
default:1,min:0,max:1},backgroundColor:{type:"color",gui:!0},backgroundOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},position:{type:"array",valid:!1},inFront:{type:"boolean",gui:!0},showBackground:{type:"boolean",gui:!0},fixed:{type:"boolean",gui:!0},alignment:{validItems:"topLeft topCenter topRight centerLeft center centerRight bottomLeft bottomCenter bottomRight".split(" "),gui:!0},scale:{type:"boolean",gui:!1}};return c.parseCrd=function(b,c){var e=[],h=0;if("pdb"==c)for(c=b.indexOf("\nATOM");-1!=
c;){for(;"\nATOM"==b.slice(c,c+5)||"\nHETATM"==b.slice(c,c+7);)e[h++]=parseFloat(b.slice(c+31,c+39)),e[h++]=parseFloat(b.slice(c+39,c+47)),e[h++]=parseFloat(b.slice(c+47,c+55)),c=b.indexOf("\n",c+54),"\nTER"==b.slice(c,c+4)&&(c=b.indexOf("\n",c+5));c=b.indexOf("\nATOM",c)}else"netcdf"==c?(b=new netcdfjs(b),e=[].concat.apply([],b.getDataVariable("coordinates"))):(e=b.indexOf("\n"),"inpcrd"==c&&(e=b.indexOf("\n",e+1)),e=b.slice(e+1).match(/\S+/g).map(parseFloat));return e},c.parseMolData=function(c,
e,k){if(!c)return[];if(/\.gz$/.test(e=e||"")){e=e.replace(/\.gz$/,"");try{c=pako.inflate(c,{to:"string"})}catch(w){console.log(w)}}return void 0===b.Parsers[e]&&(e=e.split(".").pop(),void 0===b.Parsers[e]&&(console.log("Unknown format: "+e),e=c instanceof Uint8Array?"mmtf":c.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":c.match(/^HETATM/gm)||c.match(/^ATOM/gm)?"pdb":c.match(/ITEM: TIMESTEP/gm)?"lammpstrj":c.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":c.match(/^%VERSION\s+VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+
e))),(0,b.Parsers[e])(c,k)},c}();b.GLShape=function(){function c(c){c=c||{};b.ShapeIDCount++;this.boundingSphere=new b.Sphere;this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]};r(this,c);var h=[],w=null,E=null,A=new b.Geometry(!0),q=new b.Geometry(!0);this.updateStyle=function(b){for(var d in b)c[d]=b[d];r(this,c)};this.addCustom=function(b){b.vertexArr=b.vertexArr||[];b.faceArr=b.faceArr||[];b.normalArr=b.normalArr||[];x(this,A,b)};this.addSphere=function(c){c.center=c.center||{x:0,
y:0,z:0};c.radius=c.radius?b.Math.clamp(c.radius,0,1/0):1.5;c.color=b.CC.color(c.color);this.intersectionShape.sphere.push(new b.Sphere(c.center,c.radius));b.GLDraw.drawSphere(A,c.center,c.radius,c.color);h.push({centroid:new b.Vector3(c.center.x,c.center.y,c.center.z)});c=A.updateGeoGroup(0);k(this.boundingSphere,h,c.vertexArray,c.vertices)};this.addBox=function(c){var d=c.dimensions||{w:1,h:1,d:1},e=d.w;"number"==typeof d.w&&(e={x:d.w,y:0,z:0});var g=d.h;"number"==typeof d.h&&(g={x:0,y:d.h,z:0});
var q=d.d;"number"==typeof d.d&&(q={x:0,y:0,z:d.d});d=c.corner;null==d&&(d=void 0!==c.center?{x:c.center.x-.5*(e.x+g.x+q.x),y:c.center.y-.5*(e.y+g.y+q.y),z:c.center.z-.5*(e.z+g.z+q.z)}:{x:0,y:0,z:0});e=[{x:d.x,y:d.y,z:d.z},{x:d.x+e.x,y:d.y+e.y,z:d.z+e.z},{x:d.x+g.x,y:d.y+g.y,z:d.z+g.z},{x:d.x+e.x+g.x,y:d.y+e.y+g.y,z:d.z+e.z+g.z},{x:d.x+q.x,y:d.y+q.y,z:d.z+q.z},{x:d.x+e.x+q.x,y:d.y+e.y+q.y,z:d.z+e.z+q.z},{x:d.x+g.x+q.x,y:d.y+g.y+q.y,z:d.z+g.z+q.z},{x:d.x+e.x+g.x+q.x,y:d.y+e.y+g.y+q.y,z:d.z+e.z+g.z+
q.z}];g=[];q=[];g.splice(g.length,0,e[0],e[1],e[2],e[3]);q.splice(q.length,0,0,2,1,1,2,3);d=4;g.splice(g.length,0,e[2],e[3],e[6],e[7]);q.splice(q.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;g.splice(g.length,0,e[4],e[5],e[0],e[1]);q.splice(q.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;g.splice(g.length,0,e[6],e[7],e[4],e[5]);q.splice(q.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;g.splice(g.length,0,e[3],e[1],e[7],e[5]);q.splice(q.length,0,d+0,d+2,d+1,d+1,d+2,d+3);d+=4;g.splice(g.length,0,e[2],e[0],e[6],e[4]);q.splice(q.length,
0,d+0,d+2,d+1,d+1,d+2,d+3);c=l.extend({},c);c.vertexArr=g;c.faceArr=q;c.normalArr=[];x(this,A,c);c=new b.Vector3;h.push({centroid:c.addVectors(e[0],e[7]).multiplyScalar(.5)});c=A.updateGeoGroup(0);k(this.boundingSphere,h,c.vertexArray,c.vertices)};this.addCylinder=function(c){c.start=c.start||{};c.end=c.end||{};var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),e=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===e.x&&(e.x=3);var g=c.radius||.1,l=b.CC.color(c.color);this.intersectionShape.cylinder.push(new b.Cylinder(d,
e,g));b.GLDraw.drawCylinder(A,d,e,g,l,c.fromCap,c.toCap);c=new b.Vector3;h.push({centroid:c.addVectors(d,e).multiplyScalar(.5)});d=A.updateGeoGroup(0);k(this.boundingSphere,h,d.vertexArray,d.vertices)};this.addDashedCylinder=function(c){c.start=c.start||{};c.end=c.end||{};c.dashLength=c.dashLength||.25;c.gapLength=c.gapLength||.25;var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),e=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===e.x&&(e.x=3);var g=c.radius||.1,l=b.CC.color(c.color),
q=Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2)+Math.pow(d.z-e.z,2)),B=q/(c.gapLength+c.dashLength),r=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);for(var z=new b.Vector3((e.x-d.x)/(q/c.gapLength),(e.y-d.y)/(q/c.gapLength),(e.z-d.z)/(q/c.gapLength)),m=new b.Vector3((e.x-d.x)/(q/c.dashLength),(e.y-d.y)/(q/c.dashLength),(e.z-d.z)/(q/c.dashLength)),v=0;v<B;v++)q=new b.Vector3(r.x+m.x,r.y+m.y,r.z+m.z),this.intersectionShape.cylinder.push(new b.Cylinder(r,
q,g)),b.GLDraw.drawCylinder(A,r,q,g,l,c.fromCap,c.toCap),r=new b.Vector3(q.x+z.x,q.y+z.y,q.z+z.z);c=new b.Vector3;h.push({centroid:c.addVectors(d,e).multiplyScalar(.5)});d=A.updateGeoGroup(0);k(this.boundingSphere,h,d.vertexArray,d.vertices)};this.addCurve=function(c){c.points=c.points||[];c.smooth=c.smooth||10;void 0===c.fromCap&&(c.fromCap=2);void 0===c.toCap&&(c.toCap=2);var d=b.subdivide_spline(c.points,c.smooth);if(3>d.length)console.log("Too few points in addCurve");else{var e=c.radius||.1,
g=b.CC.color(c.color),h=0,k=d.length-1,l=d[0].distanceTo(d[1]);l=Math.ceil(2*e/l);if(c.toArrow){var q={start:d[k-=l],end:d[d.length-1],radius:e,color:g,mid:1E-4};this.addArrow(q)}c.fromArrow&&(c={start:d[h+=l],end:d[0],radius:e,color:g,mid:1E-4},this.addArrow(c));c=Math.ceil(d.length/2);for(e={radius:e,color:g,fromCap:2,toCap:2};h<k;h++)e.start=d[h],e.end=d[h+1],e.fromCap=2,e.toCap=2,h<c?(e.fromCap=2,e.toCap=0):h>c?(e.fromCap=0,e.toCap=2):(e.fromCap=2,e.toCap=2),this.addCylinder(e)}};this.addLine=
function(c){c.start=c.start||{};c.end=c.end||{};var d=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0);c=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);void 0===c.x&&(c.x=3);var e=A.updateGeoGroup(2),g=e.vertices,l=3*g,q=e.vertexArray;q[l]=d.x;q[l+1]=d.y;q[l+2]=d.z;q[l+3]=c.x;q[l+4]=c.y;q[l+5]=c.z;e.vertices+=2;l=e.lineArray;q=e.lineidx;l[q]=g;l[q+1]=g+1;e.lineidx+=2;e=new b.Vector3;h.push({centroid:e.addVectors(d,c).multiplyScalar(.5)});e=A.updateGeoGroup(0);k(this.boundingSphere,h,e.vertexArray,
e.vertices)};this.addArrow=function(c){if(c.start=c.start||{},c.end=c.end||{},c.start=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),c.dir instanceof b.Vector3&&"number"==typeof c.length){var d=c.dir.clone().multiplyScalar(c.length).add(c.start);c.end=d}else c.end=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0),void 0===c.end.x&&(c.end.x=3);c.radius=c.radius||.1;c.radiusRatio=c.radiusRatio||1.618034;c.mid=0<c.mid&&1>c.mid?c.mid:.618034;var e=c.start,g=c.end,l=c.radius,q=c.radiusRatio,B=c.mid;
if(e&&g){d=A.updateGeoGroup(51);var r=g.clone();r.sub(e).multiplyScalar(B);var z=e.clone().add(r);B=r.clone().negate();this.intersectionShape.cylinder.push(new b.Cylinder(e.clone(),z.clone(),l));this.intersectionShape.sphere.push(new b.Sphere(e.clone(),l));var m=[];m[0]=r.clone();1E-4<Math.abs(m[0].x)?m[0].y+=1:m[0].x+=1;m[0].cross(r);m[0].normalize();m[0]=m[0];m[4]=m[0].clone();m[4].crossVectors(m[0],r);m[4].normalize();m[8]=m[0].clone().negate();m[12]=m[4].clone().negate();m[2]=m[0].clone().add(m[4]).normalize();
m[6]=m[4].clone().add(m[8]).normalize();m[10]=m[8].clone().add(m[12]).normalize();m[14]=m[12].clone().add(m[0]).normalize();m[1]=m[0].clone().add(m[2]).normalize();m[3]=m[2].clone().add(m[4]).normalize();m[5]=m[4].clone().add(m[6]).normalize();m[7]=m[6].clone().add(m[8]).normalize();m[9]=m[8].clone().add(m[10]).normalize();m[11]=m[10].clone().add(m[12]).normalize();m[13]=m[12].clone().add(m[14]).normalize();m[15]=m[14].clone().add(m[0]).normalize();var v,w,E,x=d.vertices;var H=d.vertexArray;var Q=
d.faceArray,I=d.normalArray,F=d.lineArray;var ba=0;for(v=m.length;ba<v;++ba){var P=3*(x+3*ba);var T=m[ba].clone().multiplyScalar(l).add(e);var S=m[ba].clone().multiplyScalar(l).add(z);var J=m[ba].clone().multiplyScalar(l*q).add(z);if(H[P]=T.x,H[P+1]=T.y,H[P+2]=T.z,H[P+3]=S.x,H[P+4]=S.y,H[P+5]=S.z,H[P+6]=J.x,H[P+7]=J.y,H[P+8]=J.z,0<ba)P=new b.Vector3(H[P-3],H[P-2],H[P-1]),T=g.clone(),S=z.clone(),J=new b.Vector3(J.x,J.y,J.z),this.intersectionShape.triangle.push(new b.Triangle(J,T,P)),this.intersectionShape.triangle.push(new b.Triangle(P.clone(),
S,J.clone()))}d.vertices+=48;H[P=3*d.vertices]=e.x;H[P+1]=e.y;H[P+2]=e.z;H[P+3]=z.x;H[P+4]=z.y;H[P+5]=z.z;H[P+6]=g.x;H[P+7]=g.y;H[P+8]=g.z;d.vertices+=3;var p=d.vertices-3,D=d.vertices-2,O=d.vertices-1,N=3*p,da=3*D,ia=3*O;ba=0;for(v=m.length-1;ba<v;++ba){var X=x+3*ba;e=d.faceidx;g=d.lineidx;P=3*(l=X);T=3*(q=X+1);S=3*(z=X+2);var W=3*(H=X+4);var na=3*(J=X+5);var ka=3*(X+=3);[m[ba],m[ba],m[ba+1],m[ba+1]];var ha=w=m[ba];var fa=E=m[ba+1];I[P]=ha.x;I[T]=w.x;I[ka]=E.x;I[P+1]=ha.y;I[T+1]=w.y;I[ka+1]=E.y;
I[P+2]=ha.z;I[T+2]=w.z;I[ka+2]=E.z;I[T]=w.x;I[W]=fa.x;I[ka]=E.x;I[T+1]=w.y;I[W+1]=fa.y;I[ka+1]=E.y;I[T+2]=w.z;I[W+2]=fa.z;I[ka+2]=E.z;I[S]=w.x;I[na]=fa.x;I[S+1]=w.y;I[na+1]=fa.y;I[S+2]=w.z;I[na+2]=fa.z;Q[e]=l;Q[e+1]=q;Q[e+2]=X;Q[e+3]=q;Q[e+4]=H;Q[e+5]=X;Q[e+6]=l;Q[e+7]=X;Q[e+8]=p;Q[e+9]=z;Q[e+10]=D;Q[e+11]=J;Q[e+12]=z;Q[e+13]=O;Q[e+14]=J;F[g]=l;F[g+1]=q;F[g+2]=l;F[g+3]=X;F[g+4]=H;F[g+5]=X;F[g+6]=l;F[g+7]=X;F[g+8]=z;F[g+9]=q;F[g+10]=z;F[g+11]=J;F[g+12]=H;F[g+13]=J;F[g+14]=z;F[g+15]=O;F[g+16]=z;F[g+
17]=J;F[g+18]=O;F[g+19]=J;d.faceidx+=15;d.lineidx+=20}ba=[x+45,x+46,x+1,x,x+47,x+2];[m[15],m[15],m[0],m[0]];e=d.faceidx;g=d.lineidx;P=3*(l=ba[0]);T=3*(q=ba[1]);S=3*(z=ba[4]);W=3*(H=ba[2]);na=3*(J=ba[5]);ka=3*(X=ba[3]);ha=w=m[15];fa=E=m[0];I[P]=ha.x;I[T]=w.x;I[ka]=E.x;I[P+1]=ha.y;I[T+1]=w.y;I[ka+1]=E.y;I[P+2]=ha.z;I[T+2]=w.z;I[ka+2]=E.z;I[T]=w.x;I[W]=fa.x;I[ka]=E.x;I[T+1]=w.y;I[W+1]=fa.y;I[ka+1]=E.y;I[T+2]=w.z;I[W+2]=fa.z;I[ka+2]=E.z;I[S]=w.x;I[na]=fa.x;I[S+1]=w.y;I[na+1]=fa.y;I[S+2]=w.z;I[na+2]=fa.z;
r.normalize();B.normalize();I[N]=B.x;I[da]=I[ia]=r.x;I[N+1]=B.y;I[da+1]=I[ia+1]=r.y;I[N+2]=B.z;I[da+2]=I[ia+2]=r.z;Q[e]=l;Q[e+1]=q;Q[e+2]=X;Q[e+3]=q;Q[e+4]=H;Q[e+5]=X;Q[e+6]=l;Q[e+7]=X;Q[e+8]=p;Q[e+9]=z;Q[e+10]=D;Q[e+11]=J;Q[e+12]=z;Q[e+13]=O;Q[e+14]=J;F[g]=l;F[g+1]=q;F[g+2]=l;F[g+3]=X;F[g+4]=H;F[g+5]=X;F[g+6]=l;F[g+7]=X;F[g+8]=z;F[g+9]=q;F[g+10]=z;F[g+11]=J;F[g+12]=H;F[g+13]=J;F[g+14]=z;F[g+15]=O;F[g+16]=z;F[g+17]=J;F[g+18]=O;F[g+19]=J;d.faceidx+=15;d.lineidx+=20}d=new b.Vector3;h.push({centroid:d.addVectors(c.start,
c.end).multiplyScalar(.5)});c=A.updateGeoGroup(0);k(this.boundingSphere,h,c.vertexArray,c.vertices)};this.addIsosurface=function(c,f,e){var d,h=void 0!==f.isoval&&"number"==typeof f.isoval?f.isoval:0,k=!!f.voxel,l=void 0===f.smoothness?1:f.smoothness,q=c.size.x,r=c.size.y,m=c.size.z,C=new Int16Array(q*r*m),v=c.data;var w=0;for(d=C.length;w<d;++w)C[w]=-1;C=new Uint8Array(q*r*m);w=0;for(d=v.length;w<d;++w)0<(0<=h?v[w]-h:h-v[w])&&(C[w]|=2);w=[];d=[];b.MarchingCube.march(C,w,d,{fulltable:!0,voxel:k,unitCube:c.unit,
origin:c.origin,matrix:c.matrix,nX:q,nY:r,nZ:m});!k&&0<l&&b.MarchingCube.laplacianSmooth(l,w,d);k=[];l=[];q=[];if(f.selectedRegion&&void 0===f.coords&&(f.coords=f.selectedRegion),void 0!==f.coords){r=f.coords[0].x;m=f.coords[0].y;C=f.coords[0].z;h=f.coords[0].x;v=f.coords[0].y;for(var E=f.coords[0].z,H=0;H<f.coords.length;H++)f.coords[H].x>r?r=f.coords[H].x:f.coords[H].x<h&&(h=f.coords[H].x),f.coords[H].y>m?m=f.coords[H].y:f.coords[H].y<v&&(v=f.coords[H].y),f.coords[H].z>C?C=f.coords[H].z:f.coords[H].z<
E&&(E=f.coords[H].z);H=2;void 0!==f.radius&&(H=f.radius);void 0!==f.selectedOffset&&(H=f.selectedOffset);void 0!==f.seldist&&(H=f.seldist);h-=H;r+=H;v-=H;m+=H;E-=H;C+=H;for(var F=0;F<w.length;F++){var I;if(I=w[F].x>h&&w[F].x<r&&w[F].y>v&&w[F].y<m&&w[F].z>E&&w[F].z<C)a:{for(var ca=I=void 0,ba=f.coords,P=0;P<ba.length;P++)if(ca=ba[P],I=w[F],Math.sqrt(Math.pow(ca.x-I.x,2)+Math.pow(ca.y-I.y,2)+Math.pow(ca.z-I.z,2))<=H){I=!0;break a}I=!1}I?(k.push(l.length),l.push(w[F])):k.push(-1)}for(w=0;w+2<d.length;w+=
3)-1!==k[d[w]]&&-1!==k[d[w+1]]&&-1!==k[d[w+2]]&&(q.push(d[w]-(d[w]-k[d[w]])),q.push(d[w+1]-(d[w+1]-k[d[w+1]])),q.push(d[w+2]-(d[w+2]-k[d[w+2]])));w=l;d=q}x(this,A,{vertexArr:w,faceArr:d,normalArr:[],clickable:f.clickable,hoverable:f.hoverable});this.updateStyle(f);d=new b.Vector3(c.origin.x,c.origin.y,c.origin.z);k=new b.Vector3(c.size.x*c.unit.x,c.size.y*c.unit.y,c.size.z*c.unit.z);c=new b.Vector3(0,0,0);f=d.clone();d=d.clone().add(k);for(k=0;k<w.length;k++)c.add(w[k]),f.max(w[k]),d.min(w[k]);c.divideScalar(w.length);
w=c.distanceTo(d);f=c.distanceTo(f);this.boundingSphere.center=c;this.boundingSphere.radius=Math.max(w,f);"function"==typeof e&&e()};this.addVolumetricData=function(c,f,e){c=new b.VolumeData(c,f);this.addIsosurface(c,e)};this.finalize=function(){e(A);A.initTypedArrays()};this.globj=function(c){if(E&&(c.remove(E),E=null),!this.hidden){e(A);A.initTypedArrays();this.wireframe&&A.setUpWireframe();if(void 0!==this.color){var d=this.color,h,g,k,l;for(l in d=d||b.CC.color(d),A.colorsNeedUpdate=!0,d.constructor!==
Array&&(h=d.r,g=d.g,k=d.b),A.geometryGroups){var r=A.geometryGroups[l],v=r.colorArray,z=0;for(r=r.vertices;z<r;++z)d.constructor===Array&&(k=d[z],h=k.r,g=k.g,k=k.b),v[3*z]=h,v[3*z+1]=g,v[3*z+2]=k}}w=new b.Object3D;d=this.side==b.DoubleSide?new b.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}):new b.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,
wireframeLinewidth:this.linewidth});d=new b.Mesh(A,d);w.add(d);d=new b.LineBasicMaterial({linewidth:this.linewidth,color:this.color});d=new b.Line(q,d,b.LinePieces);w.add(d);E=w.clone();c.add(E)}};this.removegl=function(b){E&&(void 0!==E.geometry&&E.geometry.dispose(),void 0!==E.material&&E.material.dispose(),b.remove(E),E=null);w=null}}var e=function(b){b=b.updateGeoGroup(0);0<b.vertices&&b.truncateArrayBuffers(!0,!0)},k=function(b,c,e,k){var h;if(b.center.set(0,0,0),0<c.length){var l=0;for(h=c.length;l<
h;++l)b.center.add(c[l].centroid);b.center.divideScalar(c.length)}c=b.radius*b.radius;e.length/3<k&&(k=e.length/3);l=0;for(h=k;l<h;l++)k=b.center.distanceToSquared({x:e[3*l],y:e[3*l+1],z:e[3*l+2]}),c=Math.max(c,k);b.radius=Math.sqrt(c)},x=function(c,e,l){var h=l.faceArr;0!==l.vertexArr.length&&0!==h.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");h=l.color;void 0===h&&(h=c.color);h=b.CC.color(h);for(var r=b.splitMesh(l),q=0,d=r.length;q<d;q++){var f=
void 0,C=void 0,g,v=void 0,w=void 0;var B=c;var G=e,z=r[q],m=r[q].colorArr?r[q].colorArr:h,H=l.clickable,x=G.addGeoGroup(),F=z.vertexArr,Z=z.normalArr;z=z.faceArr;x.vertices=F.length;x.faceidx=z.length;var R=x.vertexArray,Q=x.colorArray;m.constructor!==Array&&(C=m.r,f=m.g,w=m.b);var I=0;for(g=x.vertices;I<g;++I){var ca=3*I;var ba=F[I];R[ca]=ba.x;R[ca+1]=ba.y;R[ca+2]=ba.z;m.constructor===Array&&(C=(v=m[I]).r,f=v.g,w=v.b);Q[ca]=C;Q[ca+1]=f;Q[ca+2]=w}if(H)for(I=0,g=x.faceidx/3;I<g;++I)f=z[ca=3*I],w=
z[ca+1],v=z[ca+2],ca=new b.Vector3,C=new b.Vector3,m=new b.Vector3,B.intersectionShape.triangle.push(new b.Triangle(ca.copy(F[f]),C.copy(F[w]),m.copy(F[v])));if(H){g=new b.Vector3(0,0,0);for(v=I=0;v<G.geometryGroups.length;v++)g.add(G.geometryGroups[v].getCentroid()),I++;g.divideScalar(I);k(B.boundingSphere,{centroid:g},R,x.vertices)}if(x.faceArray=new Uint16Array(z),x.truncateArrayBuffers(!0,!0),Z.length<x.vertices)x.setNormals();else for(G=x.normalArray=new Float32Array(3*x.vertices),I=0,g=x.vertices;I<
g;++I)ca=3*I,B=Z[I],G[ca]=B.x,G[ca+1]=B.y,G[ca+2]=B.z;x.setLineIndices();x.lineidx=x.lineArray.length}},r=function(c,e){void 0!==e.color?(c.color=e.color||new b.Color,e.color instanceof b.Color||(c.color=b.CC.color(e.color))):c.color=b.CC.color(0);c.wireframe=!!e.wireframe;c.opacity=e.alpha?b.Math.clamp(e.alpha,0,1):1;void 0!==e.opacity&&(c.opacity=b.Math.clamp(e.opacity,0,1));c.side=void 0!==e.side?e.side:b.DoubleSide;c.linewidth=void 0===e.linewidth?1:e.linewidth;c.clickable=!!e.clickable;c.callback=
"function"==typeof e.callback?e.callback:null;c.hoverable=!!e.hoverable;c.hover_callback="function"==typeof e.hover_callback?e.hover_callback:null;c.unhover_callback="function"==typeof e.unhover_callback?e.unhover_callback:null;c.hidden=e.hidden;c.frame=e.frame};return Object.defineProperty(c.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(c.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(c.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),
Object.defineProperty(c.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),c}();b.ShapeIDCount=0;b.splitMesh=function(b){if(64E3>b.vertexArr.length)return[b];var c=[{vertexArr:[],normalArr:[],faceArr:[]}];b.colorArr&&(c.colorArr=[]);for(var k=[],l=[],r=0,h=b.faceArr,v=0,w=h.length;v<w;v+=3){for(var x=c[r],A=0;3>A;A++){var q=h[v+A];k[q]!==r&&(k[q]=r,l[q]=x.vertexArr.length,x.vertexArr.push(b.vertexArr[q]),b.normalArr&&b.normalArr[q]&&x.normalArr.push(b.normalArr[q]),b.colorArr&&b.colorArr[q]&&
x.colorArr.push(b.colorArr[q]));x.faceArr.push(l[q])}64E3<=x.vertexArr.length&&(c.push({vertexArr:[],normalArr:[],faceArr:[]}),b.colorArr&&(c.colorArr=[]),r++)}return c};b.GLViewer=function(){return function(c,e){function k(b){var c=[];if(void 0===b||void 0===b.model)for(b=0;b<g.length;b++)g[b]&&c.push(g[b]);else for(c=b.model,l.isArray(c)||(c=[c]),b=0;b<c.length;b++)if("number"==typeof c[b]){var d=c[b];0>d&&(d+=g.length);c[b]=g[d]}return c}function x(b){var c=[];void 0===b&&(b={});for(var d=k(b),
f=0;f<d.length;f++)c=c.concat(d[f].selectedAtoms(b));return c}function r(b,c,d,f,e,g,h){for(var m=k(c),l=0;l<m.length;l++)m[l][b](c,d,f,e,g,h)}function h(c){var d=new b.MeshLambertMaterial,f;for(f in d.vertexColors=b.VertexColors,c)"color"===f||"map"===f||c.hasOwnProperty(f)&&(d[f]=c[f]);return void 0!==c.opacity&&(1===c.opacity?d.transparent=!1:d.transparent=!0),d}var v=(e=e||{}).callback,w=e.defaultcolors;w||(w=b.elementColors.defaultColors);var E=e.nomouse,A=0;e.backgroundColor=e.backgroundColor||
"#ffffff";A=b.CC.color(e.backgroundColor).getHex();var q=0;q=parseFloat(e.camerax);var d=this,f=c,C=null,g=[],L={},K=[],B=[],G=[],z=[],m=[],V=null,U=500,F=0;U=e.hoverDuration;var Z=f.width(),R=f.height(),Q=[],I=new b.Renderer({antialias:!0,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:e.id,row:e.row,col:e.col,rows:e.rows,cols:e.cols,canvas:e.canvas});I.domElement.style.width="100%";I.domElement.style.height="100%";I.domElement.style.padding="0";I.domElement.style.position="absolute";I.domElement.style.top=
"0px";I.domElement.style.left="0px";I.domElement.style.zIndex="0";var ca=e.row,ba=e.col,P=e.cols,T=e.rows,S=e.viewers,J=e.control_all,p=I.getAspect(Z,R),D=new b.Camera(20,p,1,800,e.orthographic);D.position=new b.Vector3(q,0,150);var O=new b.Vector3;D.lookAt(O);var N=new b.Raycaster(new b.Vector3(0,0,0),new b.Vector3(0,0,0)),da=new b.Projector,ia=null,X=null,W=null,ha=-50,ka=50,xa=new b.Quaternion(0,0,0,1),fa=new b.Quaternion(0,0,0,1),ea=0,aa=!1,la=0,oa=0,ya=0,va=0,za=0,Ca=0,ra=0,Db=function(){0>--ea&&
(ea=0)},La=function(){var b=0,c;for(c in L)if(L.hasOwnProperty(c)){var d=parseInt(c);isNaN(d)||(c=d);c>b&&(b=c)}return b+1},ua=function(){var b=D.position.z-X.position.z;1>b&&(b=1);D.near=b+ha;1>D.near&&(D.near=1);D.far=b+ka;D.near+1>D.far&&(D.far=D.near+1);D.fov=20;D.right=b*Math.tan(Math.PI/180*20);D.left=-D.right;D.top=D.right/p;D.bottom=-D.top;D.updateProjectionMatrix();ia.fog.near=D.near+.4*(D.far-D.near);ia.fog.far=D.far;e.disableFog&&(ia.fog.near=ia.fog.far)},u=function(b){if(I.setViewport(),
ia&&(ua(),I.render(ia,D),!b&&0<Q.length)){b=d.getView();for(var c=0;c<Q.length;c++)Q[c].setView(b,!0)}};!function(){(ia=new b.Scene).fog=new b.Fog(A,100,200);W=new b.Object3D;(X=new b.Object3D).useQuaternion=!0;X.quaternion=new b.Quaternion(0,0,0,1);X.add(W);ia.add(X);var c=new b.Light(16777215);c.position=(new b.Vector3(.2,.2,1)).normalize();c.intensity=1;ia.add(c)}();I.setClearColorHex(A,1);ia.fog.color=b.CC.color(A);var Rb=function(b,c){V!=b&&(V&&V.unhover_callback(V,d,c,f),V=b,b&&void 0!==b.hover_callback&&
"function"==typeof b.hover_callback&&b.hover_callback(b,d,c,f))},Da=function(b){var c=b.originalEvent.targetTouches[0].pageX-b.originalEvent.targetTouches[1].pageX;b=b.originalEvent.targetTouches[0].pageY-b.originalEvent.targetTouches[1].pageY;return Math.sqrt(c*c+b*b)},sa=function(b){var c=b.pageX,d=b.pageY;return null==c&&(c=b.originalEvent.pageX),null==d&&(d=b.originalEvent.pageY),b.originalEvent.targetTouches&&b.originalEvent.targetTouches[0]?(c=b.originalEvent.targetTouches[0].pageX,d=b.originalEvent.targetTouches[0].pageY):
b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(c=b.originalEvent.changedTouches[0].pageX,d=b.originalEvent.changedTouches[0].pageY),[c,d]},Eb=function(b,c){var d=f.width(),e=f.height();if(null!=S&&!J){d/=P;e/=T;var g=l("canvas",f).offset();b=Math.floor((b-g.left)/d);if(T-Math.floor((c-g.top)/e)-1!=ca||b!=ba)return!1}return!0};l("body").bind("mouseup touchend",function(b){if(aa&&ia){var c=sa(b),e=c[0];c=c[1];if(e==la&&c==oa){var g=l("canvas",f).offset();0!=z.length&&(N.setFromCamera({x:(e-
g.left)/Z*2-1,y:-(c-g.top)/R*2+1,z:-1},D),(e=N.intersectObjects(W,z)).length)&&(e=e[0].clickable,void 0!==e.callback&&"function"==typeof e.callback&&e.callback(e,d,b,f));!0}}aa=!1});var jb,y=function(b){if(e.lowerZoomLimit&&0<e.lowerZoomLimit){var c=150-e.lowerZoomLimit;b>c&&(b=c)}e.upperZoomLimit&&0<e.upperZoomLimit&&(c=150-e.upperZoomLimit,b<c&&(b=c));return 150<b&&(b=149.85),b};this.setZoomLimits=function(b,c){void 0!==b&&(e.lowerZoomLimit=b);c&&(e.upperZoomLimit=c);X.position.z=y(X.position.z);
u()};var fc,cb=this._handleMouseDown=function(b){if(b.preventDefault(),ia){var c=sa(b),d=c[0];c=c[1];void 0!==d&&(aa=!0,jb=b.which,la=d,oa=c,ya=0,b.originalEvent.targetTouches&&2==b.originalEvent.targetTouches.length&&(ya=Da(b)),xa=X.quaternion,za=X.position.z,va=W.position.clone(),Ca=ha,ra=ka)}},zc=this._handleMouseScroll=function(b){if(b.preventDefault(),ia){var c=sa(b),d=c[0];c=c[1];void 0!==d&&Eb(d,c)&&(d=.85*(150-X.position.z),c=1,b.originalEvent.ctrlKey&&(c=-1),b.originalEvent.detail?X.position.z+=
c*d*b.originalEvent.detail/10:b.originalEvent.wheelDelta&&(X.position.z-=c*d*b.originalEvent.wheelDelta/400),X.position.z=y(X.position.z),u())}};this.pngURI=function(){return this.getCanvas().toDataURL("image/png")};this.getCanvas=function(){return C.get(0)};this.setHoverDuration=function(b){U=b};var Gb=this._handleMouseMove=function(c){Z=f.width();R=f.height();clearTimeout(fc);var d=l("canvas",f).offset(),e=(sa(c)[0]-d.left)/Z*2-1,g=-(sa(c)[1]-d.top)/R*2+1;if(null!==V&&function(b,c){var d;N.setFromCamera({x:b,
y:c,z:-1},D);0!=(d=N.intersectObjects(W,m)).length&&void 0!==d[0]||Rb(null);void 0!==d[0]&&d[0].clickable!==V&&Rb(null)}(e,g),fc=setTimeout(function(){if(0!=m.length){var b;(N.setFromCamera({x:e,y:g,z:-1},D),(b=N.intersectObjects(W,m)).length)?(b=b[0].clickable,Rb(b),V=b):Rb(null)}!0},U),c.preventDefault(),ia&&aa){var h=0;d=sa(c);var k=d[0],q=d[1];if(void 0!==k&&Eb(k,q)){var p=(k-la)/Z;d=(q-oa)/R;0!=ya&&c.originalEvent.targetTouches&&2==c.originalEvent.targetTouches.length?(h=2,d=2*(Da(c)-ya)/(Z+
R)):c.originalEvent.targetTouches&&3==c.originalEvent.targetTouches.length&&(h=1);var r=I.getXYRatio(),B=r[0],C=r[1];p*=B;d*=C;r=Math.sqrt(p*p+d*d);3==h||3==jb&&c.ctrlKey?(ha=Ca+100*p,ka=ra-100*d):2==h||3==jb||c.shiftKey?(80>(c=.85*(150-X.position.z))&&(c=80),X.position.z=za+d*c,X.position.z=y(X.position.z)):1==h||2==jb||c.ctrlKey?(c=function(c,d){c/=Z;d/=R;var f=X.quaternion,e=new b.Vector3(0,0,X.position.z);return da.projectVector(e,D),e.x+=2*c,e.y-=2*d,da.unprojectVector(e,D),e.z=0,e.applyQuaternion(f),
e}(B*(k-la),C*(q-oa)),W.position.addVectors(va,c)):0!==h&&1!=jb||0===r||(c=Math.sin(r*Math.PI)/r,fa.x=Math.cos(r*Math.PI),fa.y=0,fa.z=c*p,fa.w=-c*d,X.quaternion=new b.Quaternion(1,0,0,0),X.quaternion.multiply(fa),X.quaternion.multiply(xa));u()}}},gb=function(b){Z=(f=b).width();R=f.height();p=I.getAspect(Z,R);I.setSize(Z,R);f.append(I.domElement);C=l(I.domElement);E||(C.bind("mousedown touchstart",cb),C.bind("DOMMouseScroll mousewheel",zc),C.bind("mousemove touchmove",Gb),C.bind("contextmenu",function(b){b.preventDefault()}))};
gb(f);this.setContainer=function(b){return"string"===l.type(b)&&(b=l("#"+b)),b||(b=f),gb(b),this};this.setBackgroundColor=function(c,d){void 0===d?d=1:(0>d||1<d)&&(d=1);c=b.CC.color(c);return ia.fog.color=c,A=c.getHex(),I.setClearColorHex(c.getHex(),d),u(),this};this.setProjection=function(b){D.ortho="orthographic"===b;ua()};this.setViewStyle=function(c){if("outline"===c.style){var d={};c.color&&(d.color=b.CC.color(c.color));c.width&&(d.width=c.width);I.enableOutline(d)}else I.disableOutline();return this};
e.style&&this.setViewStyle(e);this.setWidth=function(b){return Z=b||Z,I.setSize(Z,R),this};this.setHeight=function(b){return R=b||R,I.setSize(Z,R),this};this.resize=function(){return Z=f.width(),R=f.height(),p=I.getAspect(Z,R),I.setSize(Z,R),D.aspect=p,D.updateProjectionMatrix(),u(),this};l(window).resize(this.resize);this.getModel=function(b){return b in g?g[b]:0==g.length?null:g[g.length-1]};var ob,Ia=function(c,d,f){if(1==f)return d;if(0==f)return c;var e=c.x*d.x+c.y*d.y+c.z*d.z+c.w*d.w;if(.9995<
e)return c=new b.Quaternion(c.x+f*(d.x-c.x),c.y+f*(d.y-c.y),c.z+f*(d.z-c.z),c.w+f*(d.w-c.w)),c.normalize(),c;0>e&&(d=d.clone().multiplyScalar(-1),e=-e);1<e?e=1:-1>e&&(e=-1);f*=Math.acos(e);d=d.clone();d.sub(c.clone().multiplyScalar(e));d.normalize();e=Math.cos(f);f=Math.sin(f);c=new b.Quaternion(c.x*e+d.x*f,c.y*e+d.y*f,c.z*e+d.z*f,c.w*e+d.w*f);return c.normalize(),c};this.spin=function(b){if(clearInterval(ob),void 0===b&&(b="y"),"boolean"==typeof b){if(!b)return;b="y"}Array.isArray(b)&&(b={x:b[0],
y:b[1],z:b[2]});var c=this;ob=setInterval(function(){c.rotate(1,b)},25)};var Nb=function(b,c,d,f,e,g){var h=Math.ceil(b/20);1>h&&(h=1);ea++;var k=W.position.clone(),m=X.position.z;b=X.quaternion.clone();var l=O.clone();if(c){c=(h=Array(h)).length;for(var q=0;q<c;q++){var p=(q+1)/c,r={mpos:k,rz:m,rot:b};d&&(r.mpos=d.clone().sub(k).multiplyScalar(p).add(k));void 0!==f&&null!=f&&(r.rz=m+p*(f-m));e&&(r.rot=Ia(b,e,p));g&&(r.cam=g.clone().sub(l).multiplyScalar(p).add(l));h[q]=r}var B=0,C=function(){var b=
h[B];B+=1;b.mpos&&(W.position=b.mpos);b.rz&&(X.position.z=b.rz);b.rot&&(X.quaternion=b.rot);b.cam&&D.lookAt(b.cam);B<h.length?setTimeout(C,20):Db();u()};setTimeout(C,20)}else{var z,v,w;c=1/h;if(d&&(z=d.clone().sub(k).multiplyScalar(c)),void 0!==f&&null!=f&&(v=c*(f-m)),e){d=Ia(b,e,c);var y=b.clone().inverse().multiply(d)}g&&(w=g.clone().sub(l).multiplyScalar(c));var G=0,K=function(){G+=1;z&&W.position.add(z);v&&(X.position.z+=v);y&&X.quaternion.multiply(y);w&&(O.add(w),D.lookAt(O));G<h?setTimeout(K,
20):Db();u()};setTimeout(K,20)}};this.rotate=function(c,d,f,e){f=void 0!==f?f:0;void 0===d&&(d="y");"x"==d?d={x:1,y:0,z:0}:"y"==d?d={x:0,y:1,z:0}:"z"==d&&(d={x:0,y:0,z:1});var g=Math.PI*c/180,h,k,m;c=Math.sin(g/2);g=Math.cos(g/2);d=(h=d.x*c,k=d.y*c,m=d.z*c,(new b.Quaternion(h,k,m,g)).normalize());f?(h=(new b.Quaternion).copy(X.quaternion).multiply(d),Nb(f,e,W.position,X.position.z,h,O)):(X.quaternion.multiply(d),u());return this};this.surfacesFinished=function(){for(var b in L)if(!L[b][0].done)return!1;
return!0};this.getView=function(){if(!W)return[0,0,0,0,0,0,0,1];var b=W.position,c=X.quaternion;return[b.x,b.y,b.z,X.position.z,c.x,c.y,c.z,c.w]};this.setView=function(b,c){return void 0!==b&&(b instanceof Array||8!==b.length)&&W&&X?(W.position.x=b[0],W.position.y=b[1],W.position.z=b[2],X.position.z=b[3],X.quaternion.x=b[4],X.quaternion.y=b[5],X.quaternion.z=b[6],X.quaternion.w=b[7],void 0!==b[8]&&(X.position.x=b[8],X.position.y=b[9]),u(c),this):this};this.render=function(c,d){I.setViewport();z.splice(0,
z.length);m.splice(0,m.length);for(var f=0,e=g.length;f<e;f++){var h=g[f];if(h){var k=h.selectedAtoms({clickable:!0});h=h.selectedAtoms({hoverable:!0});Array.prototype.push.apply(m,h);Array.prototype.push.apply(z,k)}}f=0;for(e=K.length;f<e;f++)(k=K[f])&&k.clickable&&z.push(k),k&&k.hoverable&&m.push(k);k=this.getView();d||(d=I.supportedExtensions());for(f=0;f<g.length;f++)g[f]&&g[f].globj(W,d);for(f=0;f<K.length;f++)K[f]&&(void 0===K[f].frame||0>F||0>K[f].frame||K[f].frame==F?K[f].globj(W,d):K[f].removegl(W));
for(f=0;f<B.length;f++)B[f]&&void 0!==B[f].frame&&0<=B[f].frame&&(W.remove(B[f].sprite),(0>F||B[f].frame==F)&&W.add(B[f].sprite));for(f in L)if(L.hasOwnProperty(f))for(h=L[f],e=0;e<h.length;e++)if(h.hasOwnProperty(e)){var l=h[e].geo;if(!h[e].finished||d.regen){l.verticesNeedUpdate=!0;l.elementsNeedUpdate=!0;l.normalsNeedUpdate=!0;l.colorsNeedUpdate=!0;l.buffersNeedUpdate=!0;l.boundingSphere=null;h[e].done&&(h[e].finished=!0);h[e].lastGL&&W.remove(h[e].lastGL);var q=null;if(q=h[e].mat instanceof b.LineBasicMaterial?
new b.Line(l,h[e].mat):new b.Mesh(l,h[e].mat),h[e].mat.transparent&&0==h[e].mat.opacity?q.visible=!1:q.visible=!0,1<h[e].symmetries.length||1==h[e].symmetries.length&&!h[e].symmetries[e].isIdentity()){var p=new b.Object3D;for(l=0;l<h[e].symmetries.length;l++){var u=q.clone();u.matrix=h[e].symmetries[l];u.matrixAutoUpdate=!1;p.add(u)}h[e].lastGL=p;W.add(p)}else h[e].lastGL=q,W.add(q)}}return this.setView(k),"function"==typeof c&&c(this),this};this.selectedAtoms=function(b){return x(b)};this.getUniqueValues=
function(b,c){void 0===c&&(c={});c=x(c);var d={},f;for(f in c)c[f].hasOwnProperty(b)&&(d[c[f][b]]=!0);return Object.keys(d)};this.pdbData=function(b){b=x(b);for(var c="",d=0,f=b.length;d<f;++d)c+=b[d].pdbline+"\n";return c};this.zoom=function(b,c,d){c=void 0!==c?c:0;b=150-(150-X.position.z)/(b||2);return 0<c?Nb(c,d,W.position,y(b),X.quaternion,O):(X.position.z=y(b),u()),this};this.translate=function(c,d,f,e){f=void 0!==f?f:0;c/=Z;d/=R;var g=new b.Vector3(0,0,-150);da.projectVector(g,D);g.x-=c;g.y-=
d;da.unprojectVector(g,D);g.z=0;c=O.clone().add(g);return 0<f?Nb(f,e,W.position,X.position.z,X.quaternion,c):(O=c,D.lookAt(O),u()),this};this.fitSlab=function(c){c=x(c||{});var d=b.getExtent(c);c=d[1][0]-d[0][0];var f=d[1][1]-d[0][1];d=d[1][2]-d[0][2];c=Math.sqrt(c*c+f*f+d*d);return 5>c&&(c=5),ha=-c/1.9,ka=c/2,this};this.center=function(c,d,f){var e,g;d=void 0!==d?d:0;var h=x(c=c||{}),k=b.getExtent(h);l.isEmptyObject(c)?(l.each(K,function(c,d){d&&d.boundingSphere&&d.boundingSphere.center&&(c=d.boundingSphere.center,
d=d.boundingSphere.radius,0<d?(h.push(new b.Vector3(c.x+d,c.y,c.z)),h.push(new b.Vector3(c.x-d,c.y,c.z)),h.push(new b.Vector3(c.x,c.y+d,c.z)),h.push(new b.Vector3(c.x,c.y-d,c.z)),h.push(new b.Vector3(c.x,c.y,c.z+d)),h.push(new b.Vector3(c.x,c.y,c.z-d))):h.push(c))}),k=b.getExtent(h),e=h,g=k):(e=x({}),g=b.getExtent(e));c=new b.Vector3(k[2][0],k[2][1],k[2][2]);e=g[1][0]-g[0][0];var m=g[1][1]-g[0][1];g=g[1][2]-g[0][2];g=Math.sqrt(e*e+m*m+g*g);5>g&&(g=5);ha=-g/1.9;ka=g/2;e=k[1][0]-k[0][0];m=k[1][1]-k[0][1];
g=k[1][2]-k[0][2];5>(g=Math.sqrt(e*e+m*m+g*g))&&(g=5);k=25;for(g=0;g<h.length;g++)h[g]&&(e=c.distanceToSquared(h[g]),e>k&&(k=e));g=2*Math.sqrt(k);c=c.clone().multiplyScalar(-1);return 0<d?Nb(d,f,c,X.position.z,X.quaternion,O):(W.position=c,u()),this};this.zoomTo=function(c,d,f){var e,g;d=void 0!==d?d:0;var h=x(c=c||{}),k=b.getExtent(h);l.isEmptyObject(c)?(l.each(K,function(c,d){d&&d.boundingSphere&&d.boundingSphere.center&&(c=d.boundingSphere.center,d=d.boundingSphere.radius,0<d?(h.push(new b.Vector3(c.x+
d,c.y,c.z)),h.push(new b.Vector3(c.x-d,c.y,c.z)),h.push(new b.Vector3(c.x,c.y+d,c.z)),h.push(new b.Vector3(c.x,c.y-d,c.z)),h.push(new b.Vector3(c.x,c.y,c.z+d)),h.push(new b.Vector3(c.x,c.y,c.z-d))):h.push(c))}),k=b.getExtent(h),e=h,g=k):(e=x({}),g=b.getExtent(e));e=new b.Vector3(k[2][0],k[2][1],k[2][2]);var m=g[1][0]-g[0][0],q=g[1][1]-g[0][1];g=g[1][2]-g[0][2];g=Math.sqrt(m*m+q*q+g*g);5>g&&(g=5);ha=-g/1.9;ka=g/2;0===Object.keys(c).length&&(ha=-999999,ka=999999);m=k[1][0]-k[0][0];q=k[1][1]-k[0][1];
g=k[1][2]-k[0][2];5>(g=Math.sqrt(m*m+q*q+g*g))&&(g=5);c=25;for(k=0;k<h.length;k++)h[k]&&(g=e.distanceToSquared(h[k]),g>c&&(c=g));g=2*Math.sqrt(c);e=e.clone().multiplyScalar(-1);c=-(.5*g/Math.tan(Math.PI/180*D.fov/2)-150);return c=y(c),0<d?Nb(d,f,e,c,X.quaternion,O):(W.position=e,X.position.z=c,u()),this};this.setSlab=function(b,c){ha=b;ka=c};this.getSlab=function(){return{near:ha,far:ka}};this.addLabel=function(c,d,f,e){if(d=d||{},f)f=b.getExtent(x(f)),d.position={x:f[2][0],y:f[2][1],z:f[2][2]};c=
new b.Label(c,d);return c.setContext(),W.add(c.sprite),d.fixed&&G.push(B.length),B.push(c),e||u(),c};this.addResLabels=function(b,c,d){var f=B.length;return r("addResLabels",b,this,c,d),u(),B.slice(f)};this.addPropertyLabels=function(b,c,d){return r("addPropertyLabels",b,c,this,d),u(),this};this.removeLabel=function(b){for(var c=0;c<B.length;c++)if(B[c]==b){B.splice(c,1);b.dispose();W.remove(b.sprite);break}return u(),this};this.removeAllLabels=function(){for(var b=0;b<B.length;b++)B[b]&&B[b].sprite&&
W.remove(B[b].sprite);return B.splice(0,B.length),u(),this};this.setLabelStyle=function(b,c){return W.remove(b.sprite),b.dispose(),b.stylespec=c,b.setContext(),W.add(b.sprite),u(),b};this.setLabelText=function(b,c){return W.remove(b.sprite),b.dispose(),b.text=c,b.setContext(),W.add(b.sprite),u(),b};this.addShape=function(c){c=c||{};c=new b.GLShape(c);return c.shapePosition=K.length,K.push(c),c};this.removeShape=function(b){if(!b)return this;b.removegl(W);for(delete K[b.shapePosition];0<K.length&&
void 0===K[K.length-1];)K.pop();return this};this.removeAllShapes=function(){for(var b=0;b<K.length;b++){var c=K[b];c&&c.removegl(W)}return K.splice(0,K.length),this};var Oa=function(c){if(c.hasOwnProperty("x")&&c.hasOwnProperty("y")&&c.hasOwnProperty("z"))return c;c=x(c);if(0==c.length)return{x:0,y:0,z:0};c=b.getExtent(c);return{x:c[0][0]+(c[1][0]-c[0][0])/2,y:c[0][1]+(c[1][1]-c[0][1])/2,z:c[0][2]+(c[1][2]-c[0][2])/2}};this.addSphere=function(c){(c=c||{}).center=Oa(c.center);var d=new b.GLShape(c);
return d.shapePosition=K.length,d.addSphere(c),K.push(d),d.finalize(),d};this.addBox=function(c){null!=(c=c||{}).corner&&(c.corner=Oa(c.corner));null!=c.center&&(c.center=Oa(c.center));var d=new b.GLShape(c);return d.shapePosition=K.length,d.addBox(c),K.push(d),d.finalize(),d};this.addArrow=function(c){(c=c||{}).start=Oa(c.start);c.end=Oa(c.end);var d=new b.GLShape(c);return d.shapePosition=K.length,d.addArrow(c),K.push(d),d.finalize(),d};this.addCylinder=function(c){(c=c||{}).start=Oa(c.start);c.end=
Oa(c.end);var d=new b.GLShape(c);return d.shapePosition=K.length,c.dashed?d.addDashedCylinder(c):d.addCylinder(c),K.push(d),d.finalize(),d};this.addCurve=function(c){c=c||{};var d=new b.GLShape(c);return d.shapePosition=K.length,d.addCurve(c),K.push(d),d.finalize(),d};this.addLine=function(c){(c=c||{}).start=Oa(c.start);c.end=Oa(c.end);c.wireframe=!0;var d=new b.GLShape(c);d.shapePosition=K.length;if(c.dashed){c.dashLength=c.dashLength||.5;c.gapLength=c.gapLength||.5;c.start=c.start||{};c.end=c.end||
{};var f,e=new b.Vector3(c.start.x||0,c.start.y||0,c.start.z||0),g=new b.Vector3(c.end.x,c.end.y||0,c.end.z||0);var h=new b.Vector3;new b.Vector3;new b.Vector3;var k=e.clone(),m=0;h.subVectors(g,e);var l=h.length();h.normalize();var q=h.clone();var p=h.clone();q.multiplyScalar(c.dashLength);p.multiplyScalar(c.gapLength);h=q.length();for(f=p.length();m<l;){if(m+h>l){c.start=e;c.end=g;d.addLine(c);break}k.addVectors(e,q);c.start=e;c.end=k;d.addLine(c);e=k.clone();m+=h;k.addVectors(e,p);e=k.clone();
m+=f}d=(d.finalize(),d)}else d.addLine(c);return K.push(d),d.finalize(),d};this.addUnitCell=function(c){c||(c=this.getModel());var d=new b.GLShape({wireframe:!0});d.shapePosition=K.length;var f=c.getCrystData();if(f){if(f.matrix)c=f.matrix;else{c=f.a;var e=f.b,g=f.c;var h=f.alpha;var k=f.beta,m=f.gamma;h=h*Math.PI/180;k=k*Math.PI/180;m=m*Math.PI/180;f=Math.cos(k);h=(Math.cos(h)-Math.cos(k)*Math.cos(m))/Math.sin(m);c=new b.Matrix4(c,e*Math.cos(m),g*f,0,0,e*Math.sin(m),g*h,0,0,0,g*Math.sqrt(Math.max(0,
1-f*f-h*h)),0,0,0,0,1)}e=[new b.Vector3(0,0,0),new b.Vector3(1,0,0),new b.Vector3(0,1,0),new b.Vector3(0,0,1),new b.Vector3(1,1,0),new b.Vector3(0,1,1),new b.Vector3(1,0,1),new b.Vector3(1,1,1)];for(g=0;g<e.length;g++)e[g]=e[g].applyMatrix4(c);d.addLine({start:e[0],end:e[1]});d.addLine({start:e[0],end:e[2]});d.addLine({start:e[1],end:e[4]});d.addLine({start:e[2],end:e[4]});d.addLine({start:e[0],end:e[3]});d.addLine({start:e[3],end:e[5]});d.addLine({start:e[2],end:e[5]});d.addLine({start:e[1],end:e[6]});
d.addLine({start:e[4],end:e[7]});d.addLine({start:e[6],end:e[7]});d.addLine({start:e[3],end:e[6]});d.addLine({start:e[5],end:e[7]})}return K.push(d),d.finalize(),d};this.addCustom=function(c){c=c||{};var d=new b.GLShape(c);return d.shapePosition=K.length,d.addCustom(c),K.push(d),d.finalize(),d};this.addVolumetricData=function(c,d,f){f=f||{};var e=new b.GLShape(f);return e.shapePosition=K.length,e.addVolumetricData(c,d,f),K.push(e),e};this.addIsosurface=function(c,d,f){d=d||{};var e=new b.GLShape(d);
return e.shapePosition=K.length,e.addIsosurface(c,d,f),K.push(e),e};this.enableFog=function(c){c?ia.fog=new b.Fog(A,100,200):(e.disableFog=!0,u())};this.setFrame=function(b){return F=b,new Promise(function(c){var d=g.map(function(c){return c.setFrame(b)});Promise.all(d).then(function(){c()})})};this.getFrame=function(){return F};this.getNumFrames=function(){for(var b=0,c=0;c<g.length;c++)g[c].getNumFrames()>b&&(b=g[c].getNumFrames());for(c=0;c<K.length;c++)K[c].frame&&K[c].frame>=b&&(b=K[c].frame+
1);for(c=0;c<B.length;c++)B[c].frame&&B[c].frame>=b&&(b=B[c].frame+1);return b};this.animate=function(b){ea++;var c=100,d="forward",f=0;(b=b||{}).interval&&(c=b.interval);b.loop&&(d=b.loop);b.reps&&(f=b.reps);var e=this.getNumFrames(),g=this,h=0,k=1;b.step&&(f/=k=b.step);var m,l,q=0,p=e*f,u=new Date,r=function(b){u=new Date;"forward"==b?g.setFrame(h).then(function(){h=(h+k)%e;m()}):"backward"==b?g.setFrame(e-1-h).then(function(){h=(h+k)%e;m()}):g.setFrame(h).then(function(){k*=0==(h+=k)%(e-1)?-1:
1;m()})};return m=function(){if(g.render(),++q!=p&&g.isAnimated()){var b=c-(new Date-u);setTimeout(r,0<b?b:0,d)}else clearTimeout(l),Db()},l=setTimeout(r,0,d),this};this.stopAnimate=function(){return ea=0,this};this.isAnimated=function(){return 0<ea};this.addModel=function(c,d,f){f&&!f.defaultcolors&&(f.defaultcolors=w);var e=new b.GLModel(g.length,f);return e.addMolData(c,d,f),g.push(e),e};this.addModels=function(c,d,f){(f=f||{}).multimodel=!0;f.frames=!0;c=b.GLModel.parseMolData(c,d,f);for(d=0;d<
c.length;d++){var e=new b.GLModel(g.length,w);e.setAtomDefaults(c[d]);e.addFrame(c[d]);e.setFrame(0);c.modelData&&e.setModelData(c.modelData[d]);e.setDontDuplicateAtoms(!f.duplicateAssemblyAtoms);g.push(e)}return g};this.addModelsAsFrames=function(c,d,f){(f=f||{}).multimodel=!0;f.frames=!0;var e=new b.GLModel(g.length,w);return e.addMolData(c,d,f),g.push(e),e};this.addAsOneMolecule=function(c,d,f){(f=f||{}).multimodel=!0;f.onemol=!0;var e=new b.GLModel(g.length,w);return e.addMolData(c,d,f),g.push(e),
e};this.removeModel=function(b){if(b){b.removegl(W);for(delete g[b.getID()];0<g.length&&void 0===g[g.length-1];)g.pop();return this}};this.removeAllModels=function(){for(var b=0;b<g.length;b++){var c=g[b];c&&c.removegl(W)}return g.splice(0,g.length),this};this.exportJSON=function(b,c){var d={};return d.m=void 0===c?g.map(function(c){return c.toCDObject(b)}):[g[c].toCDObject()],JSON.stringify(d)};this.exportVRML=function(){var c=W;r("removegl",W);W=new b.Object3D;this.render(null,{supportsImposters:!1,
supportsAIA:!1,regen:!0});var d="#VRML V2.0 utf8\n"+W.vrml()+"\n";return r("removegl",W),W=c,d};this.createModelFrom=function(c,d){for(var f=new b.GLModel(g.length,w),e=0;e<g.length;e++)if(g[e]){var h=g[e].selectedAtoms(c);f.addAtoms(h);d&&g[e].removeAtoms(h)}return g.push(f),f};this.setStyle=function(b,c){return void 0===c&&(c=b,b={}),r("setStyle",b,c,!1),this};this.addStyle=function(b,c){return void 0===c&&(c=b,b={}),r("setStyle",b,c,!0),this};this.setClickable=function(b,c,d){return r("setClickable",
b,c,d),this};this.setHoverable=function(b,c,d,f){return r("setHoverable",b,c,d,f),this};this.vibrate=function(b,c,d,f){return r("vibrate",b,c,d,this,f),this};this.setColorByProperty=function(b,c,d,f){return r("setColorByProperty",b,c,d,f),this};this.setColorByElement=function(b,c){return r("setColorByElement",b,c),this};var Ub=function(b,c){for(var d=[],f=0;f<b.length;f++){var e=b[f];void 0!==e&&(e.x<c[0][0]||e.x>c[1][0]||e.y<c[0][1]||e.y>c[1][1]||e.z<c[0][2]||e.z>c[1][2]||d.push(e))}return d},Ya=
function(b){return(b[1][0]-b[0][0])*(b[1][1]-b[0][1])*(b[1][2]-b[0][2])},Ka=function(c,d,f){for(var e=new b.Geometry(!0),g=e.updateGeoGroup(0),h=[],k=0,m=c.length;k<m;k++){var l=c[k];l&&(void 0!==l.surfaceColor?h[k]=l.surfaceColor:l.color&&(h[k]=b.CC.color(l.color)))}k=g.vertexArray;c=d.vertices;m=0;for(l=c.length;m<l;m++){var q=3*g.vertices;k[q]=c[m].x;k[q+1]=c[m].y;k[q+2]=c[m].z;g.vertices++}k=g.colorArray;if(f.voldata&&f.volscheme){h=f.volscheme;m=f.voldata;l=h.range()||[-1,1];q=0;for(var p=c.length;q<
p;q++){var u=m.getVal(c[q].x,c[q].y,c[q].z);u=b.CC.color(h.valueToHex(u,l));var r=3*q;k[r]=u.r;k[r+1]=u.g;k[r+2]=u.b}}else if(0<h.length)for(m=0,l=c.length;m<l;m++)q=c[m].atomid,p=3*m,k[p]=h[q].r,k[p+1]=h[q].g,k[p+2]=h[q].b;d=d.faces;g.faceidx=d.length;e.initTypedArrays();var B;c=g.vertexArray;h=g.normalArray;k=0;for(m=d.length;k<m;k+=3)l=3*d[k],q=3*d[k+1],p=3*d[k+2],u=new b.Vector3(c[l],c[l+1],c[l+2]),r=new b.Vector3(c[q],c[q+1],c[q+2]),(B=new b.Vector3(c[p],c[p+1],c[p+2])).subVectors(B,r),u.subVectors(u,
r),B.cross(u),(u=B).normalize(),h[l]+=u.x,h[q]+=u.x,h[p]+=u.x,h[l+1]+=u.y,h[q+1]+=u.y,h[p+1]+=u.y,h[l+2]+=u.z,h[q+2]+=u.z,h[p+2]+=u.z;g.faceArray=new Uint16Array(d);f=new b.Mesh(e,f);return f.doubleSided=!0,f};this.addMesh=function(b){b={geo:b.geometry,mat:b.material,done:!0,finished:!1};var c=La();return L[c]=b,c};var Ja=function(b){var c=[];return l.each(b,function(b,d){c[b]=l.extend({},d)}),c},ja={VDW:b.SurfaceType.VDW,MS:b.SurfaceType.MS,SAS:b.SurfaceType.SAS,SES:b.SurfaceType.SES};this.addSurface=
function(c,f,e,k,m,l){var q=La(),p=null;"string"==typeof c?void 0!==ja[c]?c=ja[c]:console.log("Surface type : "+c+" is not recognized"):void 0===c&&(c=b.SurfaceType.VDW);var u=null,r=null;e=Ja(x(e));u=k?Ja(x(k)):e;var B=!1;for(k=0;k<g.length;k++)if(g[k]){var C=g[k].getSymmetries();if(1<C.length||1==C.length&&!C[0].isIdentity()){B=!0;break}}C=function(e,g,h){var k;r=m?Ja(x(m)):h;var l=b.getExtent(h,!0);if(f.map&&f.map.prop){var u=f.map.prop,B=f.map.scheme||f.map.gradient||new b.Gradient.RWB,C=B.range();
C||(C=b.getPropertyRange(h,u));f.colorscheme={prop:u,gradient:B}}u=0;for(B=g.length;u<B;u++)(k=g[u]).surfaceColor=b.getColorFromStyle(k,f);var z=Ya(l),v=function(b,c,d){for(var f=[],e={},g=0,h=c.length;g<h;g++)e[c[g].index]=g;g=function(b){for(var c=[],d=0,f=b.length;d<f;d++)b[d].index in e&&c.push(e[b[d].index]);return c};var k=function(b){var c=[];return c[0]=[b[0][0],b[0][1],b[0][2]],c[1]=[b[1][0],b[1][1],b[1][2]],c},m=function(b){if(64E3>Ya(b))return[b];var c=b[1][0]-b[0][0];var d=b[1][1]-b[0][1];
var f=b[1][2]-b[0][2];d=c>d&&c>f?0:d>c&&d>f?1:2;f=k(b);c=k(b);b=(b[1][d]-b[0][d])/2+b[0][d];f[1][d]=b;c[0][d]=b;b=m(f);c=m(c);return b.concat(c)};b=m(b);h=0;for(var l=b.length;h<l;h++){var q=k(b[h]);q[0][0]-=6;q[0][1]-=6;q[0][2]-=6;q[1][0]+=6;q[1][1]+=6;q[1][2]+=6;q=Ub(c,q);var p=Ub(d,b[h]);f.push({extent:b[h],atoms:g(q),toshow:g(p)})}return f}(l,g,h);if(r&&r.length&&0<r.length){var w=b.getExtent(r,!0);v.sort(function(b,c){var d=function(b,c){var d=b.extent;b=d[1][0]-d[0][0]-c[2][0];var f=d[1][1]-
d[0][1]-c[2][1];c=d[1][2]-d[0][2]-c[2][2];return b*b+f*f+c*c};return d(b,w)-d(c,w)})}var y=[];h=0;for(l=g.length;h<l;h++)k=g[h],y[h]={x:k.x,y:k.y,z:k.z,serial:h,elem:k.elem};if(b.syncSurface){k=function(f){return new Promise(function(h){var k=c,m=v[f].extent,l=v[f].atoms;var q=v[f].toshow;var u=new b.ProteinSurface;q=(u.initparm(m,1!==k,z),u.fillvoxels(y,l),u.buildboundary(),k!=b.SurfaceType.SES&&k!=b.SurfaceType.MS||(u.fastdistancemap(),u.boundingatom(!1),u.fillvoxelswaals(y,l)),u.marchingcube(k),
u.getFacesAndVertices(q));k=b.splitMesh({vertexArr:q.vertices,faceArr:q.faces});m=0;for(l=k.length;m<l;m++)q={vertices:k[m].vertexArr,faces:k[m].faceArr},q=Ka(g,q,p),b.mergeGeos(e.geo,q);d.render();h()})};h=[];for(l=0;l<v.length;l++)h.push(k(l));return Promise.all(h).then(function(){return e.done=!0,Promise.resolve(q)})}var G=[];0>c&&(c=0);for(k=0;4>k;k++)h=new Worker(b.SurfaceWorker),G.push(h),h.postMessage({type:-1,atoms:y,volume:z});return new Promise(function(f,h){for(var k=0,m=function(c){c=
b.splitMesh({vertexArr:c.data.vertices,faceArr:c.data.faces});for(var h=0,m=c.length;h<m;h++){var l=Ka(g,{vertices:c[h].vertexArr,faces:c[h].faceArr},p);b.mergeGeos(e.geo,l)}d.render();++k==v.length&&(e.done=!0,f(q))},l=function(b){console.log(b.message+" ("+b.filename+":"+b.lineno+")");h(b)},u=0;u<v.length;u++){var r=G[u%G.length];r.onmessage=m;r.onerror=l;r.postMessage({type:c,expandedExtent:v[u].extent,extendedAtoms:v[u].atoms,atomsToShow:v[u].toshow})}})};p=h(f=f||{});var z=[];k=null;if(B){B=
{};var v={};for(k=0;k<g.length;k++)B[k]=[],v[k]=[];for(k=0;k<u.length;k++)B[u[k].model].push(u[k]);for(k=0;k<e.length;k++)v[e[k].model].push(e[k]);u=[];for(k=0;k<g.length;k++)0<v[k].length&&(z.push({geo:new b.Geometry(!0),mat:p,done:!1,finished:!1,symmetries:g[k].getSymmetries()}),u.append(C(z[k],B[k],v[k])));k=Promise.all(u)}else z.push({geo:new b.Geometry(!0),mat:p,done:!1,finished:!1,symmetries:[new b.Matrix4]}),k=C(z[z.length-1],u,e);return L[q]=z,k.surfid=q,l&&"function"==typeof l?(k.then(function(b){l(b)}),
q):k};this.setSurfaceMaterialStyle=function(c,d){if(L[c]){var f={};c=L[c];for(var e=0;e<c.length;f={$jscomp$loop$prop$e$159$273:f.$jscomp$loop$prop$e$159$273,$jscomp$loop$prop$t$161$274:f.$jscomp$loop$prop$t$161$274,$jscomp$loop$prop$o$162$275:f.$jscomp$loop$prop$o$162$275,$jscomp$loop$prop$e$160$276:f.$jscomp$loop$prop$e$160$276,$jscomp$loop$prop$a$163$277:f.$jscomp$loop$prop$a$163$277},e++){var g=c[e].mat=h(d);(c[e].mat.side=b.FrontSide,d.color)?(c[e].mat.color=d.color,c[e].geo.colorsNeedUpdate=
!0,f.$jscomp$loop$prop$e$159$273=b.CC.color(d.color),c[e].geo.setColors(function(b){return function(){return b.$jscomp$loop$prop$e$159$273}}(f))):g.voldata&&g.volscheme&&(f.$jscomp$loop$prop$e$160$276=g.volscheme,f.$jscomp$loop$prop$t$161$274=g.voldata,f.$jscomp$loop$prop$o$162$275=b.CC,f.$jscomp$loop$prop$a$163$277=f.$jscomp$loop$prop$e$160$276.range()||[-1,1],c[e].geo.setColors(function(b){return function(c,d,f){c=b.$jscomp$loop$prop$t$161$274.getVal(c,d,f);return b.$jscomp$loop$prop$o$162$275.color(b.$jscomp$loop$prop$e$160$276.valueToHex(c,
b.$jscomp$loop$prop$a$163$277))}}(f)));c[e].finished=!1}}return this};this.removeSurface=function(b){for(var c=L[b],d=0;d<c.length;d++)c[d]&&c[d].lastGL&&(void 0!==c[d].geo&&c[d].geo.dispose(),void 0!==c[d].mat&&c[d].mat.dispose(),W.remove(c[d].lastGL));return delete L[b],u(),this};this.removeAllSurfaces=function(){for(var b in L)if(L.hasOwnProperty(b)){for(var c=L[b],d=0;d<c.length;d++)c[d]&&c[d].lastGL&&(void 0!==c[d].geo&&c[d].geo.dispose(),void 0!==c[d].mat&&c[d].mat.dispose(),W.remove(c[d].lastGL));
delete L[b]}return u(),this};this.jmolMoveTo=function(){var b=W.position,c=X.quaternion;return"center { "+-b.x+" "+-b.y+" "+-b.z+" }; moveto .5 quaternion { "+(c.x+" "+c.y+" "+c.z+" "+c.w+" };")};this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),u(),this};this.mapAtomProperties=function(b,c){c=x(c||{});if("function"==typeof b)for(var d=0,f=c.length;d<f;d++)b(c[d]);else{f=0;for(var e=c.length;f<e;f++)for(var g=c[f],h=0,m=b.length;h<
m;h++){var l=b[h];if(l.props)for(d in l.props){var q;if(q=l.props.hasOwnProperty(d))a:{q=g;var p=l;void 0===p&&(p={});for(var u=k(p),r=0;r<u.length;r++)if(u[r].atomIsSelected(q,p)){q=!0;break a}q=!1}q&&(g.properties||(g.properties={}),g.properties[d]=l.props[d])}}}return this};this.linkViewer=function(b){return Q.push(b),this};try{"function"==typeof v&&v(this)}catch(pa){console.log("error with glviewer callback: "+pa)}this.getPerceivedDistance=function(){return 150-X.position.z};this.setPerceivedDistance=
function(b){X.position.z=150-b};this.setAutoEyeSeparation=function(c){var d=this.getPerceivedDistance();return c||0<D.position.x?D.position.x=d*Math.tan(Math.PI/180*5):D.position.x=-d*Math.tan(Math.PI/180*5),D.lookAt(new b.Vector3(0,0,X.position.z)),D.position.x}}}();b.glmolViewer=b.GLViewer;b=b||{};b.Gradient=function(){};b.Gradient.valueToHex=function(){};b.Gradient.range=function(){};b.Gradient.normalizeValue=function(b,e,k){return e>=b?(k<b&&(k=b),k>e&&(k=e),{lo:b,hi:e,val:k}):(k>b&&(k=b),k<e&&
(k=e),{lo:e,hi:b,val:b-k+e})};b.Gradient.RWB=function(c,e,k){void 0===e&&l.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);this.valueToHex=function(l,r){var h,v;if(l*=1,r?(h=r[0],v=r[1]):(h=c,v=e),void 0===l)return 16777215;var w=b.Gradient.normalizeValue(h,v,l);h=w.lo;var x,A=((v=w.hi)+h)/2;return(l=w.val)<=(A=r&&void 0!==r[2]?r[2]:void 0!==k?k:(h+v)/2)?16711680+256*(x=Math.floor(255*Math.sqrt((l-h)/(A-h))))+x:65536*(x=Math.floor(255*Math.sqrt(1-(l-A)/(v-A))))+256*x+255};this.range=function(){return void 0!==
c&&void 0!==e?[c,e]:null}};b.Gradient.ROYGB=function(c,e){void 0===e&&l.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);this.valueToHex=function(k,l){var r,h;if(k*=1,l?(r=l[0],h=l[1]):(r=c,h=e),void 0===k)return 16777215;l=b.Gradient.normalizeValue(r,h,k);var v=((r=l.lo)+(h=l.hi))/2,w=(r+v)/2,x=(v+h)/2;return(k=l.val)<w?16711680+256*Math.floor(255*Math.sqrt((k-r)/(w-r))):k<v?65536*Math.floor(255*Math.sqrt(1-(k-w)/(v-w)))+65280:k<x?65280+1*Math.floor(255*Math.sqrt((k-v)/(x-v))):256*Math.floor(255*Math.sqrt(1-
(k-x)/(h-x)))+255};this.range=function(){return void 0!==c&&void 0!==e?[c,e]:null}};b.Gradient.Sinebow=function(c,e){var k=1;void 0===e&&l.isArray(c)&&2<=c.length&&(e=c[1],c=c[0]);e<c&&(k=-1,c*=-1,e*=-1);this.valueToHex=function(l,r){var h,v;if(l*=k,r?(h=r[0],v=r[1]):(h=c,v=e),void 0===l)return 16777215;l=b.Gradient.normalizeValue(h,v,l);h=l.lo;v=l.hi;l=(l.val-h)/(v-h)*5/6+.5;h=Math.sin(Math.PI*l);v=Math.sin(Math.PI*(l+1/3));l=Math.sin(Math.PI*(l+2/3));return l*=255*l,65536*Math.floor(255*h*h)+256*
Math.floor(l)+1*Math.floor(255*v*v)};this.range=function(){return void 0!==c&&void 0!==e?[c,e]:null}};b.Gradient.builtinGradients={rwb:b.Gradient.RWB,roygb:b.Gradient.ROYGB,sinebow:b.Gradient.Sinebow};b.LabelCount=0;b.Label=function(c,e){this.id=b.LabelCount++;this.stylespec=e||{};this.canvas=document.createElement("canvas");this.canvas.width=134;this.canvas.height=35;this.context=this.canvas.getContext("2d");this.sprite=new b.Sprite;this.text=c;this.frame=this.stylespec.frame};b.Label.prototype=
{constructor:b.Label,getStyle:function(){return this.stylespec},setContext:function(){var c=function(c,k,l){return void 0!==c&&(l=c instanceof b.Color?c.scaled():b.CC.color(c).scaled()),void 0!==k&&(l.a=parseFloat(k)),l};return function(){var e=this.stylespec,k=void 0!==e.useScreen&&e.useScreen,l=e.showBackground;"0"!==l&&"false"!==l||(l=!1);void 0===l&&(l=!0);var r=e.font?e.font:"sans-serif",h=parseInt(e.fontSize)?parseInt(e.fontSize):18,v=c(e.fontColor,e.fontOpacity,{r:255,g:255,b:255,a:1}),w=e.padding?
e.padding:4,x=e.borderThickness?e.borderThickness:0,A=c(e.backgroundColor,e.backgroundOpacity,{r:0,g:0,b:0,a:1}),q=c(e.borderColor,e.borderOpacity,A),d=e.position?e.position:{x:-10,y:1,z:1},f=void 0===e.inFront||e.inFront;"false"!==f&&"0"!==f||(f=!1);var C=e.alignment||b.SpriteAlignment.topLeft;"string"==typeof C&&C in b.SpriteAlignment&&(C=b.SpriteAlignment[C]);var g="";e.bold&&(g="bold ");this.context.font=g+h+"px  "+r;var L=this.context.measureText(this.text).width;l||(x=0);var K=L+2.5*x+2*w,B=
1.25*h+2*x+2*w;if(e.backgroundImage){var G=e.backgroundImage;g=e.backgroundWidth?e.backgroundWidth:G.width;G=e.backgroundHeight?e.backgroundHeight:G.height;g>K&&(K=g);G>B&&(B=G)}this.canvas.width=K;this.canvas.height=B;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);g="";e.bold&&(g="bold ");this.context.font=g+h+"px  "+r;this.context.fillStyle="rgba("+A.r+","+A.g+","+A.b+","+A.a+")";this.context.strokeStyle="rgba("+q.r+","+q.g+","+q.b+","+q.a+")";this.context.lineWidth=x;l&&(l=this.context,
A=r=x,K-=2*x,B-=2*x,q=0<x,l.beginPath(),l.moveTo(r+6,A),l.lineTo(r+K-6,A),l.quadraticCurveTo(r+K,A,r+K,A+6),l.lineTo(r+K,A+B-6),l.quadraticCurveTo(r+K,A+B,r+K-6,A+B),l.lineTo(r+6,A+B),l.quadraticCurveTo(r,A+B,r,A+B-6),l.lineTo(r,A+6),l.quadraticCurveTo(r,A,r+6,A),l.closePath(),l.fill(),q&&l.stroke());e.backgroundImage&&(B=e.backgroundImage,this.context.drawImage(B,0,0,e.backgroundWidth?e.backgroundWidth:B.width,e.backgroundHeight?e.backgroundHeight:B.height));this.context.fillStyle="rgba("+v.r+","+
v.g+","+v.b+","+v.a+")";this.context.fillText(this.text,x+w,h+x+w,L);e=new b.Texture(this.canvas);e.needsUpdate=!0;this.sprite.material=new b.SpriteMaterial({map:e,useScreenCoordinates:k,alignment:C,depthTest:!f});this.sprite.scale.set(1,1,1);this.sprite.position.set(d.x,d.y,d.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose();void 0!==this.sprite.material&&this.sprite.material.dispose()}};b=b||{};b.MarchingCubeInitializer=function(){var c,e,k,l,r={};return r.march=
function(h,r,w,x){var v=!!x.fulltable,q=x.hasOwnProperty("origin")&&x.origin.hasOwnProperty("x")?x.origin:{x:0,y:0,z:0},d=!!x.voxel,f=x.matrix,C=x.nX||0,g=x.nY||0,L=x.nZ||0,K=x.scale||1,B=null;B=x.unitCube?x.unitCube:{x:K,y:K,z:K};var G=new Int32Array(C*g*L);x=0;for(K=G.length;x<K;++x)G[x]=-1;K=function(c,e,h,k,l,m){var p={x:0,y:0,z:0},C=l;!(k&1<<l)&&k&1<<m&&(C=m);1&C&&h++;2&C&&e++;4&C&&c++;f?p={x:(p=(p=new b.Vector3(c,e,h)).applyMatrix4(f)).x,y:p.y,z:p.z}:(p.x=q.x+B.x*c,p.y=q.y+B.y*e,p.z=q.z+B.z*
h);c=(g*c+e)*L+h;return d?(r.push(p),r.length-1):(0>G[c]&&(G[c]=r.length,r.push(p)),G[c])};var z=new Int32Array(12),m=v?e:c;v=v?l:k;for(x=0;x<C-1;++x)for(var E=0;E<g-1;++E)for(var H=0;H<L-1;++H){for(var F=0,Z=0;8>Z;++Z)F|=!!(2&h[(g*(x+((4&Z)>>2))+E+((2&Z)>>1))*L+H+(1&Z)])<<Z;if(0!==F&&255!==F){var R=m[F];if(0!==R)for(Z=v[F],1&R&&(z[0]=K(x,E,H,F,0,1)),2&R&&(z[1]=K(x,E,H,F,1,3)),4&R&&(z[2]=K(x,E,H,F,3,2)),8&R&&(z[3]=K(x,E,H,F,2,0)),16&R&&(z[4]=K(x,E,H,F,4,5)),32&R&&(z[5]=K(x,E,H,F,5,7)),64&R&&(z[6]=
K(x,E,H,F,7,6)),128&R&&(z[7]=K(x,E,H,F,6,4)),256&R&&(z[8]=K(x,E,H,F,0,4)),512&R&&(z[9]=K(x,E,H,F,1,5)),1024&R&&(z[10]=K(x,E,H,F,3,7)),2048&R&&(z[11]=K(x,E,H,F,2,6)),F=0;F<Z.length;F+=3){R=z[Z[F]];var Q=z[Z[F+1]],I=z[Z[F+2]];d&&3<=F&&(r.push(r[R]),R=r.length-1,r.push(r[Q]),Q=r.length-1,r.push(r[I]),I=r.length-1);w.push(R);w.push(Q);w.push(I)}}}},r.laplacianSmooth=function(b,c,e){var h,k,l=Array(c.length);var d=0;for(h=c.length;d<h;d++)l[d]={x:0,y:0,z:0};var f=Array(20);for(d=0;20>d;d++)f[d]=Array(c.length);
d=0;for(h=c.length;d<h;d++)f[0][d]=0;d=0;for(h=e.length/3;d<h;d++){var r=3*d,g=3*d+1,v=3*d+2;var w=!0;var B=0;for(k=f[0][e[r]];B<k;B++)if(e[g]==f[B+1][e[r]]){w=!1;break}w&&(f[0][e[r]]++,f[f[0][e[r]]][e[r]]=e[g]);w=!0;B=0;for(k=f[0][e[r]];B<k;B++)if(e[v]==f[B+1][e[r]]){w=!1;break}w&&(f[0][e[r]]++,f[f[0][e[r]]][e[r]]=e[v]);w=!0;B=0;for(k=f[0][e[g]];B<k;B++)if(e[r]==f[B+1][e[g]]){w=!1;break}w&&(f[0][e[g]]++,f[f[0][e[g]]][e[g]]=e[r]);w=!0;B=0;for(k=f[0][e[g]];B<k;B++)if(e[v]==f[B+1][e[g]]){w=!1;break}w&&
(f[0][e[g]]++,f[f[0][e[g]]][e[g]]=e[v]);w=!0;for(B=0;B<f[0][e[v]];B++)if(e[r]==f[B+1][e[v]]){w=!1;break}w&&(f[0][e[v]]++,f[f[0][e[v]]][e[v]]=e[r]);w=!0;B=0;for(k=f[0][e[v]];B<k;B++)if(e[g]==f[B+1][e[v]]){w=!1;break}w&&(f[0][e[v]]++,f[f[0][e[v]]][e[v]]=e[g])}for(e=0;e<b;e++){d=0;for(h=c.length;d<h;d++)if(3>f[0][d])l[d].x=c[d].x,l[d].y=c[d].y,l[d].z=c[d].z;else if(3==f[0][d]||4==f[0][d]){l[d].x=0;l[d].y=0;B=l[d].z=0;for(k=f[0][d];B<k;B++)l[d].x+=c[f[B+1][d]].x,l[d].y+=c[f[B+1][d]].y,l[d].z+=c[f[B+1][d]].z;
l[d].x+=.5*c[d].x;l[d].y+=.5*c[d].y;l[d].z+=.5*c[d].z;l[d].x/=.5+f[0][d];l[d].y/=.5+f[0][d];l[d].z/=.5+f[0][d]}else{l[d].x=0;l[d].y=0;B=l[d].z=0;for(k=f[0][d];B<k;B++)l[d].x+=c[f[B+1][d]].x,l[d].y+=c[f[B+1][d]].y,l[d].z+=c[f[B+1][d]].z;l[d].x+=1*c[d].x;l[d].y+=1*c[d].y;l[d].z+=1*c[d].z;l[d].x/=1+f[0][d];l[d].y/=1+f[0][d];l[d].z/=1+f[0][d]}d=0;for(h=c.length;d<h;d++)c[d].x=l[d].x,c[d].y=l[d].y,c[d].z=l[d].z}},r.edgeTable=[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,
0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,
340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0],c=new Uint32Array(r.edgeTable),k=r.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,
11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],
[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],
[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,
4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],
[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,
1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],e=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,
3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,
367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,
3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],l=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,
7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,
0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,
9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,
4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],
[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,
9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,
11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,
3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,
1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,
3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],r};b.MarchingCube=b.MarchingCubeInitializer();b.Parsers=function(){var c={},e={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,
K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},k=function(b,c){var d=(e[b.elem]||1.6)+(e[c.elem]||1.6);d+=.25;d*=d;var h=b.x-c.x;if((h*=h)>d)return!1;var g=
b.y-c.y;if((g*=g)>d)return!1;var k=b.z-c.z;if((k*=k)>d)return!1;h=h+g+k;return!isNaN(h)&&!(.5>h)&&!(h>d)&&(b.altLoc==c.altLoc||" "==b.altLoc||" "==c.altLoc)},l=function(b){for(var c=0,f=b.length;c<f;c++)b[c].index||(b[c].index=c);c={};for(f=0;f<b.length;f++){var e=b[f],g=Math.floor(e.x/4.95),h=Math.floor(e.y/4.95),l=Math.floor(e.z/4.95);c[g]||(c[g]={});c[g][h]||(c[g][h]={});c[g][h][l]||(c[g][h][l]=[]);c[g][h][l].push(e)}b=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,
y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}];for(var q in c){q=parseInt(q);for(var r in c[q]){r=parseInt(r);for(var z in c[q][r]){z=parseInt(z);f=c[q][r][z];for(e=0;e<f.length;e++)for(g=f[e],h=e+1;h<f.length;h++)l=f[h],k(g,l)&&-1==g.bonds.indexOf(l.index)&&(g.bonds.push(l.index),g.bondOrder.push(1),l.bonds.push(g.index),l.bondOrder.push(1));for(e=0;e<b.length;e++)if(h=b[e],c[q+h.x]&&c[q+h.x][r+h.y]&&c[q+h.x][r+h.y][z+h.z])for(g=f,
h=c[q+h.x][r+h.y][z+h.z],l=0;l<g.length;l++)for(var m=g[l],v=0;v<h.length;v++){var w=h[v];if(k(m,w)){var x=m.bonds.indexOf(w.index),A=w.bonds.indexOf(m.index);-1==x&&-1==A?(m.bonds.push(w.index),m.bondOrder.push(1),w.bonds.push(m.index),w.bondOrder.push(1)):-1==x?(m.bonds.push(w.index),m.bondOrder.push(w.bondOrder[A])):-1==A&&(w.bonds.push(m.index),w.bondOrder.push(m.bondOrder[x]))}}}}}},r=function(b){var c,f=[],e=[];var g=0;for(c=b.length;g<c;g++){var h=b[g];h.index=g;h.hetflag?e.push(h):f.push(h)}l(e);
f.sort(function(b,c){return b.chain!=c.chain?b.chain<c.chain?-1:1:b.resi-c.resi});var q;e=b=-1;g=0;for(c=f.length;g<c;g++){h=f[g];h.resi!==b&&(b=h.resi,q||e++,q=!1);h.reschain=e;for(var r=g+1;r<f.length;r++){var v=f[r];if(v.chain!=h.chain)break;if(1<v.resi-h.resi)break;k(h,v)&&(-1===h.bonds.indexOf(v.index)&&(h.bonds.push(v.index),h.bondOrder.push(1),v.bonds.push(h.index),v.bondOrder.push(1)),h.resi!==v.resi&&(q=!0))}}},h=function(b){!function(b){var c,d=[];var f=0;for(c=b.length;f<c;f++){b[f].index=
f;var e=b[f];e.hetflag||"N"!==e.atom&&"O"!==e.atom||(d.push(e),e.hbondOther=null,e.hbondDistanceSq=Number.POSITIVE_INFINITY)}d.sort(function(b,c){return b.z-c.z});f=0;for(c=d.length;f<c;f++)for(e=d[f],b=f+1;b<c;b++){var g=d[b],h=g.z-e.z;if(3.2<h)break;if(g.atom!=e.atom){var k=Math.abs(g.y-e.y);if(!(3.2<k)){var l=Math.abs(g.x-e.x);3.2<l||(h=l*l+k*k+h*h,10.24<h||g.chain==e.chain&&4>Math.abs(g.resi-e.resi)||(h<e.hbondDistanceSq&&(e.hbondOther=g,e.hbondDistanceSq=h),h<g.hbondDistanceSq&&(g.hbondOther=
e,g.hbondDistanceSq=h)))}}}}(b);var c,f,e={};var g=0;for(c=b.length;g<c;g++)if(void 0===e[(f=b[g]).chain]&&(e[f.chain]=[]),isFinite(f.hbondDistanceSq)){var h=f.hbondOther;void 0===e[h.chain]&&(e[h.chain]=[]);4===Math.abs(h.resi-f.resi)&&(e[f.chain][f.resi]="h")}for(l in e)for(g=1;g<e[l].length-1;g++){c=e[l][g-1];h=e[l][g+1];var k=e[l][g];"h"==c&&c==h&&k!=c&&(e[l][g]=c)}g=0;for(c=b.length;g<c;g++)f=b[g],isFinite(f.hbondDistanceSq)&&"h"!=e[f.chain][f.resi]&&"h"!=f.ss&&(e[f.chain][f.resi]="maybesheet");
var l=0;for(g=b.length;l<g;l++)if(f=b[l],isFinite(f.hbondDistanceSq)&&"maybesheet"==e[f.chain][f.resi])c=f.hbondOther,h=e[c.chain][c.resi],"maybesheet"!=h&&"s"!=h||(e[f.chain][f.resi]="s",e[c.chain][c.resi]="s");for(var q in e){for(l=1;l<e[q].length-1;l++)g=e[q][l-1],c=e[q][l+1],k=e[q][l],"s"==g&&g==c&&k!=g&&(e[q][l]=g);for(l=0;l<e[q].length;l++)g=e[q][l],"h"!=g&&"s"!=g||e[q][l-1]!=g&&e[q][l+1]!=g&&delete e[q][l]}g=0;for(c=b.length;g<c;g++)void 0!==(k=e[(f=b[g]).chain][f.resi])&&"maybesheet"!=k&&
(f.ss=k,e[f.chain][f.resi-1]!=k&&(f.ssbegin=!0),e[f.chain][f.resi+1]!=k&&(f.ssend=!0))},v=function(c,d,f){var e,g,h=f.length,k=h;if(d){if(1<c.length)for(d=0;d<f.length;d++){h=[];for(e=0;e<c.length;e++)c[e].isIdentity()||(k=new b.Vector3,k.set(f[d].x,f[d].y,f[d].z),k.applyMatrix4(c[e]),h.push(k));f[d].symmetries=h}}else for(d=0;d<c.length;d++)if(!c[d].isIdentity()){var l=new b.Vector3;for(g=0;g<h;g++){var q=[];for(e=0;e<f[g].bonds.length;e++)q.push(f[g].bonds[e]+k);l.set(f[g].x,f[g].y,f[g].z);l.applyMatrix4(c[d]);
e={};for(var r in f[g])e[r]=f[g][r];e.x=l.x;e.y=l.y;e.z=l.z;e.bonds=q;f.push(e)}k=f.length}};c.vasp=c.VASP=function(c){var d=[[]],f,e=c.replace(/^\s+/,"").split(/[\n\r]/);if(3>e.length)return d;if(!e[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),d;if(f=parseFloat(e[1]),0>f)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),d;c=new Float32Array(e[2].replace(/^\s+/,"").split(/\s+/));var g=new Float32Array(e[3].replace(/^\s+/,
"").split(/\s+/));var h=new Float32Array(e[4].replace(/^\s+/,"").split(/\s+/));var k=new b.Matrix4(c[0],c[1],c[2],0,g[0],g[1],g[2],0,h[0],h[1],h[2],0,0,0,0,1);k.multiplyScalar(f);d.modelData=[{symmetries:[],cryst:{matrix:k}}];k=e[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/);var l=new Int16Array(e[6].replace(/^\s+/,"").split(/\s+/)),q=e[7].replace(/\s+/,"");if(q.match(/C/))q="cartesian";else{if(!q.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),
d;q="direct"}if(k.length!=l.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(k),console.log(l),d;e.splice(0,8);for(var r=0,m=0,v=k.length;m<v;m++){for(var w=k[m],x=0,A=l[m];x<A;x++){var E=new Float32Array(e[r+x].replace(/^\s+/,"").split(/\s+/)),H={};H.elem=w;"cartesian"==q?(H.x=f*E[0],H.y=f*E[1],H.z=f*E[2]):(H.x=f*(E[0]*c[0]+E[1]*g[0]+E[2]*h[0]),H.y=f*(E[0]*c[1]+E[1]*g[1]+E[2]*h[1]),H.z=f*(E[0]*c[2]+E[1]*g[2]+E[2]*h[2]));H.bonds=[];d[0].push(H)}r+=l[m]}return d};
c.cube=c.CUBE=function(b){var c=[[]];b=b.replace(/^\s+/,"").split(/\n\r|\r+/);if(6>b.length)return c;var f=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),e=Math.abs(parseFloat(f[0]));f=b[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");f=0<parseFloat(f[0])?.529177:1;b=b.splice(6,e);e=c[c.length-1].length;for(var g=e+b.length,h=e;h<g;++h){var k={};k.serial=h;var q=b[h-e].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==q[0]?k.elem="C":1==q[0]?k.elem="H":8==q[0]?k.elem="O":17==q[0]&&
(k.elem="Cl");k.x=parseFloat(q[2])*f;k.y=parseFloat(q[3])*f;k.z=parseFloat(q[4])*f;k.hetflag=!0;k.bonds=[];k.bondOrder=[];k.properties={};c[c.length-1].push(k)}for(b=0;b<c.length;b++)l(c[b]);return c};c.xyz=c.XYZ=function(b,c){var d=[[]];for(b=b.split(/\r?\n|\r/);0<b.length&&!(3>b.length);){var e=parseInt(b[0]);if(isNaN(e)||0>=e)break;if(b.length<e+2)break;var g=2,h=d[d.length-1].length;for(e=h+e;h<e;h++){var k=b[g++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),q={};q.serial=h;var r=k[0];q.atom=
q.elem=r[0].toUpperCase()+r.substr(1).toLowerCase();q.x=parseFloat(k[1]);q.y=parseFloat(k[2]);q.z=parseFloat(k[3]);q.hetflag=!0;q.bonds=[];q.bondOrder=[];q.properties={};d[d.length-1][h]=q;7<=k.length&&(q.dx=parseFloat(k[4]),q.dy=parseFloat(k[5]),q.dz=parseFloat(k[6]))}if(!c.multimodel)break;d.push([]);b.splice(0,g)}for(b=0;b<d.length;b++)l(d[b]);if(c.onemol)for(c=d,(d=[]).push(c[0]),b=1;b<c.length;b++)for(g=d[0].length,e=0;e<c[b].length;e++){h=c[b][e];for(k=0;k<h.bonds.length;k++)h.bonds[k]+=g;h.index=
d[0].length;h.serial=d[0].length;d[0].push(h)}return d};c.sdf=c.SDF=function(b,c){var d="V2000";b=b.split(/\r?\n|\r/);return 3<b.length&&38<b[3].length&&(d=b[3].substr(34,5)),"V2000"===d?function(b,c){var d=[[]],f=!1;for(void 0!==c.keepH&&(f=!c.keepH);0<b.length&&!(4>b.length);){var e=parseInt(b[3].substr(0,3));if(isNaN(e)||0>=e)break;var g=parseInt(b[3].substr(3,3)),h=4;if(b.length<4+e+g)break;var k,l=[],q=d[d.length-1].length,r=q+e;for(e=q;e<r;e++,h++){var v={},w=(k=b[h]).substr(31,3).replace(/ /g,
"");v.atom=v.elem=w[0].toUpperCase()+w.substr(1).toLowerCase();"H"===v.elem&&f||(v.serial=e,l[e]=d[d.length-1].length,v.x=parseFloat(k.substr(0,10)),v.y=parseFloat(k.substr(10,10)),v.z=parseFloat(k.substr(20,10)),v.hetflag=!0,v.bonds=[],v.bondOrder=[],v.properties={},v.index=d[d.length-1].length,d[d.length-1].push(v))}for(e=0;e<g;e++,h++)k=b[h],r=l[parseInt(k.substr(0,3))-1+q],v=l[parseInt(k.substr(3,3))-1+q],k=parseInt(k.substr(6,3)),void 0!==r&&void 0!==v&&(d[d.length-1][r].bonds.push(v),d[d.length-
1][r].bondOrder.push(k),d[d.length-1][v].bonds.push(r),d[d.length-1][v].bondOrder.push(k));if(!c.multimodel)break;for(c.onemol||d.push([]);"$$$$"!==b[h];)h++;b.splice(0,++h)}return d}(b,c):"V3000"===d?function(b,c){var d=[[]],f=!1;for(void 0!==c.keepH&&(f=!c.keepH);0<b.length&&!(8>b.length)&&b[4].startsWith("M  V30 BEGIN CTAB")&&b[5].startsWith("M  V30 COUNTS")&&!(14>b[5].length);){var e=b[5].substr(13).match(/\S+/g);if(2>e.length)break;var g=parseInt(e[0]);if(isNaN(g)||0>=g)break;e=parseInt(e[1]);
var h=7;if(b.length<8+g+e)break;var k=[],l=d[d.length-1].length,q=l+g;for(g=l;g<q;g++,h++){var r=b[h].substr(6).match(/\S+/g);if(4<r.length){var v={},w=r[1].replace(/ /g,"");v.atom=v.elem=w[0].toUpperCase()+w.substr(1).toLowerCase();"H"===v.elem&&f||(v.serial=g,k[g]=d[d.length-1].length,v.x=parseFloat(r[2]),v.y=parseFloat(r[3]),v.z=parseFloat(r[4]),v.hetflag=!0,v.bonds=[],v.bondOrder=[],v.properties={},v.index=d[d.length-1].length,d[d.length-1].push(v))}}if("M  V30 END ATOM"!==b[h])break;if(h++,0===
e||"M  V30 BEGIN BOND"!==b[h])break;h++;for(g=0;g<e;g++,h++)v=b[h].substr(6).match(/\S+/g),3<v.length&&(q=k[parseInt(v[2])-1+l],r=k[parseInt(v[3])-1+l],v=parseInt(v[1]),void 0!==q&&void 0!==r&&(d[d.length-1][q].bonds.push(r),d[d.length-1][q].bondOrder.push(v),d[d.length-1][r].bonds.push(q),d[d.length-1][r].bondOrder.push(v)));if(!c.multimodel)break;for(c.onemol||d.push([]);"$$$$"!==b[h];)h++;b.splice(0,++h)}return d}(b,c):[[]]};c.cdjson=c.json=function(b,c){var d=[[]];"string"==typeof b&&(b=JSON.parse(b));
var e=b.m,g=e[0].a;b=e[0].b;e=e[0].s;var h=void 0!==c&&void 0!==c.parseStyle?c.parseStyle:void 0!==e;c=d[d.length-1].length;for(var k=0;k<g.length;k++){var l=g[k],q={};q.id=l.i;q.x=l.x;q.y=l.y;q.z=l.z||0;q.bonds=[];q.bondOrder=[];var r=l.l||"C";q.elem=r[0].toUpperCase()+r.substr(1).toLowerCase();q.serial=d[d.length-1].length;h&&(q.style=e[l.s||0]);d[d.length-1].push(q)}for(g=0;g<b.length;g++)k=b[g],e=k.b+c,h=k.e+c,k=k.o||1,l=d[d.length-1][e],q=d[d.length-1][h],l.bonds.push(h),l.bondOrder.push(k),
q.bonds.push(e),q.bondOrder.push(k);return d};c.mcif=c.cif=function(c,d){function f(b,c){for(var d=[],f=0,e=0;e<b.length;){for(;b.substr(e,c.length)!==c&&e<b.length;){if("'"===b[e])for(e++;e<b.length&&"'"!==b[e];)e++;else if('"'===b[e])for(e++;e<b.length&&'"'!==b[e];)e++;e++}d.push(b.substr(f,e-f));f=e+=c.length}return d}var e=[],g=!d.doAssembly;d=!d.duplicateAssemblyAtoms;var k=e.modelData=[],q=c.split(/\r?\n|\r/);c=[];for(var r=!1,w=0;w<q.length;w++){var z=q[w].split("#")[0];if(r?";"===z[0]&&(r=
!1):";"===z[0]&&(r=!0),r||""!==z){if(!r&&"_"===(z=z.trim())[0]){var m=z.split(/\s/)[0].indexOf(".");-1<m&&(z[m]="_",z=z.substr(0,m)+"_"+z.substr(m+1))}c.push(z)}}for(q=0;q<c.length;){for(;!c[q].startsWith("data_")||"data_global"===c[q];)q++;q++;for(r={};q<c.length&&!c[q].startsWith("data_");)if(void 0===c[q][0])q++;else if("_"===c[q][0]){z=c[q].split(/\s/)[0].toLowerCase();w=r[z]=r[z]||[];z=c[q].substr(c[q].indexOf(z)+z.length);if(""===z)if(";"===c[++q][0]){z=c[q].substr(1);for(q++;";"!==c[q];)z=
z+"\n"+c[q],q++;w.push(z)}else w.push(c[q]);else w.push(z.trim());q++}else if("loop_"===c[q].substr(0,5)){q++;for(w=[];""===c[q]||"_"===c[q][0];)""!==c[q]&&(z=c[q].split(/\s/)[0].toLowerCase(),z=r[z]=r[z]||[],w.push(z)),q++;for(z=0;q<c.length&&"_"!==c[q][0]&&!c[q].startsWith("loop_")&&!c[q].startsWith("data_");){m=f(c[q]," ");for(var x=0;x<m.length;x++)""!==m[x]&&(w[z].push(m[x]),z=(z+1)%w.length);q++}}else q++;k.push({symmetries:[]});e.push([]);w=void 0!==r._atom_site_id?r._atom_site_id.length:r._atom_site_label.length;
if(void 0!==r._cell_length_a){z=parseFloat(r._cell_length_a);m=parseFloat(r._cell_length_b);x=parseFloat(r._cell_length_c);var A=parseFloat(r._cell_angle_alpha)||90,E=parseFloat(r._cell_angle_beta)||90,H=parseFloat(r._cell_angle_gamma)||90,F=H*Math.PI/180;var Q=Math.cos(A*Math.PI/180);var I=Math.cos(E*Math.PI/180),ca=Math.cos(F);F=Math.sin(F);Q=[[z,m*ca,x*I],[0,m*F,x*(Q-I*ca)/F],[0,0,x*Math.sqrt(1-Q*Q-I*I-ca*ca+2*Q*I*ca)/F]];k[k.length-1].cryst={a:z,b:m,c:x,alpha:A,beta:E,gamma:H}}z=function(b,c,
d,f){return{x:b[0][0]*c+b[0][1]*d+b[0][2]*f,y:b[1][0]*c+b[1][1]*d+b[1][2]*f,z:b[2][0]*c+b[2][1]*d+b[2][2]*f}};for(m=0;m<w;m++)if(void 0===r._atom_site_group_pdb||"TER"!==r._atom_site_group_pdb[m])x={},void 0!==r._atom_site_cartn_x?(x.x=parseFloat(r._atom_site_cartn_x[m]),x.y=parseFloat(r._atom_site_cartn_y[m]),x.z=parseFloat(r._atom_site_cartn_z[m])):(A=z(Q,parseFloat(r._atom_site_fract_x[m]),parseFloat(r._atom_site_fract_y[m]),parseFloat(r._atom_site_fract_z[m])),x.x=A.x,x.y=A.y,x.z=A.z),x.chain=
r._atom_site_auth_asym_id?r._atom_site_auth_asym_id[m]:void 0,x.resi=r._atom_site_auth_seq_id?parseInt(r._atom_site_auth_seq_id[m]):void 0,x.resn=r._atom_site_auth_comp_id?r._atom_site_auth_comp_id[m].trim():void 0,x.atom=r._atom_site_auth_atom_id?r._atom_site_auth_atom_id[m].replace(/"/gm,""):void 0,x.hetflag=!r._atom_site_group_pdb||"HETA"===r._atom_site_group_pdb[m]||"HETATM"===r._atom_site_group_pdb[m],A=r._atom_site_type_symbol[m],x.elem=A[0].toUpperCase()+A.substr(1).toLowerCase(),x.bonds=[],
x.ss="c",x.serial=m,x.bondOrder=[],x.properties={},e[e.length-1].push(x);if(void 0!==r._pdbx_struct_oper_list_id&&!g){for(w=0;w<r._pdbx_struct_oper_list_id.length;w++){z=parseFloat(r["_pdbx_struct_oper_list_matrix[1][1]"][w]);m=parseFloat(r["_pdbx_struct_oper_list_matrix[1][2]"][w]);x=parseFloat(r["_pdbx_struct_oper_list_matrix[1][3]"][w]);A=parseFloat(r["_pdbx_struct_oper_list_vector[1]"][w]);E=parseFloat(r["_pdbx_struct_oper_list_matrix[2][1]"][w]);H=parseFloat(r["_pdbx_struct_oper_list_matrix[2][2]"][w]);
I=parseFloat(r["_pdbx_struct_oper_list_matrix[2][3]"][w]);ca=parseFloat(r["_pdbx_struct_oper_list_vector[2]"][w]);F=parseFloat(r["_pdbx_struct_oper_list_matrix[3][1]"][w]);var ba=parseFloat(r["_pdbx_struct_oper_list_matrix[3][2]"][w]),P=parseFloat(r["_pdbx_struct_oper_list_matrix[3][3]"][w]),T=parseFloat(r["_pdbx_struct_oper_list_vector[3]"][w]);z=new b.Matrix4(z,m,x,A,E,H,I,ca,F,ba,P,T);k[k.length-1].symmetries.push(z)}for(w=0;w<e.length;w++)v(k[k.length-1].symmetries,d,e[w])}w=function(b){var c,
d=b.match("-");b=b.replace(/[-xyz]/g,"").split("/");return c=void 0===b[1]?1:parseInt(b[1]),(""===b[0]?1:parseInt(b[0]))/c*(d?-1:1)};if(void 0!==r._symmetry_equiv_pos_as_xyz)for(z=0;z<r._symmetry_equiv_pos_as_xyz.length;z++){x=r._symmetry_equiv_pos_as_xyz[z].replace(/["' ]/g,"").split(",").map(function(b){return b.replace(/-/g,"+-")});m=new b.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(A=0;3>A;A++)for(E=x[A].split("+"),H=0;H<E.length;H++)I=E[H],""!==I&&(ca=w(I),I.match("x")?m.elements[A+0]=ca:I.match("y")?
m.elements[A+4]=ca:I.match("z")?m.elements[A+8]=ca:m.elements[A+12]=ca);x=new b.Matrix4(Q[0][0],Q[0][1],Q[0][2],0,Q[1][0],Q[1][1],Q[1][2],0,Q[2][0],Q[2][1],Q[2][2],0);A=(new b.Matrix4).getInverse(x,!0);m=(new b.Matrix4).multiplyMatrices(m,A);m=(new b.Matrix4).multiplyMatrices(x,m);k[k.length-1].symmetries.push(m)}}for(g=0;g<e.length;g++)l(e[g]),h(e[g]),v(k[g].symmetries,d,e[g]);return e};c.mol2=c.MOL2=function(b,c){var d=[[]],e=!1;void 0!==c.keepH&&(e=!c.keepH);var g=b.search(/@<TRIPOS>MOLECULE/),
h=b.search(/@<TRIPOS>ATOM/);if(-1==g||-1==h)return d;for(b=b.substr(g,b.length).split(/\r?\n|\r/);0<b.length;){g=[];var k=b[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l=parseInt(k[0]);h=0;1<k.length&&(h=parseInt(k[1]));var q,r=4;for(q=3;q<b.length;q++)if("@<TRIPOS>ATOM"==b[q]){r=q+1;break}q=d[d.length-1].length;for(l=q+l;q<l;q++){var m={},v=(k=b[r++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5].split(".")[0];if(m.atom=m.elem=v[0].toUpperCase()+v.substr(1).toLowerCase(),"H"!=m.elem||
!e){v=d[d.length-1].length;var w=parseInt(k[0]);m.serial=w;m.x=parseFloat(k[2]);m.y=parseFloat(k[3]);m.z=parseFloat(k[4]);m.atom=k[5];k=parseFloat(k[8]);m.index=v;m.bonds=[];m.bondOrder=[];m.properties={charge:k,partialCharge:k};g[w]=v;d[d.length-1].push(m)}}for(q=!1;r<b.length;)if("@<TRIPOS>BOND"==b[r++]){q=!0;break}if(q&&h)for(q=0;q<h;q++)k=b[r++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l=parseInt(k[1]),m=d[d.length-1][g[l]],v=parseInt(k[2]),w=d[d.length-1][g[v]],k=parseInt(k[3]),isNaN(k)&&
(k=1),void 0!==m&&void 0!==w&&(m.bonds.push(g[v]),m.bondOrder.push(k),w.bonds.push(g[l]),w.bondOrder.push(k));if(!c.multimodel)break;c.onemol||d.push([]);b.splice(0,r);b.join("\n")}return d};var w=function(b,c){b=b.replace(/ /g,"");return 0<b.length&&"H"==b[0]&&"Hg"!=b&&(b="H"),1<b.length&&(b=b[0].toUpperCase()+b.substr(1).toLowerCase(),void 0===e[b]?b=b[0]:c&&("Ca"==b?b="C":"Cd"==b&&(b="C"))),b},x=function(c,d,f){var k,g,l=[],q=!d.keepH,B=!!d.noSecondaryStructure,x=!d.noComputeSecondaryStructure,
z=!d.doAssembly,m=!d.duplicateAssemblyAtoms,A=d.altLoc?d.altLoc:"A";d={symmetries:[]};for(var E=[],H=[],F={},R=0;R<c.length;R++){var Q,I,ca=(g=c[R].replace(/^\s*/,"")).substr(0,6);if(0==ca.indexOf("END")){if(E=c.slice(R+1),"END"==ca)for(var ba in f)f.hasOwnProperty(ba)&&delete f[ba];break}if("ATOM  "==ca||"HETATM"==ca){var P,T,S,J,p,D,O,N,da;if(" "==(N=g.substr(16,1))||N==A||"*"==A)(O=parseInt(g.substr(6,5)),k=g.substr(12,4).replace(/ /g,""),Q=g.substr(17,3).replace(/ /g,""),I=g.substr(21,1),P=parseInt(g.substr(22,
4)),T=g.substr(26,1),S=parseFloat(g.substr(30,8)),J=parseFloat(g.substr(38,8)),p=parseFloat(g.substr(46,8)),da=parseFloat(g.substr(60,8)),"H"==(D=""===(D=g.substr(76,2).replace(/ /g,""))||void 0===e[D]?w(g.substr(12,2),"A"==g[0]):D[0].toUpperCase()+D.substr(1).toLowerCase())&&q)||(ca="H"==ca[0],H[O]=l.length,l.push({resn:Q,x:S,y:J,z:p,elem:D,hetflag:ca,altLoc:N,chain:I,resi:P,icode:T,rescode:P+(" "!=T?"^"+T:""),serial:O,atom:k,bonds:[],ss:"c",bondOrder:[],properties:{},b:da,pdbline:g}))}else if("SHEET "==
ca){!0;Q=g.substr(21,1);I=parseInt(g.substr(22,4));g.substr(32,1);g=parseInt(g.substr(33,4));Q in f||(f[Q]={});f[Q][I]="s1";for(I+=1;I<g;I++)f[Q][I]="s";f[Q][g]="s2"}else if("CONECT"==ca)for(Q=H[parseInt(g.substr(6,5))],I=l[Q],P=[11,16,21,26],T=0;4>T;T++){if(S=H[parseInt(g.substr(P[T],5))],J=l[S],void 0!==I&&void 0!==J)if(F[[Q,S]])for(F[[Q,S]]+=1,J=0;J<I.bonds.length;J++)I.bonds[J]==S&&(p=F[[Q,S]],I.bondOrder[J]=4<=p?1:p);else F[[Q,S]]=1,0!=I.bonds.length&&I.bonds[I.bonds.length-1]==S||(I.bonds.push(S),
I.bondOrder.push(1))}else if("HELIX "==ca){!0;Q=g.substr(19,1);I=parseInt(g.substr(21,4));g.substr(31,1);g=parseInt(g.substr(33,4));Q in f||(f[Q]={});f[Q][I]="h1";for(I+=1;I<g;I++)f[Q][I]="h";f[Q][g]="h2"}else if(z||"REMARK"!=ca||"BIOMT"!=g.substr(13,5))"CRYST1"==ca?(J=S=T=P=I=Q=void 0,Q=parseFloat(g.substr(7,8)),I=parseFloat(g.substr(16,8)),P=parseFloat(g.substr(25,8)),T=parseFloat(g.substr(34,6)),S=parseFloat(g.substr(41,6)),J=parseFloat(g.substr(48,6)),d.cryst={a:Q,b:I,c:P,alpha:T,beta:S,gamma:J}):
"ANISOU"==ca&&(Q=l[H[parseInt(g.substr(6,5))]])&&(g=g.substr(30).trim().split(/\s+/),g={u11:parseInt(g[0]),u22:parseInt(g[1]),u33:parseInt(g[2]),u12:parseInt(g[3]),u13:parseInt(g[4]),u23:parseInt(g[5])},Q.uMat=g);else{I=new b.Matrix4;for(Q=1;3>=Q;Q++)if(g=c[R].replace(/^\s*/,""),parseInt(g.substr(18,1))==Q)I.elements[Q-1]=parseFloat(g.substr(23,10)),I.elements[Q-1+4]=parseFloat(g.substr(33,10)),I.elements[Q-1+8]=parseFloat(g.substr(43,10)),I.elements[Q-1+12]=parseFloat(g.substr(53)),R++;else for(;"BIOMT"==
g.substr(13,5);)g=c[++R].replace(/^\s*/,"");I.elements[3]=0;I.elements[7]=0;I.elements[11]=0;I.elements[15]=1;d.symmetries.push(I);R--}}(new Date).getTime();if(function(b,c){for(var d=0,f=b.length;d<f;d++)for(var e=b[d],g=0;g<e.bonds.length;g++){var h=b[e.bonds[g]],k=c[e.serial];h&&k&&0>h.bonds.indexOf(k)&&(h.bonds.push(k),h.bondOrder.push(e.bondOrder[g]))}}(l,H),r(l),z||v(d.symmetries,m,l),x&&!B&&((new Date).getTime(),h(l)),(new Date).getTime(),!function(b){for(var c in b)return!1;return!0}(f))for(c=
0;c<l.length;c++)void 0!==(k=l[c])&&k.chain in f&&k.resi in f[k.chain]&&(q=f[k.chain][k.resi],k.ss=q[0],1<q.length&&("1"==q[1]?k.ssbegin=!0:"2"==q[1]&&(k.ssend=!0)));return[l,d,E]};c.pdb=c.PDB=c.pdbqt=c.PDBQT=function(b,c){var d=[],e={};d.modelData=[];for(var g=b.split(/\r?\n|\r/);0<g.length;){g=x(g,c,e);b=g[0];var h=g[1];if(g=g[2],0!=b.length){if(c.multimodel&&c.onemol&&0<d.length){h=d[0].length;for(var k=0;k<b.length;k++){var l=b[k];l.index=k;for(var q=0;q<l.bonds.length;q++)l.bonds[q]+=h;d[0].push(l)}}else d.modelData.push(h),
d.push(b);if(!c.multimodel)break}}return d};c.pqr=c.PQR=function(b,c){var d=[[]],e=!c.noSecondaryStructure;d.modelData=[{symmetries:[]}];for(var g=[],k=b.split(/\r?\n|\r/),l=0;l<k.length;l++){var q=(b=k[l].replace(/^\s*/,"")).substr(0,6);if(0==q.indexOf("END")){if(c.multimodel){c.onemol||d.push([]);continue}break}if("ATOM  "==q||"HETATM"==q){q=parseInt(b.substr(6,5));var v=b.substr(12,4).replace(/ /g,""),w=b.substr(17,3),m=b.substr(21,1),x=parseInt(b.substr(22,4));var A=b.substr(30).trim().split(/\s+/);
var E=parseFloat(A[0]),H=parseFloat(A[1]),F=parseFloat(A[2]),Q=parseFloat(A[3]),I=parseFloat(A[4]),ca=v[0];1<v.length&&v[1].toUpperCase()!=v[1]&&(ca=v.substr(0,2));A="H"==b[0];g[q]=d[d.length-1].length;d[d.length-1].push({resn:w,x:E,y:H,z:F,elem:ca,hetflag:A,chain:m,resi:x,serial:q,atom:v,bonds:[],ss:"c",bondOrder:[],properties:{charge:Q,partialCharge:Q,radius:I},pdbline:b})}else if("CONECT"==q)for(q=parseInt(b.substr(6,5)),q=d[d.length-1][g[q]],v=0;4>v;v++)w=parseInt(b.substr([11,16,21,26][v],5)),
m=d[d.length-1][g[w]],void 0!==q&&void 0!==m&&(q.bonds.push(g[w]),q.bondOrder.push(1))}for(c=0;c<d.length;c++)r(d[c]),e&&h(d[c]);return d};var A=function(b){return 0==b||2==b||4==b?"h":3==b?"s":"c"};return c.mmtf=c.MMTF=function(c,d){var e=!d.keepH,k=d.altLoc?d.altLoc:"A",g=!!d.noSecondaryStructure,l=!d.noComputeSecondaryStructure,q=!d.doAssembly,r=!d.duplicateAssemblyAtoms,w=d.assemblyIndex?d.assemblyIndex:0;"string"==typeof c&&(c=b.base64ToArray(c));var z;c=MMTF.decode(c);var m=[[]],x=m.modelData=
[],E=0,H=0,F=0,R=0,Q=c.secStructList,I=c.insCodeList,ca=c.sequenceIndexList,ba=c.bFactorList,P=c.altLocList,T=c.occupancyList,S=c.bondAtomList,J=c.bondOrderList,p=c.numModels;if(0==p)return m;d.multimodel||(p=1);var D=[];if(!q&&c.bioAssemblyList&&0<c.bioAssemblyList.length){var O=c.bioAssemblyList[w].transformList;var N=0;for(w=O.length;N<w;N++){var da=new b.Matrix4(O[N].matrix);da.transpose();D.push(da)}}O=null;c.unitCell&&(w=c.unitCell,O={a:w[0],b:w[1],c:w[2],alpha:w[3],beta:w[4],gamma:w[5]});for(w=
da=0;w<p;w++){var ha=c.chainsPerModel[w],X=m[m.length-1],W=[];x.push({symmetries:D,cryst:O});for(N=0;N<ha;++N){var na=c.groupsPerChain[H],ka=String.fromCharCode.apply(null,c.chainIdList.subarray(4*H,4*H+4)).replace(/\0/g,"");c.chainNameList&&(ka=String.fromCharCode.apply(null,c.chainNameList.subarray(4*H,4*H+4)).replace(/\0/g,""));var xa=F,fa="";for(z=0;z<na;++z){var ea=c.groupList[c.groupTypeList[F]];var aa=ea.atomNameList.length;var la=0,oa=!1,ya=!1;if(Q){la=Q[F];var va=A(la);0!=F&&va==fa||(oa=
!0);fa=va;var za=F+1;(za>=Q.length||A(Q[za]!=va))&&(ya=!0)}c.insCodeList&&String.fromCharCode(I[F]);ca&&ca[F];var Ca=c.groupIdList[F],ra=ea.groupName;za=R;for(va=0;va<aa;++va){var La=ea.elementList[va];if(!e||"H"!=La){var Jb="";ba&&(Jb=ba[R]);var ua="";P&&P[R]&&(ua=String.fromCharCode(P[R]));var u="";if(T&&(u=T[R]),""==ua||ua==k||"*"==k){var Rb=c.atomIdList[R],Da=ea.atomNameList[va],sa=0;ea.atomChargeList&&(sa=ea.atomChargeList[va]);var Eb=c.xCoordList[R],jb=c.yCoordList[R],y=c.zCoordList[R];W[R]=
X.length;X.push({resn:ra,x:Eb,y:jb,z:y,elem:La,hetflag:0>la,chain:ka,resi:Ca,icode:ua,rescode:Ca+(" "!=ua?"^"+ua:""),serial:Rb,altLoc:ua,index:R,atom:Da,bonds:[],ss:A(la),ssbegin:oa,ssend:ya,bondOrder:[],properties:{charge:sa,occupancy:u},b:Jb})}}R+=1}la=ea.bondAtomList;va=0;for(aa=ea.bondOrderList.length;va<aa;++va)oa=ea.bondOrderList[va],ya=W[za+la[2*va]],Ca=W[za+la[2*va+1]],ra=X[ya],La=X[Ca],ra&&La&&(ra.bonds.push(Ca),ra.bondOrder.push(oa),La.bonds.push(ya),La.bondOrder.push(oa));F+=1}F=xa;for(z=
0;z<na;++z)F+=1;H+=1}if(S)for(N=da,z=S.length;N<z;N+=2){na=S[N];ka=S[N+1];ha=J?J[N/2]:1;if(na>=R){da=N;break}na=W[na];ka=W[ka];xa=X[na];fa=X[ka];xa&&fa&&(xa.bonds.push(ka),xa.bondOrder.push(ha),fa.bonds.push(na),fa.bondOrder.push(ha))}if(d.multimodel&&(d.onemol||m.push([])),!q)for(X=0;X<m.length;X++)v(x[E].symmetries,r,m[X]);E+=1}return l&&!g&&h(m),m},c.prmtop=c.PRMTOP=function(b){function c(b){var c=l.indexOf(q.filter(function(c){return c.includes(b)})[0]);if(Number.isInteger(c)&&0<c){for(;!l[c].includes("FORMAT");)c++;
return c}return-1}function e(b){var c=l[b].match(/\((\d*)\S*/),d=l[b].match(/[a-zA-Z](\d*)\)\s*/);return null==d&&(d=l[b].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[c[1],d[1]]}var h,g=[],k=0,l=b.split(/\r?\n|\r/);if(!(0<l.length&&l[0].includes("VERSION")))return[];var q=l.filter(function(b){return b.includes("POINTERS")||b.includes("ATOM_NAME")||b.includes("CHARGE")||b.includes("RADII")||b.includes("BONDS_INC_HYDROGEN")||b.includes("BONDS_WITHOUT_HYDROGEN")});b=c("POINTERS");if(-1==b)return[];var r=e(b),
v=parseInt(l[b+1].slice(0,r[1]));if(isNaN(v)||0>=v||-1==(b=c("ATOM_NAME")))return[];for(var m=(r=e(b))[0],w=0;w<v/r[0];w++){w==parseInt(v/r[0])&&(m=v%r[0]);for(var x=0;x<m;x++){var A={};A.serial=k;A.x=0;A.y=0;A.z=0;A.atom=l[b+1].slice(r[1]*x,r[1]*(x+1));A.elem=l[b+1].slice(r[1]*x,r[1]*x+1);A.properties={charge:"",radii:""};A.bonds=[];A.bondOrder=[];g.push(A);k++}b++}if(-1!=(b=c("CHARGE")))for(k=0,m=(r=e(b))[0],w=0;w<v/r[0];w++){w==parseInt(v/r[0])&&(m=v%r[0]);for(x=0;x<m;x++)g[k].properties.charge=
parseFloat(l[b+1].slice(r[1]*x,r[1]*(x+1))),k++;b++}if(-1!=(b=c("RADII")))for(k=0,m=(r=e(b))[0],w=0;w<v/r[0];w++){w==parseInt(v/r[0])&&(m=v%r[0]);for(x=0;x<m;x++)g[k].properties.radii=parseFloat(l[b+1].slice(r[1]*x,r[1]*(x+1))),k++;b++}if(-1!=(b=c("BONDS_WITHOUT_HYDROGEN")))for(k=0,m=(r=e(b))[0],b+=1;!l[b].match(/^%FLAG/);){l[b+1].match(/^%FLAG/)&&(m=v%r[0]);for(w=0;w<m;w++)0==k%3?h=parseInt(l[b].slice(r[1]*w,r[1]*(w+1))/3):1==k%3&&g[h].bonds.push(parseInt(l[b].slice(r[1]*w,r[1]*(w+1))/3)),k++;b++}if(-1!=
(b=c("BONDS_INC_HYDROGEN")))for(k=0,m=(r=e(b))[0],b+=1;!l[b].match(/^%FLAG/);){l[b+1].match(/^%FLAG/)&&(m=v%r[0]);for(w=0;w<m;w++)0==k%3?h=parseInt(l[b].slice(r[1]*w,r[1]*(w+1))/3):1==k%3&&g[h].bonds.push(parseInt(l[b].slice(r[1]*w,r[1]*(w+1))/3)),k++;b++}return[g]},c.gro=c.GRO=function(b){var c=[];for(b=b.split(/\r?\n|\r/);0<b.length&&!(3>b.length);){var e=parseInt(b[1]);if(isNaN(e)||0>=e)break;if(b.length<e+3)break;var h=[];c.push(h);var g=2,k=h.length;for(e=k+e;k<e;k++){var l=b[g++],q={};q.serial=
k;q.atom=l.slice(10,15).trim();q.elem=w(q.atom,!0);q.x=10*parseFloat(l.slice(20,28));q.y=10*parseFloat(l.slice(28,36));q.z=10*parseFloat(l.slice(36,44));q.resi=parseInt(l.slice(0,5));q.resn=l.slice(5,10).trim();q.bonds=[];q.bondOrder=[];q.properties={};44<l.length&&(q.dx=10*parseFloat(l.slice(44,52)),q.dy=10*parseFloat(l.slice(52,60)),q.dz=10*parseFloat(l.slice(60,68)));h[k]=q}if(b.length<=g+3&&(h=b[g++].trim().split(/\s+/),3==h.length)){for(e=0;3>e;e++)h[e]=10*parseFloat(h[e]);c.box=h}b.splice(0,
++g)}for(b=0;b<c.length;b++)r(c[b]);return c},c.lammpstrj=c.LAMMPSTRJ=function(b,c){var d=[],e={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};b=b.split(/\r?\n|\r/);for(var g=0,h=0,k=0;k<b.length-9;){for(;k<b.length;k++)if(b[k].match(/ITEM: NUMBER OF ATOMS/)&&(h=parseInt(b[k+1])),b[k].match(/ITEM: ATOMS/)){g=k+1;break}k=b[g-1].replace("ITEM: ATOMS ","").split(" ");d.push([]);for(var q=g;q<g+h;q++){for(var r=
{},v={},m=b[q].split(" "),w=0;w<m.length;w++){var x=e[k[w]];null!=x&&("serial"==x?r[x]=parseInt(m[w]):"x"==x||"y"==x||"z"===x?r[x]=parseFloat(m[w]):"charge"==x||"radius"==x?v[x]=parseFloat(m[w]):r[x]=m[w]);r.properties=v;r.bonds=[];r.bondOrder=[]}d[d.length-1][q-g]=r}k=g+h-1}if(c.assignbonds)for(c=0;c<d.length;c++)l(d[c]);return d},c}();b=b||{};b.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,
"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,
"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,
"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,
"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};b.applyPartialCharges=function(c,e){e&&void 0!==c.partialCharge||!c.resn||!c.atom||(c.properties.partialCharge=
b.partialCharges[c.resn+":"+c.atom])};b.VolumeData=function(b,e,k){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,e=e.toLowerCase(),/\.gz$/.test(e)){e=e.replace(/\.gz$/,"");try{b=this[e]&&this[e].isbinary?pako.inflate(b):(new TextDecoder("utf-8")).decode(pako.inflate(b))}catch(h){console.log(h)}}if(this[e]&&this[e](b),k){if(k.negate)for(b=0,e=this.data.length;b<e;b++)this.data[b]=-this.data[b];if(k.normalize){k=b=0;for(e=
this.data.length;k<e;k++)b+=this.data[k];k=b/this.data.length;console.log("computed mean: "+k);e=b=0;for(var c=this.data.length;e<c;e++){var l=this.data[e]-k;b+=l*l}b/=this.data.length;e=0;for(c=this.data.length;e<c;e++)this.data[e]=(this.data[e]-k)/b}}};b.VolumeData.prototype.getVal=function(c,e,k){this.matrix?(this.inversematrix||(this.inversematrix=(new b.Matrix4).getInverse(this.matrix)),k=new b.Vector3(c,e,k),c=(k=k.applyMatrix4(this.inversematrix)).x,e=k.y,k=k.z):(c-=this.origin.x,e-=this.origin.y,
k-=this.origin.z,c/=this.unit.x,e/=this.unit.y,k/=this.unit.z);return c=Math.round(c),e=Math.round(e),k=Math.round(k),0>c||c>=this.size.x?0:0>e||e>=this.size.y?0:0>k||k>=this.size.z?0:this.data[c*this.size.y*this.size.z+e*this.size.z+k]};b.VolumeData.prototype.getCoordinates=function(b){var c=b/(this.size.y*this.size.z),k=b%(this.size.y*this.size.z);b%=this.size.z;return c*=this.unit.x,k*=this.unit.y,b*=this.unit.z,{x:c+this.origin.x,y:k+this.origin.y,z:b+this.origin.z}};b.VolumeData.prototype.vasp=
function(c){var e=c.replace(/^\s+/,"").split(/[\n\r]/),k=b.Parsers.vasp(c)[0].length;if(0==k)return console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var l=parseFloat(e[1]);c=e[2].replace(/^\s+/,"").split(/\s+/);var r=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*l);c=e[3].replace(/^\s+/,"").split(/\s+/);var h=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*
l);c=e[4].replace(/^\s+/,"").split(/\s+/);l=(new b.Vector3(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]))).multiplyScalar(1.889725992*l);c=1/(Math.abs(r.x*(h.y*l.z-l.y*h.z)-h.x*(r.y*l.z-l.y*r.z)+l.x*(r.y*h.z-h.y*r.z))/Math.pow(1.889725992,3));e.splice(0,8+k+1);var v=e[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");k=Math.abs(v[0]);var w=Math.abs(v[1]);v=Math.abs(v[2]);var x=this.origin=new b.Vector3(0,0,0);this.size={x:k,y:w,z:v};this.unit=new b.Vector3(r.x,h.y,l.z);r=r.multiplyScalar(1/
(1.889725992*k));h=h.multiplyScalar(1/(1.889725992*w));l=l.multiplyScalar(1/(1.889725992*v));0==r.y&&0==r.z&&0==h.x&&0==h.z&&0==l.x&&0==l.y||(this.matrix=new b.Matrix4(r.x,h.x,l.x,0,r.y,h.y,l.y,0,r.z,h.z,l.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(x.x,x.y,x.z)),this.origin=new b.Vector3(0,0,0),this.unit=new b.Vector3(1,1,1));e.splice(0,1);e=e.join(" ");(e=(e=e.replace(/^\s+/,"")).split(/[\s\r]+/)).splice(k*w*v+1);e=new Float32Array(e);for(r=
0;r<e.length;r++)e[r]=e[r]*c*.036749309;this.data=e};b.VolumeData.prototype.dx=function(c){var e,k=c.split(/[\n\r]+/),l=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,r=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,h=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,v=/data follows/;for(c=0;c<k.length;c++){var w=k[c];if(e=l.exec(w)){var x=parseInt(e[1]),A=parseInt(e[2]);e=parseInt(e[3]);this.size={x:x,y:A,z:e}}else if(e=h.exec(w)){x=parseFloat(e[1]);if(0==parseFloat(e[2])&&0==parseFloat(e[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),
w=k[c+=1],null==(e=h.exec(w)))return void console.log("Parse error in dx delta matrix");A=parseFloat(e[2]);if(0==parseFloat(e[1])&&0==parseFloat(e[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),w=k[c+=1],null==(e=h.exec(w)))return void console.log("Parse error in dx delta matrix");w=parseFloat(e[3]);0==parseFloat(e[1])&&0==parseFloat(e[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format");this.unit=new b.Vector3(x,A,w)}else if(e=
r.exec(w))x=parseFloat(e[1]),A=parseFloat(e[2]),e=parseFloat(e[3]),this.origin=new b.Vector3(x,A,e);else if(v.exec(w))break}(c+=1,this.size&&this.origin&&this.unit&&this.size)?(c=k.splice(c).join(" "),c=c.split(/[\s\r]+/),this.data=new Float32Array(c)):console.log("Error parsing dx format")};b.VolumeData.prototype.cube=function(c){c=c.replace(/^\s+/,"").split(/[\n\r]+/);if(!(6>c.length)){var e=c[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),k=parseFloat(e[0]),l=Math.abs(k),r=this.origin=new b.Vector3(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3])),h=0<(e=c[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[0]?.529177:1;r.multiplyScalar(h);var v=Math.abs(e[0]),w=(new b.Vector3(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(h);e=c[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var x=Math.abs(e[0]),A=(new b.Vector3(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(h);e=c[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var q=Math.abs(e[0]);e=(new b.Vector3(parseFloat(e[1]),
parseFloat(e[2]),parseFloat(e[3]))).multiplyScalar(h);this.size={x:v,y:x,z:q};this.unit=new b.Vector3(w.x,A.y,e.z);0==w.y&&0==w.z&&0==A.x&&0==A.z&&0==e.x&&0==e.y||(this.matrix=new b.Matrix4(w.x,A.x,e.x,0,w.y,A.y,e.y,0,w.z,A.z,e.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(r.x,r.y,r.z)),this.origin=new b.Vector3(0,0,0),this.unit=new b.Vector3(1,1,1));r=6;0>k&&r++;c=c.splice(l+r).join(" ");c=(c=c.replace(/^\s+/,"")).split(/[\s\r]+/);this.data=new Float32Array(c)}};
b.VolumeData.prototype.ccp4=function(c){var e,k;c=new Int8Array(c);var l=new Int32Array(c.buffer,0,56);var r=new Float32Array(c.buffer,0,56);var h=new DataView(c.buffer);if(String.fromCharCode(h.getUint8(208),h.getUint8(209),h.getUint8(210),h.getUint8(211)),e=[h.getUint8(212),h.getUint8(213)],17===e[0]&&17===e[1])for(e=c.byteLength,k=0;k<e;k+=4)h.setFloat32(k,h.getFloat32(k),!0);h=l[0];e=l[1];k=l[2];var v=l[4];var w=l[5];var x=l[6];var A=l[7];var q=l[8];var d=l[9];var f=r[10];var C=r[11];var g=r[12];
var F=r[13];var K=r[14];var B=r[15];var G=l[16];var z=l[17];var m=l[18];l=l[23];var V=r[49];var U=r[50];r=r[51];f=[f,0,0];C=[C*Math.cos(Math.PI/180*B),C*Math.sin(Math.PI/180*B),0];F=[g*Math.cos(Math.PI/180*K),g*(Math.cos(Math.PI/180*F)-Math.cos(Math.PI/180*B)*Math.cos(Math.PI/180*K))/Math.sin(Math.PI/180*B),0];F[2]=Math.sqrt(g*g*Math.sin(Math.PI/180*K)*Math.sin(Math.PI/180*K)-F[1]*F[1]);g=[0,f,C,F];A=[0,A,q,d];G=[0,G,z,m];this.matrix=new b.Matrix4;this.matrix.set(g[G[1]][0]/A[G[1]],g[G[2]][0]/A[G[2]],
g[G[3]][0]/A[G[3]],0,g[G[1]][1]/A[G[1]],g[G[2]][1]/A[G[2]],g[G[3]][1]/A[G[3]],0,g[G[1]][2]/A[G[1]],g[G[2]][2]/A[G[2]],g[G[3]][2]/A[G[3]],0,0,0,0,1);this.matrix=this.matrix.multiplyMatrices(this.matrix,(new b.Matrix4).makeTranslation(v+V,w+U,x+r));this.origin=new b.Vector3(0,0,0);this.unit=new b.Vector3(1,1,1);this.size={x:h,y:e,z:k};c=new Float32Array(c.buffer,1024+l);this.data=new Float32Array(h*e*k);for(v=0;v<h;v++)for(w=0;w<e;w++)for(x=0;x<k;x++)this.data[(v*e+w)*k+x]=c[(x*e+w)*h+v]};b.VolumeData.prototype.ccp4.isbinary=
!0;b.workerString=function(){self.onmessage=function(b){b=b.data;var c=b.type;if(0>c)self.atomData=b.atoms,self.volume=b.volume,self.ps=new ProteinSurface;else{var k=self.ps;k.initparm(b.expandedExtent,1!=c,self.volume);k.fillvoxels(self.atomData,b.extendedAtoms);k.buildboundary();4!==c&&2!==c||(k.fastdistancemap(),k.boundingatom(!1),k.fillvoxelswaals(self.atomData,b.extendedAtoms));k.marchingcube(c);b=k.getFacesAndVertices(b.atomsToShow);self.postMessage(b)}}}.toString().replace(/(^.*?\{|\}$)/g,
"");b.workerString+="; var ProteinSurface="+b.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,"MarchingCube.");b.workerString+=",MarchingCube=("+b.MarchingCubeInitializer.toString()+")();";b.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([b.workerString],{type:"text/javascript"})):{postMessage:function(){}};b.workerString=b.workerString;b.SurfaceWorker=b.SurfaceWorker}).call(this,F("VS3o"),F("EVdn"))},yLpj:function(x,da){da=function(){return this}();try{da=
da||(new Function("return this"))()}catch(F){"object"===typeof window&&(da=window)}x.exports=da}}]);
